(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9338db2e","chunk-165ac4a0","chunk-c28ad000","chunk-3f93175c","chunk-345dd7f2","chunk-912ab286","chunk-171ca186","chunk-7d993ace","chunk-c4993c78","chunk-68702101","chunk-d19c1a98","chunk-2727631f","chunk-2d0f012d"],{"0062":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"执行状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择执行状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"执行时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:export"],expression:"['monitor:job:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-close",size:"mini"},on:{click:e.handleClose}},[e._v("关闭")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobLogList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"日志编号",width:"80",align:"center",prop:"jobLogId"}}),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat,"show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"日志信息",align:"center",prop:"jobMessage","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"执行状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"执行时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"调度日志详细",visible:e.open,width:"700px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日志序号："}},[e._v(e._s(e.form.jobLogId))]),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.form.jobGroup))]),a("el-form-item",{attrs:{label:"执行时间："}},[e._v(e._s(e.form.createTime))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用方法："}},[e._v(e._s(e.form.invokeTarget))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"日志信息："}},[e._v(e._s(e.form.jobMessage))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"执行状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),a("el-col",{attrs:{span:24}},[1==e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.exceptionInfo))]):e._e()],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},n=[],o=(a("d81d"),a("a159")),l=a("b775");function i(e){return Object(l["a"])({url:"/monitor/jobLog/list",method:"get",params:e})}function s(e){return Object(l["a"])({url:"/monitor/jobLog/"+e,method:"delete"})}function c(){return Object(l["a"])({url:"/monitor/jobLog/clean",method:"delete"})}function u(e){return Object(l["a"])({url:"/monitor/jobLog/export",method:"get",params:e})}var m={name:"JobLog",data:function(){return{loading:!0,exportLoading:!1,ids:[],multiple:!0,showSearch:!0,total:0,jobLogList:[],open:!1,dateRange:[],form:{},statusOptions:[],jobGroupOptions:[],queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0}}},created:function(){var e=this,t=this.$route.query.jobId;void 0!==t&&0!=t?Object(o["e"])(t).then((function(t){e.queryParams.jobName=t.data.jobName,e.queryParams.jobGroup=t.data.jobGroup,e.getList()})):this.getList(),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,i(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.jobLogList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},jobGroupFormat:function(e,t){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},handleClose:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/monitor/job"})},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobLogId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=this.ids;this.$confirm('是否确认删除调度日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有调度日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有调度日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,u(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},d=m,p=a("2877"),f=Object(p["a"])(d,r,n,!1,null,null,null);t["default"]=f.exports},"02f2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"系统模块",prop:"title"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入系统模块",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),a("el-form-item",{attrs:{label:"操作人员",prop:"operName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.operName,callback:function(t){e.$set(e.queryParams,"operName",t)},expression:"queryParams.operName"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"businessType"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作类型",clearable:"",size:"small"},model:{value:e.queryParams.businessType,callback:function(t){e.$set(e.queryParams,"businessType",t)},expression:"queryParams.businessType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"操作时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:remove"],expression:"['monitor:operlog:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:remove"],expression:"['monitor:operlog:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:export"],expression:"['monitor:operlog:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tables",attrs:{data:e.list,"default-sort":e.defaultSort},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"日志编号",align:"center",prop:"operId"}}),a("el-table-column",{attrs:{label:"系统模块",align:"center",prop:"title"}}),a("el-table-column",{attrs:{label:"操作类型",align:"center",prop:"businessType",formatter:e.typeFormat}}),a("el-table-column",{attrs:{label:"请求方式",align:"center",prop:"requestMethod"}}),a("el-table-column",{attrs:{label:"操作人员",align:"center",prop:"operName",width:"100","show-overflow-tooltip":!0,sortable:"custom","sort-orders":["descending","ascending"]}}),a("el-table-column",{attrs:{label:"操作地址",align:"center",prop:"operIp",width:"130","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作地点",align:"center",prop:"operLocation","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"操作日期",align:"center",prop:"operTime",sortable:"custom","sort-orders":["descending","ascending"],width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.operTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:query"],expression:"['monitor:operlog:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row,t.index)}}},[e._v("详细")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"操作日志详细",visible:e.open,width:"700px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作模块："}},[e._v(e._s(e.form.title)+" / "+e._s(e.typeFormat(e.form)))]),a("el-form-item",{attrs:{label:"登录信息："}},[e._v(e._s(e.form.operName)+" / "+e._s(e.form.operIp)+" / "+e._s(e.form.operLocation))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"请求地址："}},[e._v(e._s(e.form.operUrl))]),a("el-form-item",{attrs:{label:"请求方式："}},[e._v(e._s(e.form.requestMethod))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"操作方法："}},[e._v(e._s(e.form.method))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"请求参数："}},[e._v(e._s(e.form.operParam))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"返回参数："}},[e._v(e._s(e.form.jsonResult))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作状态："}},[0===e.form.status?a("div",[e._v("正常")]):1===e.form.status?a("div",[e._v("失败")]):e._e()])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作时间："}},[e._v(e._s(e.parseTime(e.form.operTime)))])],1),a("el-col",{attrs:{span:24}},[1===e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.errorMsg))]):e._e()],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},n=[],o=(a("4e82"),a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/monitor/operlog/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/monitor/operlog/"+e,method:"delete"})}function s(){return Object(o["a"])({url:"/monitor/operlog/clean",method:"delete"})}function c(e){return Object(o["a"])({url:"/monitor/operlog/export",method:"get",params:e})}var u={name:"Operlog",data:function(){return{loading:!0,exportLoading:!1,ids:[],multiple:!0,showSearch:!0,total:0,list:[],open:!1,typeOptions:[],statusOptions:[],dateRange:[],defaultSort:{prop:"operTime",order:"descending"},form:{},queryParams:{pageNum:1,pageSize:10,title:void 0,operName:void 0,businessType:void 0,status:void 0}}},created:function(){var e=this;this.getList(),this.getDicts("sys_oper_type").then((function(t){e.typeOptions=t.data})),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.businessType)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.$refs.tables.sort(this.defaultSort.prop,this.defaultSort.order),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.operId})),this.multiple=!e.length},handleSortChange:function(e,t,a){this.queryParams.orderByColumn=e.prop,this.queryParams.isAsc=e.order,this.getList()},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=e.operId||this.ids;this.$confirm('是否确认删除日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return i(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,c(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},m=u,d=a("2877"),p=Object(d["a"])(m,r,n,!1,null,null,null);t["default"]=p.exports},"046a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictName,callback:function(t){e.$set(e.queryParams,"dictName",t)},expression:"queryParams.dictName"}})],1),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"字典状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:add"],expression:"['system:dict:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:export"],expression:"['system:dict:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-refresh",size:"mini"},on:{click:e.handleRefreshCache}},[e._v("刷新缓存")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"字典编号",align:"center",prop:"dictId"}}),a("el-table-column",{attrs:{label:"字典名称",align:"center",prop:"dictName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"字典类型",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:"/system/dict-data/index/"+t.row.dictId}},[a("span",[e._v(e._s(t.row.dictType))])])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.statusOptions,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.form.dictName,callback:function(t){e.$set(e.form,"dictName",t)},expression:"form.dictName"}})],1),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{attrs:{placeholder:"请输入字典类型"},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("ed45")),l={name:"Dict",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,typeList:[],title:"",open:!1,statusOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["e"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.typeList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictId:void 0,dictName:void 0,dictType:void 0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典类型"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictId})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictId||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典类型"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictId?Object(o["h"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.dictId||this.ids;this.$confirm('是否确认删除字典编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有类型数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},handleRefreshCache:function(){var e=this;Object(o["g"])().then((function(){e.msgSuccess("刷新成功")}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"061b":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},n=[],o={props:{src:{type:String,required:!0}},data:function(){return{height:document.documentElement.clientHeight-94.5+"px;",loading:!0,url:this.src}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),300);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},l=o,i=a("2877"),s=Object(i["a"])(l,r,n,!1,null,null,null);t["a"]=s.exports},"0641":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"绑定号码",prop:"userPhone"}},[a("el-input",{attrs:{placeholder:"请输入绑定号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userPhone,callback:function(t){e.$set(e.queryParams,"userPhone",t)},expression:"queryParams.userPhone"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",{attrs:{label:"项目",prop:"itemId"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},model:{value:e.queryParams.itemId,callback:function(t){e.$set(e.queryParams,"itemId",t)},expression:"queryParams.itemId"}},e._l(e.shopItemAllList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"产品",prop:"goodsId"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},model:{value:e.queryParams.goodsId,callback:function(t){e.$set(e.queryParams,"goodsId",t)},expression:"queryParams.goodsId"}},e._l(e.goodsSkuList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"下单时间",prop:"orderTime"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.queryParams.orderTimeAry,callback:function(t){e.$set(e.queryParams,"orderTimeAry",t)},expression:"queryParams.orderTimeAry"}})],1),a("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[a("el-select",{attrs:{placeholder:"请选择订单状态",clearable:"",size:"small"},model:{value:e.queryParams.orderStatus,callback:function(t){e.$set(e.queryParams,"orderStatus",t)},expression:"queryParams.orderStatus"}},e._l(e.orderStatusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"关键字",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入关键字，可查询备注信息",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.remark,callback:function(t){e.$set(e.queryParams,"remark",t)},expression:"queryParams.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorder:add"],expression:"['business:itemorder:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.itemorderList,"row-class-name":e.tableRowClassName,"show-summary":"","summary-method":e.getSummaries},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"门店",align:"center",prop:"shopName"}}),a("el-table-column",{attrs:{label:"购买用户",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"绑定号码",align:"center",prop:"userPhone"}}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"下单时间",align:"center",prop:"orderTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.orderTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"账户余额",align:"center",prop:"accountAmount"}}),a("el-table-column",{attrs:{label:"订单总金额",align:"center",prop:"sumAmount"}}),a("el-table-column",{attrs:{label:"次卡抵扣",align:"center",prop:"cardAmount"}}),a("el-table-column",{attrs:{label:"余额支付",align:"center",prop:"payment1"}}),a("el-table-column",{attrs:{label:"账户剩余金额",align:"center",prop:"accountAmount"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.accountAmount?t.row.accountAmount-t.row.payment1:0))])]}}])}),a("el-table-column",{attrs:{label:"产品账户支付",align:"center",prop:"payment2"}}),a("el-table-column",{attrs:{label:"现金支付",align:"center",prop:"payment3"}}),a("el-table-column",{attrs:{label:"银行卡支付",align:"center",prop:"payment4"}}),a("el-table-column",{attrs:{label:"挂账支付",align:"center",prop:"payment5"}}),a("el-table-column",{attrs:{label:"免费支付",align:"center",prop:"payment6"}}),a("el-table-column",{attrs:{label:"微信支付",align:"center",prop:"payment7"}}),a("el-table-column",{attrs:{label:"支付宝支付",align:"center",prop:"payment8"}}),a("el-table-column",{attrs:{label:"大众点评抵扣",align:"center",prop:"payment9"}}),a("el-table-column",{attrs:{label:"支付时间",align:"center",prop:"payTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.payTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"orderStatus",formatter:e.orderStatusFormat}}),a("el-table-column",{attrs:{label:"备注信息",align:"center",prop:"remark"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorder:edit"],expression:"['business:itemorder:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-info"},on:{click:function(a){return e.handleUpdate(t.row,!1)}}},[e._v("详情")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"01"===t.row.orderStatus,expression:"scope.row.orderStatus==='01'"},{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorder:edit"],expression:"['business:itemorder:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row,!0)}}},[e._v("编辑")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"03"===t.row.orderStatus,expression:"scope.row.orderStatus==='03'"},{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorder:edit"],expression:"['business:itemorder:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-success"},on:{click:function(a){return e.handlePayment(t.row)}}},[e._v("已结")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"02"===t.row.orderStatus,expression:"scope.row.orderStatus==='02'"}],attrs:{size:"mini",type:"text",icon:"el-icon-printer"},on:{click:function(a){return e.handlePrint(t.row,1)}}},[e._v("小票")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"01"===t.row.orderStatus,expression:"scope.row.orderStatus==='01'"},{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorder:remove"],expression:"['business:itemorder:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"02"===t.row.orderStatus,expression:"scope.row.orderStatus==='02'"}],attrs:{size:"mini",type:"text",icon:"el-icon-s-tools"},on:{click:function(a){return e.handleResetOrder(t.row,!0)}}},[e._v("调整撤单")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"1200px","append-to-body":"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"绑定号码",prop:"userPhone"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入绑定号码"},model:{value:e.form.userPhone,callback:function(t){e.$set(e.form,"userPhone",t)},expression:"form.userPhone"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:null==e.currentUserInfo.userId,expression:"currentUserInfo.userId==null"}],attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.queryCurrentUserFun},slot:"append"},[e._v("查询用户")])],1),a("strong",{staticStyle:{color:"red"}},[e._v(e._s(e.form.otherShop?"该用户属于其他分店："+e.form.otherShop:""))])],1),a("el-form-item",{attrs:{label:"购买用户",prop:"userName"}},[a("strong",[e._v(e._s(e.form.userName)+"--"+e._s(e.form.vipInfo))])]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.form.cardInfo,expression:"form.cardInfo"}],attrs:{label:"次卡信息"}},[a("strong",[a("div",{domProps:{innerHTML:e._s(e.form.cardInfo)}})])]),a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("strong",[e._v(e._s(e.form.orderCode))])]),a("el-divider",{attrs:{"content-position":"center"}},[a("strong",[e._v("* 消费项目")])]),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showSaveButton,expression:"showSaveButton"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAddOmsOrderItemDetail}},[e._v("添加")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showSaveButton,expression:"showSaveButton"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleDeleteOmsOrderItemDetail}},[e._v("删除")])],1)],1),a("el-table",{ref:"orderItemDetail",attrs:{data:e.orderItemList,"row-class-name":e.rowOmsOrderItemDetailIndex},on:{"selection-change":e.handleOmsOrderItemDetailSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),a("el-table-column",{attrs:{label:"序号",align:"center",prop:"index",width:"50"}}),a("el-table-column",{attrs:{label:"项目名称",prop:"consumerId"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请输入消费项目",size:"small","value-key":"id"},on:{change:function(){return e.shopItemChangeFun(t.row)}},model:{value:t.row.consumer,callback:function(a){e.$set(t.row,"consumer",a)},expression:"scope.row.consumer"}},e._l(e.shopItemList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),1)]}}])}),a("el-table-column",{attrs:{label:"单价",prop:"price",width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("strong",[e._v(e._s(t.row.consumer.price))])]}}])}),a("el-table-column",{attrs:{label:"数量",prop:"num"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{staticStyle:{width:"100px"},attrs:{step:1,min:1,placeholder:"请输入数量","controls-position":"right"},on:{change:function(){return e.shopItemChangeFun(t.row,1)}},model:{value:t.row.num,callback:function(a){e.$set(t.row,"num",a)},expression:"scope.row.num"}})]}}])}),a("el-table-column",{attrs:{label:"次卡剩余",prop:"cardNum"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("strong",[e._v(e._s(t.row.consumer.lastTimes))])]}}])}),a("el-table-column",{attrs:{label:"划卡次数",prop:"cardNum"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{staticStyle:{width:"100px"},attrs:{step:1,min:0,max:t.row.consumer.lastTimes,"controls-position":"right",placeholder:"请输入划卡次数"},on:{change:function(){return e.shopItemChangeFun(t.row,2)}},model:{value:t.row.cardNum,callback:function(a){e.$set(t.row,"cardNum",a)},expression:"scope.row.cardNum"}})]}}])}),a("el-table-column",{attrs:{label:"技师",prop:"consultant1"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请输入技师A",size:"small"},model:{value:t.row.consultant1,callback:function(a){e.$set(t.row,"consultant1",a)},expression:"scope.row.consultant1"}},e._l(e.consultantList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.nickName,value:e.userId}})})),1)]}}])}),a("el-table-column",{attrs:{label:"最终金额",prop:"finalAmount"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{staticStyle:{width:"120px"},attrs:{min:0,placeholder:"请输入最终金额","controls-position":"right"},model:{value:t.row.finalAmount,callback:function(a){e.$set(t.row,"finalAmount",a)},expression:"scope.row.finalAmount"}})]}}])})],1),a("el-divider",{attrs:{"content-position":"center"}},[a("strong",[e._v("* 消费产品")])]),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showSaveButton,expression:"showSaveButton"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAddItemProductDetail}},[e._v("添加")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showSaveButton,expression:"showSaveButton"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleDeleteItemProductDetail}},[e._v("删除")])],1)],1),a("el-table",{ref:"omsOrderProductDetail",attrs:{data:e.orderProductList,"row-class-name":e.rowItemProductDetailIndex},on:{"selection-change":e.handleItemProductDetailSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),a("el-table-column",{attrs:{label:"序号",align:"center",prop:"index",width:"50"}}),a("el-table-column",{attrs:{label:"产品名称",prop:"consumerId"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请输入消费项目",size:"small","value-key":"id"},on:{change:function(){return e.productChangeFun(t.row)}},model:{value:t.row.consumer,callback:function(a){e.$set(t.row,"consumer",a)},expression:"scope.row.consumer"}},e._l(e.goodsSkuList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),1)]}}])}),a("el-table-column",{attrs:{label:"单价",prop:"price",width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("strong",[e._v(e._s(t.row.consumer.price))])]}}])}),a("el-table-column",{attrs:{label:"数量",prop:"num"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{staticStyle:{width:"100px"},attrs:{step:1,min:1,placeholder:"请输入数量","controls-position":"right"},on:{change:function(){return e.productChangeFun(t.row)}},model:{value:t.row.num,callback:function(a){e.$set(t.row,"num",a)},expression:"scope.row.num"}})]}}])}),a("el-table-column",{attrs:{label:"方案",prop:"consultant1"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择方案",size:"small"},model:{value:t.row.subType,callback:function(a){e.$set(t.row,"subType",a)},expression:"scope.row.subType"}},[a("el-option",{attrs:{label:"方案1",value:"sub1"}}),a("el-option",{attrs:{label:"方案2",value:"sub2"}}),a("el-option",{attrs:{label:"方案3",value:"sub3"}})],1)]}}])}),a("el-table-column",{attrs:{label:"技师A",prop:"consultant1"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请输入技师A",size:"small"},model:{value:t.row.consultant1,callback:function(a){e.$set(t.row,"consultant1",a)},expression:"scope.row.consultant1"}},e._l(e.consultantList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.nickName,value:e.userId}})})),1)]}}])}),a("el-table-column",{attrs:{label:"分佣",prop:"consultant1Amount"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请输入技师A佣金",size:"small"},model:{value:t.row.consultant1Amount,callback:function(a){e.$set(t.row,"consultant1Amount",a)},expression:"scope.row.consultant1Amount"}},e._l(t.row.consumer[t.row.subType],(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)]}}])}),a("el-table-column",{attrs:{label:"技师B",prop:"consultant2"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请输入技师B",size:"small",disabled:"sub1"===t.row.subType},model:{value:t.row.consultant2,callback:function(a){e.$set(t.row,"consultant2",a)},expression:"scope.row.consultant2"}},e._l(e.consultantList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.nickName,value:e.userId}})})),1)]}}])}),a("el-table-column",{attrs:{label:"分佣",prop:"consultant2Amount"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请输入技师B佣金",size:"small",disabled:"sub1"===t.row.subType},model:{value:t.row.consultant2Amount,callback:function(a){e.$set(t.row,"consultant2Amount",a)},expression:"scope.row.consultant2Amount"}},e._l(t.row.consumer[t.row.subType],(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)]}}])}),a("el-table-column",{attrs:{label:"技师C",prop:"consultant3"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请输入技师C",size:"small",disabled:"sub1"===t.row.subType||"sub2"===t.row.subType},model:{value:t.row.consultant3,callback:function(a){e.$set(t.row,"consultant3",a)},expression:"scope.row.consultant3"}},e._l(e.consultantList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.nickName,value:e.userId}})})),1)]}}])}),a("el-table-column",{attrs:{label:"分佣",prop:"consultant3Amount"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请输入技师C佣金",size:"small",disabled:"sub1"===t.row.subType||"sub2"===t.row.subType},model:{value:t.row.consultant3Amount,callback:function(a){e.$set(t.row,"consultant3Amount",a)},expression:"scope.row.consultant3Amount"}},e._l(t.row.consumer[t.row.subType],(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)]}}])}),a("el-table-column",{attrs:{label:"最终金额",prop:"finalAmount"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,placeholder:"请输入最终金额","controls-position":"right"},model:{value:t.row.finalAmount,callback:function(a){e.$set(t.row,"finalAmount",a)},expression:"scope.row.finalAmount"}})]}}])})],1),a("el-form-item",{attrs:{label:"下单时间",prop:"orderTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择下单时间"},model:{value:e.form.orderTime,callback:function(t){e.$set(e.form,"orderTime",t)},expression:"form.orderTime"}})],1),a("el-form-item",{attrs:{label:"总金额",prop:"sumAmount"}},[a("el-input",{attrs:{placeholder:"请输入总金额"},model:{value:e.form.sumAmount,callback:function(t){e.$set(e.form,"sumAmount",t)},expression:"form.sumAmount"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.orderStatusBtn,expression:"!orderStatusBtn"}],staticStyle:{color:"red"}},[e._v("已支付金额:"),a("strong",[e._v(e._s(e.currentOrderAmount))]),e._v(","+e._s(e.currentOrderAmount>e.form.sumAmount?"还需退还："+(e.currentOrderAmount-e.form.sumAmount).toFixed(1):"还需支付："+(e.form.sumAmount-e.currentOrderAmount).toFixed(1)))]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showSaveButton&&e.form.cardAmount>0,expression:"!showSaveButton && form.cardAmount>0"}]},[a("strong",[e._v("次卡抵消: "+e._s(e.form.cardAmount))])])],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.orderStatusBtn&&e.currentOrderAmount>e.form.sumAmount,expression:"!orderStatusBtn && currentOrderAmount>form.sumAmount"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"退回账户余额",prop:"backPayment1"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入退回金额"},model:{value:e.form.backPayment1,callback:function(t){e.$set(e.form,"backPayment1",t)},expression:"form.backPayment1"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"退回产品账户余额",prop:"backPayment2"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入退回金额"},model:{value:e.form.backPayment2,callback:function(t){e.$set(e.form,"backPayment2",t)},expression:"form.backPayment2"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("strong",[e._v(" * 支付方式")])]),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:e.userBanlanceLabel,prop:"payment1"}},[a("el-input-number",{attrs:{min:0,step:1,max:e.orderStatusBtn?e.currentUserInfo.accountAmount:e.currentUserInfo.accountAmount+e.currentOrderPayment1,"controls-position":"right",placeholder:"请输入余额支付"},model:{value:e.form.payment1,callback:function(t){e.$set(e.form,"payment1",t)},expression:"form.payment1"}})],1),a("el-form-item",{attrs:{label:e.userProBanlanceLabel,prop:"payment2"}},[a("el-input-number",{attrs:{min:0,step:1,max:e.orderStatusBtn?e.currentUserInfo.productBalance:e.currentUserInfo.productBalance+e.currentOrderPayment2,"controls-position":"right",placeholder:"请输入产品账户支付"},model:{value:e.form.payment2,callback:function(t){e.$set(e.form,"payment2",t)},expression:"form.payment2"}})],1),a("el-form-item",{attrs:{label:"现金支付",prop:"payment3"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入现金支付"},model:{value:e.form.payment3,callback:function(t){e.$set(e.form,"payment3",t)},expression:"form.payment3"}})],1),a("el-form-item",{attrs:{label:"银行卡支付",prop:"payment4"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入银行卡支付"},model:{value:e.form.payment4,callback:function(t){e.$set(e.form,"payment4",t)},expression:"form.payment4"}})],1),a("el-form-item",{attrs:{label:"挂账支付",prop:"payment5"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入挂账支付"},model:{value:e.form.payment5,callback:function(t){e.$set(e.form,"payment5",t)},expression:"form.payment5"}})],1),a("el-form-item",{attrs:{label:"免费支付",prop:"payment6"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入免费支付"},model:{value:e.form.payment6,callback:function(t){e.$set(e.form,"payment6",t)},expression:"form.payment6"}})],1),a("el-form-item",{attrs:{label:"微信支付",prop:"payment7"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入微信支付"},model:{value:e.form.payment7,callback:function(t){e.$set(e.form,"payment7",t)},expression:"form.payment7"}})],1),a("el-form-item",{attrs:{label:"支付宝支付",prop:"payment8"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入支付宝支付"},model:{value:e.form.payment8,callback:function(t){e.$set(e.form,"payment8",t)},expression:"form.payment8"}})],1),a("el-form-item",{attrs:{label:"大众点评抵扣金额",prop:"payment9"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入大众点评抵扣金额"},model:{value:e.form.payment9,callback:function(t){e.$set(e.form,"payment9",t)},expression:"form.payment9"}})],1)],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.orderStatusBtn,expression:"orderStatusBtn"}],attrs:{label:"订单状态"}},[a("el-radio-group",{model:{value:e.form.orderStatus,callback:function(t){e.$set(e.form,"orderStatus",t)},expression:"form.orderStatus"}},e._l(e.orderStatusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(" "+e._s(t.dictLabel)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"备注信息",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"附件"}},[a("fileUpload",{model:{value:e.form.orderFile,callback:function(t){e.$set(e.form,"orderFile",t)},expression:"form.orderFile"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showSaveButton,expression:"showSaveButton"}],attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"打印小票",visible:e.dialogVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{font:"11px 黑体,Arial Narrow,HELVETICA","line-height":"20px"},attrs:{id:"printMe"}},[a("h3",{staticClass:"text-center",staticStyle:{"font-size":"22px"}},[e._v("FYAN复颜")]),a("div",[a("div",[e._v("尊敬的"+e._s(e.form.userName)+"先生/女士:")]),a("div",[e._v("卡号: "+e._s(e.form.orderCode))]),a("div",[e._v("时间: "+e._s(e.form.payTime))]),0!=e.orderItemList.length?a("div",[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{width:"35%"}},[e._v("项目名称")]),a("div",{staticStyle:{width:"20%"}},[e._v("数量")]),a("div",{staticStyle:{width:"20%"}},[e._v("单价")]),a("div",{staticStyle:{width:"25%"}},[e._v("折后价")])]),e._l(e.orderItemList,(function(t){return a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{width:"35%"}},[e._v(e._s(t.consumerName))]),a("div",{staticStyle:{width:"20%"}},[e._v(e._s(t.num))]),a("div",{staticStyle:{width:"20%"}},[e._v(e._s(t.consumer.price))]),a("div",{staticStyle:{width:"25%"}},[e._v(e._s(t.finalAmount))])])}))],2):e._e(),0!=e.orderProductList.length?a("div",[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{width:"35%"}},[e._v("产品名称")]),a("div",{staticStyle:{width:"20%"}},[e._v("数量")]),a("div",{staticStyle:{width:"20%"}},[e._v("单价")]),a("div",{staticStyle:{width:"25%"}},[e._v("折后价")])]),e._l(e.orderProductList,(function(t){return a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{width:"35%"}},[e._v(e._s(t.consumerName))]),a("div",{staticStyle:{width:"20%"}},[e._v(e._s(t.num))]),a("div",{staticStyle:{width:"20%"}},[e._v(e._s(t.price))]),a("div",{staticStyle:{width:"25%"}},[e._v(e._s(t.finalAmount))])])}))],2):e._e(),a("div",[e._v("初期余额: "+e._s(e.form.accountAmount?e.form.accountAmount:e.currentUserInfo.accountAmount))]),a("div",[e._v("账户余额支付: "+e._s(e.form.payment1))]),a("div",[e._v("产品账户支付: "+e._s(e.form.payment2))]),a("div",[e._v("现金支付: "+e._s(e.form.payment3))]),a("div",[e._v("银行卡支付: "+e._s(e.form.payment4))]),a("div",[e._v("挂账支付: "+e._s(e.form.payment5))]),a("div",[e._v("免费支付: "+e._s(e.form.payment6))]),a("div",[e._v("微信支付: "+e._s(e.form.payment7))]),a("div",[e._v("支付宝支付: "+e._s(e.form.payment8))]),a("div",[e._v("大众点评抵扣金额: "+e._s(e.form.payment9))]),a("div",[e._v("次卡抵消: "+e._s(e.form.cardAmount))]),a("div",[e._v("订单合计: "+e._s(e.form.sumAmount+e.form.cardAmount))]),a("div",[e._v("基本账户现存余额: "+e._s(e.form.accountAmount?e.form.accountAmount-e.form.payment1:e.currentUserInfo.accountAmount))]),a("div",[e._v("产品账户现存余额: "+e._s(e.currentUserInfo.productBalance))]),a("div",[e._v("挂账金额: "+e._s(e.form.payment5))]),a("div",[e._v("次卡剩余情况: "+e._s(e.form.numberCard))]),a("div",[e._v("特别提示: 护肤品为私人用品")]),a("div",[e._v("售后无质量问题概不退换，谢谢。")]),a("div",[e._v("会员签字确认:")]),a("div",{staticStyle:{"margin-top":"100px"}},[a("div",[e._v(" FYAN复颜欢迎您的光临！！！ ")]),a("div",[e._v("地址："+e._s(e.shopInfo.address))]),a("div",[e._v("电话："+e._s(e.shopInfo.phone))])])])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],attrs:{type:"primary"}},[e._v("打 印")])],1)])],1)},n=[],o=(a("d3b7"),a("159b"),a("d81d"),a("a434"),a("a9e3"),a("ebf6")),l=a("8c64"),i=a("ec01"),s=a("c0c7"),c=a("c38a"),u=a("ed08"),m=(a("0e04"),{name:"Itemorder",data:function(){return{dialogVisible:!1,loading:!0,exportLoading:!1,ids:[],itemorderList:[],checkedOrderItemDetail:[],checkedOrderProductDetail:[],single:!0,showSaveButton:!0,orderStatusBtn:!0,multiple:!0,showSearch:!0,total:0,currentUserId:1,currentUserInfo:{},userBanlanceLabel:"卡结算：账户余额(0.00):",userProBanlanceLabel:"   产品账户(0.00):",currentOrderAmount:0,currentOrderPayment1:0,currentOrderPayment2:0,shopItemList:[],goodsSkuList:[],consultantList:[],orderItemList:[],orderProductList:[],shopinfoList:[],shopItemAllList:[],title:"",open:!1,orderStatusOptions:[],queryParams:{pageNum:1,applyId:null,orderTimeAry:[],pageSize:10,userPhone:null,userName:null,orderCode:null,orderTime:null,outTradeNo:null,orderType:null,remark:null,payTime:null,orderStatus:null,itemId:null,goodsId:null,params:{}},shopInfo:{},form:{orderTime:new Date},rules:{},orderInfo:{},printObj:{id:"printMe",popTitle:"打印模板",extraHead:'<meta http-equiv="Content-Language"content="zh-cn"/>',openCallback:function(e){},closeCallback:function(e){}}}},watch:{orderItemList:{handler:function(e){var t=0;this.orderItemList.forEach((function(e){t+=e.finalAmount})),this.orderProductList.forEach((function(e){t+=e.finalAmount})),this.form.sumAmount=t},deep:!0},orderProductList:{handler:function(e){var t=0;this.orderItemList.forEach((function(e){t+=e.finalAmount})),this.orderProductList.forEach((function(e){t+=e.finalAmount})),this.form.sumAmount=t},deep:!0}},created:function(){var e=this,t=this.$route.query&&this.$route.query.applyId;console.log(t),t&&Object(u["e"])(t)&&(this.queryParams.applyId=t),this.getConsultantList(),this.getAllItemList(),this.getShopItemsAll(),this.getAllSkuList(),this.getList(),this.getDicts("sys_item_order_status").then((function(t){e.orderStatusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,this.queryParams.orderTimeAry?(this.queryParams.params.beginTime=this.queryParams.orderTimeAry[0],this.queryParams.params.endTime=this.queryParams.orderTimeAry[1]):(this.queryParams.params.beginTime="",this.queryParams.params.endTime=""),Object(o["i"])(this.queryParams).then((function(t){e.itemorderList=t.rows,e.total=t.total,e.loading=!1}))},getAllItemList:function(){var e=this;Object(l["b"])({userId:this.currentUserId}).then((function(t){e.shopItemList=t.data}))},getShopItemsAll:function(){var e=this;Object(l["g"])({}).then((function(t){e.shopItemAllList=t.rows}))},getAllSkuList:function(){var e=this;Object(i["d"])().then((function(t){e.goodsSkuList=t.data}))},getConsultantList:function(){var e=this;Object(s["i"])().then((function(t){e.consultantList=t.data}))},orderStatusFormat:function(e,t){return this.selectDictLabel(this.orderStatusOptions,e.orderStatus)},cancel:function(){this.open=!1,this.orderStatusBtn=!0,this.currentUserInfo={},this.currentOrderAmount=0,this.currentOrderPayment1=0,this.currentOrderPayment2=0,this.reset()},reset:function(){this.form={id:null,shopId:null,userId:null,userName:null,userPhone:null,orderCode:null,otherShop:null,orderTime:new Date,outTradeNo:null,orderType:null,sumAmount:0,payType:null,backPayment1:null,backPayment2:null,payment1:null,payment2:null,payment3:null,payment4:null,payment5:null,payment6:null,payment7:null,payment8:null,payment9:null,cardAmount:null,payTime:null,orderStatus:"01",remark:null,orderFile:null,createTime:null,createBy:null,updateTime:null,updateBy:null,vipInfo:null},this.orderItemList=[],this.currentUserId=null,this.currentUserInfo={},this.orderProductList=[],this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},tableRowClassName:function(e){var t=e.row;return"03"===t.orderStatus?"warning-row":""},handleAdd:function(){this.reset(),this.open=!0,this.title="添加项目订单管理"},handleUpdate:function(e,t){var a=this;this.reset(),this.showSaveButton=t;var r=e.id||this.ids;Object(o["f"])(r).then((function(e){a.form=e.orderItem,a.orderItemList=e.orderItemList,a.orderProductList=e.orderProductList,a.queryCurrentUserFun(),a.open=!0,a.title=t?"修改项目订单管理":"项目订单详情"}))},handleResetOrder:function(e,t){var a=this;this.reset(),this.showSaveButton=t;var r=e.id||this.ids;Object(o["f"])(r).then((function(e){a.form=e.orderItem,a.currentOrderAmount=e.orderItem.sumAmount,a.currentOrderPayment1=e.orderItem.payment1,a.currentOrderPayment2=e.orderItem.payment2,"02"===a.form.orderStatus?a.orderStatusBtn=!1:a.orderStatusBtn=!0,a.form.backPayment1=0,a.form.backPayment2=0,a.orderItemList=e.orderItemList,a.orderProductList=e.orderProductList,a.queryCurrentUserFun(),a.open=!0,a.title=t?"调整撤销项目订单":"项目订单详情"}))},handlePrint:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(console.log(1==a),1==a){this.dialogVisible=!0;var r=t.id||this.ids;Object(o["f"])(r).then((function(t){e.form=t.orderItem,e.form.numberCard=t.numberCard,e.orderItemList=t.orderItemList,e.orderProductList=t.orderProductList,e.shopInfo=t.shopInfo,e.queryCurrentUserFun()}))}else this.msgSuccess("功能正在建设中")},handlePayment:function(e){var t=this;this.$confirm('是否确认编号为["'+e.orderCode+'"]的订单欠款金额 [￥'+e.payment5+"] 全部结清?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["j"])(e.id)})).then((function(){t.getList(),t.msgSuccess("操作成功")})).catch((function(){}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.form.orderTime=Object(c["d"])(e.form.orderTime,"{y}-{m}-{d} {h}:{i}:{s}"),e.form.orderItemList=e.orderItemList,e.form.orderProductList=e.orderProductList;var a=e.form.payment1+e.form.payment2+e.form.payment3+e.form.payment4+e.form.payment5+e.form.payment6+e.form.payment7+e.form.payment8+e.form.payment9;if(null!=e.form.id)if(e.orderStatusBtn){if(a!=e.form.sumAmount)return e.msgError("支付金额与总金额不符，请认真填写！"),!1;Object(o["l"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()}))}else{var r=e.form.sumAmount+e.form.backPayment1+e.form.backPayment2;if(a!=r)return e.msgError("支付金额与总金额不符，请认真填写！"),!1;Object(o["k"])(e.form).then((function(t){e.msgSuccess("设置订单成功"),e.open=!1,e.orderStatusBtn=!0,e.getList()}))}else Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()}))}}))},handleDelete:function(e){var t=this,a=e.id;this.$confirm('是否确认删除项目订单管理编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},rowOmsOrderItemDetailIndex:function(e){var t=e.row,a=e.rowIndex;t.index=a+1},handleAddOmsOrderItemDetail:function(){var e={consumerType:1,consumerId:"",consumer:{},price:0,num:"",cardNum:"",consultant1:"",consultant1Amount:"",consultant2:"",consultant2Amount:"",consultant3:"",consultant3Amount:"",finalAmount:0};this.orderItemList.push(e)},handleDeleteOmsOrderItemDetail:function(){0==this.checkedOrderItemDetail.length?this.$alert("请先选择要删除的项目订单详情数据","提示",{confirmButtonText:"确定"}):this.orderItemList.splice(this.checkedOrderItemDetail[0].index-1,1)},handleOmsOrderItemDetailSelectionChange:function(e){e.length>1?(this.$refs.orderItemDetail.clearSelection(),this.$refs.orderItemDetail.toggleRowSelection(e.pop())):this.checkedOrderItemDetail=e},rowItemProductDetailIndex:function(e){var t=e.row,a=e.rowIndex;t.index=a+1},handleAddItemProductDetail:function(e){var t={consumerType:2,consumerId:"",consumer:{},price:0,num:"",cardNum:"",subType:"sub1",consultant1:"",consultant1Amount:"",consultant2:"",consultant2Amount:"",consultant3:"",consultant3Amount:"",finalAmount:0};this.orderProductList.push(t)},handleDeleteItemProductDetail:function(){0==this.checkedOrderProductDetail.length?this.$alert("请先选择要删除的项目订单详情数据","提示",{confirmButtonText:"确定"}):this.orderProductList.splice(this.checkedOrderProductDetail[0].index-1,1)},handleItemProductDetailSelectionChange:function(e){e.length>1?(this.$refs.omsOrderProductDetail.clearSelection(),this.$refs.omsOrderProductDetail.toggleRowSelection(e.pop())):this.checkedOrderProductDetail=e},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有项目订单管理数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["e"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},shopItemChangeFun:function(e,t){var a=e.consumer.discountPrice,r=e.num,n=e.cardNum;n>r&&2===t&&(e.cardNum=0),n=e.cardNum,e.cardId=e.consumer.cardId,e.finalAmount=a*(r-n),e.consumerId=e.consumer.id},productChangeFun:function(e){var t=e.consumer.price,a=e.num;e.consumerId=e.consumer.id,e.finalAmount=t*a},queryCurrentUserFun:function(){var e=this;Object(o["h"])(this.form.userPhone).then((function(t){if(!t.userInfo)return e.msgError("用户信息不存在"),!1;e.currentUserInfo=t.userInfo;var a=t.vipInfo;a&&(e.form.vipInfo="("+a.vipName+",优惠比例:"+a.discount+")");var r=t.numberCard;e.form.cardInfo=r||null,e.form.userName=e.currentUserInfo.nickName,e.form.orderCode||(e.form.orderCode=t.orderCode),e.form.otherShop||(e.form.otherShop=t.otherShop),e.form.userId=e.currentUserInfo.userId,e.currentUserId=e.currentUserInfo.userId,e.userBanlanceLabel="卡结算：账户余额("+e.currentUserInfo.accountAmount+")",e.userProBanlanceLabel="   产品账户("+e.currentUserInfo.productBalance+")",e.getAllItemList()}))},handleClose:function(e){e()},getSummaries:function(e){var t=e.columns,a=e.data,r=[];return t.forEach((function(e,t){if(2!==t){var n=a.map((function(t){return Number(t[e.property])}));n.every((function(e){return isNaN(e)}))||"userPhone"==e.property||"orderStatus"==e.property||"remark"==e.property?r[t]="":(r[t]=n.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0),r[t]+=" 元")}else r[t]="总价"})),r}}}),d=m,p=(a("bbbc"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,null,null);t["default"]=f.exports},"08ad":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"购买用户",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入购买用户",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangeOrderTime,callback:function(t){e.daterangeOrderTime=t},expression:"daterangeOrderTime"}})],1),a("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[a("el-select",{attrs:{placeholder:"请选择订单状态",clearable:"",size:"small"},model:{value:e.queryParams.orderStatus,callback:function(t){e.$set(e.queryParams,"orderStatus",t)},expression:"queryParams.orderStatus"}},e._l(e.orderStatusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:order:add"],expression:"['exam:order:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:order:edit"],expression:"['exam:order:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:order:remove"],expression:"['exam:order:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:order:export"],expression:"['exam:order:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出 ")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.orderList,"span-method":e.objectSpanMethod},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"itemProductName"}}),a("el-table-column",{attrs:{label:"下单时间",align:"center",prop:"orderTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.orderTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"购买用户",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"订单金额",align:"center",prop:"price"}}),a("el-table-column",{attrs:{label:"运费",align:"center",prop:"freightAmount"}}),a("el-table-column",{attrs:{label:"总金额",align:"center",prop:"sumAmount"}}),a("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"orderStatus",formatter:e.orderStatusFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:order:edit"],expression:"['exam:order:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-query"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("详情 ")]),"04"==t.row.productType&&"02"==t.row.commentStatus?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:order:edit"],expression:"['exam:order:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleSend(t.row)}}},[e._v("发货 ")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.form.itemProductName,callback:function(t){e.$set(e.form,"itemProductName",t)},expression:"form.itemProductName"}})],1),a("el-form-item",{attrs:{label:"订单编号"}},[a("el-input",{attrs:{placeholder:"请输入订单编号"},model:{value:e.form.orderCode,callback:function(t){e.$set(e.form,"orderCode",t)},expression:"form.orderCode"}})],1),a("el-form-item",{attrs:{label:"下单时间",prop:"orderTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择下单时间"},model:{value:e.form.orderTime,callback:function(t){e.$set(e.form,"orderTime",t)},expression:"form.orderTime"}})],1),a("el-form-item",{attrs:{label:"购买用户",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入购买用户"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),a("el-form-item",{attrs:{label:"订单金额",prop:"orderAmount"}},[a("el-input",{attrs:{placeholder:"请输入订单金额"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"运费",prop:"freightAmount"}},[a("el-input",{attrs:{placeholder:"请输入运费"},model:{value:e.form.freightAmount,callback:function(t){e.$set(e.form,"freightAmount",t)},expression:"form.freightAmount"}})],1),a("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[a("el-select",{attrs:{placeholder:"请选择订单状态"},model:{value:e.form.orderStatus,callback:function(t){e.$set(e.form,"orderStatus",t)},expression:"form.orderStatus"}},e._l(e.orderStatusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"发货快递",prop:"logisticsCode"}},[a("el-input",{attrs:{placeholder:"请输入发货快递"},model:{value:e.form.logisticsType,callback:function(t){e.$set(e.form,"logisticsType",t)},expression:"form.logisticsType"}})],1),a("el-form-item",{attrs:{label:"物流单号",prop:"logisticsCode"}},[a("el-input",{attrs:{placeholder:"请输入物流单号"},model:{value:e.form.logisticsCode,callback:function(t){e.$set(e.form,"logisticsCode",t)},expression:"form.logisticsCode"}})],1),a("el-form-item",{attrs:{label:"收货人姓名",prop:"takeUser"}},[a("el-input",{attrs:{placeholder:"请输入收货人姓名"},model:{value:e.form.takeUser,callback:function(t){e.$set(e.form,"takeUser",t)},expression:"form.takeUser"}})],1),a("el-form-item",{attrs:{label:"收货人手机号",prop:"takePhone"}},[a("el-input",{attrs:{placeholder:"请输入收货人手机号"},model:{value:e.form.takePhone,callback:function(t){e.$set(e.form,"takePhone",t)},expression:"form.takePhone"}})],1),a("el-form-item",{attrs:{label:"收货人地址",prop:"takeAddress"}},[a("el-input",{attrs:{placeholder:"请输入收货人地址"},model:{value:e.form.takeAddress,callback:function(t){e.$set(e.form,"takeAddress",t)},expression:"form.takeAddress"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.openPublish,width:"700px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openPublish=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"收货人姓名",prop:"takeUser"}},[a("el-input",{attrs:{placeholder:"请输入收货人姓名",readonly:""},model:{value:e.form.takeUser,callback:function(t){e.$set(e.form,"takeUser",t)},expression:"form.takeUser"}})],1),a("el-form-item",{attrs:{label:"收货人手机号",prop:"takePhone"}},[a("el-input",{attrs:{placeholder:"请输入收货人手机号",readonly:""},model:{value:e.form.takePhone,callback:function(t){e.$set(e.form,"takePhone",t)},expression:"form.takePhone"}})],1),a("el-form-item",{attrs:{label:"收货人地址",prop:"takeAddress"}},[a("el-input",{attrs:{placeholder:"请输入收货人地址",readonly:""},model:{value:e.form.takeAddress,callback:function(t){e.$set(e.form,"takeAddress",t)},expression:"form.takeAddress"}})],1),a("el-form-item",{attrs:{label:"发货快递",prop:"logisticsType"}},[a("el-select",{attrs:{placeholder:"请选择发货快递"},model:{value:e.form.logisticsType,callback:function(t){e.$set(e.form,"logisticsType",t)},expression:"form.logisticsType"}},e._l(e.logisticsTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"快递单号",prop:"logisticsCode"}},[a("el-input",{attrs:{placeholder:"请输入快递单号"},model:{value:e.form.logisticsCode,callback:function(t){e.$set(e.form,"logisticsCode",t)},expression:"form.logisticsCode"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提 交")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=a("b85c"),l=(a("b64b"),a("7db0"),a("d3b7"),a("d81d"),a("b0c0"),a("b775"));function i(e){return Object(l["a"])({url:"/exam/order/listOrderDetails",method:"get",params:e})}function s(e){return Object(l["a"])({url:"/exam/order",method:"put",data:e})}function c(e){return Object(l["a"])({url:"/exam/order/"+e,method:"delete"})}function u(e){return Object(l["a"])({url:"/exam/order/export",method:"get",params:e})}var m=a("d43d"),d={name:"Order",data:function(){return{openPublish:!1,loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,orderList:[],title:"",open:!1,daterangeOrderTime:[],orderStatusOptions:[],logisticsTypeOptions:[],queryParams:{pageNum:1,pageSize:10,userName:null,orderCode:null,orderTime:null,orderStatus:null},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_order_status").then((function(t){e.orderStatusOptions=t.data})),this.getDicts("sys_logistics_type").then((function(t){e.logisticsTypeOptions=t.data}))},methods:{objectSpanMethod:function(e){e.row,e.column,e.rowIndex,e.columnIndex},getList:function(){var e=this;this.loading=!0,this.queryParams.params={},null!=this.daterangeOrderTime&&""!=this.daterangeOrderTime&&(this.queryParams.params["beginOrderTime"]=this.daterangeOrderTime[0],this.queryParams.params["endOrderTime"]=this.daterangeOrderTime[1]),i(this.queryParams).then((function(t){e.orderList=t.rows;for(var a={},r=0;r<e.orderList.length;r++)a.hasOwnProperty(e.orderList[r].id)?a[e.orderList[r].id]=a[e.orderList[r].id]+1:a[e.orderList[r].id]=1;var n,l=Object.keys(a),i=Object(o["a"])(e.orderList);try{var s=function(){var e=n.value,t=l.find((function(t){return t==e.id}));t&&(e["rowCount"]=a[e.id],delete a[e.id])};for(i.s();!(n=i.n()).done;)s()}catch(c){i.e(c)}finally{i.f()}e.total=t.total,e.loading=!1}))},orderStatusFormat:function(e,t){if("04"==e.productType){var a="";return"01"==e.commentStatus?a="未点评":"02"==e.commentStatus?a="点评中":"03"==e.commentStatus&&(a="已点评"),a}return this.selectDictLabel(this.orderStatusOptions,e.orderStatus)},logisticsTypeFormat:function(e,t){return this.selectDictLabel(this.logisticsTypeOptions,e.logisticsType)},cancel:function(){this.open=!1,this.openPublish=!1,this.reset()},reset:function(){this.form={id:null,userId:null,userName:null,productName:null,orderCode:null,orderTime:null,orderAmount:null,freightAmount:null,sumAmount:null,payTime:null,orderStatus:null,logisticsCode:null,logisticsType:null,takeUser:null,takePhone:null,takeAddress:null,createTime:null,createBy:null,updateTime:null,updateBy:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangeOrderTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加订单"},handleUpdate:function(e){this.reset(),this.form=e,console.log(this.form),this.title="订单详情",this.open=!0},handleSend:function(e){this.form=e,this.title="订单发货",this.openPublish=!0},submitForm:function(){var e=this,t={id:this.form.itemId,commentStatus:"03",remarkPerson:this.$store.state.user.name},a={id:this.form.id,logisticsCode:this.form.logisticsCode,logisticsType:this.form.logisticsType,orderStatus:"03"};Object(m["f"])(t).then((function(t){s(a).then((function(t){e.$message(t.msg),e.cancel(),e.getList()}))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除订单编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有订单数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,u(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},"0984":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:content:add"],expression:"['baseconfig:content:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:content:edit"],expression:"['baseconfig:content:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:content:remove"],expression:"['baseconfig:content:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.contentList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title"}}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),a("el-table-column",{attrs:{label:"是否可用",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:content:edit"],expression:"['baseconfig:content:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:content:remove"],expression:"['baseconfig:content:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"850px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"文本内容",prop:"content"}},[a("editor",{attrs:{"min-height":192},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),a("el-form-item",{attrs:{label:"是否可用"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/baseconfig/content/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/baseconfig/content/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/baseconfig/content",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/baseconfig/content",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/baseconfig/content/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/baseconfig/content/export",method:"get",params:e})}var d={name:"Content",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,contentList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,title:null},form:{},rules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}],content:[{required:!0,message:"内容不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.contentList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,title:null,remark:null,content:null,status:"Y",createBy:null,createTime:null,updateBy:null,updateTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加文本管理"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改文本管理"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除文本管理编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有文本管理数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},"0986":function(e,t,a){},"0a5c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],o=a("313e"),l=a.n(o),i=a("feb2");a("817d");var s=3e3,c={mixins:[i["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=l.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Techology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:s}]})}}},u=c,m=a("2877"),d=Object(m["a"])(u,r,n,!1,null,null,null);t["default"]=d.exports},"0e04":function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"h",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return m}));var r=a("b775");function n(e){return Object(r["a"])({url:"/shop/shopinfo/list",method:"get",params:e})}function o(){return Object(r["a"])({url:"/shop/shopinfo/queryAllShopList",method:"get"})}function l(){return Object(r["a"])({url:"/shop/shopinfo/getShopAnalysisData",method:"get"})}function i(e){return Object(r["a"])({url:"/shop/shopinfo/"+e,method:"get"})}function s(e){return Object(r["a"])({url:"/shop/shopinfo",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/shop/shopinfo",method:"put",data:e})}function u(e){return Object(r["a"])({url:"/shop/shopinfo/"+e,method:"delete"})}function m(e){return Object(r["a"])({url:"/shop/shopinfo/export",method:"get",params:e})}},"164d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:vip:add"],expression:"['business:vip:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:vip:edit"],expression:"['business:vip:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:vip:remove"],expression:"['business:vip:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:vip:export"],expression:"['business:vip:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.vipList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"VIP等级",align:"center",prop:"vipLevel"}}),a("el-table-column",{attrs:{label:"vip名称",align:"center",prop:"vipName"}}),a("el-table-column",{attrs:{label:"充值金额",align:"center",prop:"rechargeAmount"}}),a("el-table-column",{attrs:{label:"消费折扣",align:"center",prop:"discount"}}),a("el-table-column",{attrs:{label:"展示头像",align:"center",prop:"vipImg"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px"},attrs:{fit:"cover",src:e.row.vipImg}})]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),a("el-table-column",{attrs:{label:"是否可用",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:vip:edit"],expression:"['business:vip:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:vip:remove"],expression:"['business:vip:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"650px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"vip等级",prop:"vipName"}},[a("el-input-number",{attrs:{placeholder:"请输入vip等级"},model:{value:e.form.vipLevel,callback:function(t){e.$set(e.form,"vipLevel",t)},expression:"form.vipLevel"}})],1),a("el-form-item",{attrs:{label:"vip名称",prop:"vipName"}},[a("el-input",{attrs:{placeholder:"请输入vip名称"},model:{value:e.form.vipName,callback:function(t){e.$set(e.form,"vipName",t)},expression:"form.vipName"}})],1),a("el-form-item",{attrs:{label:"充值金额",prop:"rechargeAmount"}},[a("el-input",{attrs:{placeholder:"请输入充值金额"},model:{value:e.form.rechargeAmount,callback:function(t){e.$set(e.form,"rechargeAmount",t)},expression:"form.rechargeAmount"}})],1),a("el-form-item",{attrs:{label:"消费折扣",prop:"discount"}},[a("el-input",{attrs:{placeholder:"请输入消费折扣"},model:{value:e.form.discount,callback:function(t){e.$set(e.form,"discount",t)},expression:"form.discount"}})],1),a("el-form-item",{attrs:{label:"展示头像"}},[a("imageUpload",{model:{value:e.form.vipImg,callback:function(t){e.$set(e.form,"vipImg",t)},expression:"form.vipImg"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"是否可用"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("3986")),l={name:"Vip",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,vipList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["f"])(this.queryParams).then((function(t){e.vipList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={vipLevel:null,vipName:null,rechargeAmount:null,discount:null,vipImg:null,remark:null,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.vipLevel})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.form.oldVipLevel=void 0,this.title="添加会员等级配置"},handleUpdate:function(e){var t=this;this.reset();var a=e.vipLevel||this.ids;Object(o["e"])(a).then((function(e){t.form=e.data,t.form.oldVipLevel=t.form.vipLevel,t.open=!0,t.title="修改会员等级配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.oldVipLevel?Object(o["g"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.vipLevel||this.ids;this.$confirm('是否确认删除会员等级配置编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有会员等级配置数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},1825:function(e,t,a){},"1a2c":function(e,t,a){"use strict";a("dfbc")},"1b3f":function(e,t,a){},"1cda":function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"g",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"h",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return m}));var r=a("b775");function n(e){return Object(r["a"])({url:"/goods/BaseNumberCard/list",method:"get",params:e})}function o(){return Object(r["a"])({url:"/goods/BaseNumberCard/getAllCardList",method:"get"})}function l(e){return Object(r["a"])({url:"/goods/BaseNumberCard/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/goods/BaseNumberCard",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/goods/BaseNumberCard",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/goods/BaseNumberCard/handleCardDown/"+e,method:"put"})}function u(e){return Object(r["a"])({url:"/goods/BaseNumberCard/"+e,method:"delete"})}function m(e){return Object(r["a"])({url:"/goods/BaseNumberCard/export",method:"get",params:e})}},"1e47":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:branddetail:add"],expression:"['baseconfig:branddetail:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:branddetail:edit"],expression:"['baseconfig:branddetail:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:branddetail:remove"],expression:"['baseconfig:branddetail:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:branddetail:export"],expression:"['baseconfig:branddetail:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.branddetailList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title"}}),a("el-table-column",{attrs:{label:"顶部图片",align:"center",prop:"topImg"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px"},attrs:{fit:"cover",src:e.row.topImg}})]}}])}),a("el-table-column",{attrs:{label:"介绍图片",align:"center",prop:"detailImg"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px"},attrs:{fit:"cover",src:e.row.detailImg}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:branddetail:edit"],expression:"['baseconfig:branddetail:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:branddetail:remove"],expression:"['baseconfig:branddetail:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"750px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"顶部图片"}},[a("imageUpload",{model:{value:e.form.topImg,callback:function(t){e.$set(e.form,"topImg",t)},expression:"form.topImg"}})],1),a("el-form-item",{attrs:{label:"介绍图片"}},[a("imageUpload",{model:{value:e.form.detailImg,callback:function(t){e.$set(e.form,"detailImg",t)},expression:"form.detailImg"}})],1),a("el-form-item",{attrs:{label:"品牌介绍",prop:"content"}},[a("editor",{attrs:{"min-height":192},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/baseconfig/branddetail/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/baseconfig/branddetail/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/baseconfig/branddetail",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/baseconfig/branddetail",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/baseconfig/branddetail/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/baseconfig/branddetail/export",method:"get",params:e})}var d={name:"Branddetail",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,branddetailList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,title:null},form:{},rules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}],content:[{required:!0,message:"内容不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.branddetailList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,title:null,topImg:null,detailImg:null,content:null,status:"Y",createTime:null,createBy:null,updateTime:null,updateBy:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加品牌介绍"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改品牌介绍"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除品牌介绍编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有品牌介绍数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},"1e4b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"shopName",label:"统计信息",align:"center",width:"150"}}),a("el-table-column",{attrs:{label:"今日",align:"center"}},[a("el-table-column",{attrs:{prop:"addNumD",label:"新增会员",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"buyNumD",label:"消费笔数",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"buyAmountD",align:"center",label:"消费金额",width:"300"}}),a("el-table-column",{attrs:{prop:"chargeAmountD",label:"充值金额",align:"center",width:"120"}})],1),a("el-table-column",{attrs:{label:"本月",align:"center"}},[a("el-table-column",{attrs:{prop:"addNumM",label:"新增会员",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"buyNumM",label:"消费笔数",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"buyAmountM",label:"消费金额",align:"center",width:"300"}}),a("el-table-column",{attrs:{prop:"chargeAmountM",label:"充值金额",align:"center",width:"120"}})],1)],1)],1)],1)},n=[],o=a("0e04"),l={name:"Index",components:{},data:function(){return{loading:!1,tableData:[],queryParams:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(o["g"])(this.queryParams).then((function(t){e.tableData=t.data,e.loading=!1}))}}},i=l,s=(a("267e"),a("2877")),c=Object(s["a"])(i,r,n,!1,null,"a145e7b0",null);t["default"]=c.exports},"1e8b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.user.nickName,callback:function(t){e.$set(e.user,"nickName",t)},expression:"user.nickName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.user.phonenumber,callback:function(t){e.$set(e.user,"phonenumber",t)},expression:"user.phonenumber"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[a("el-radio",{attrs:{label:"0"}},[e._v("男")]),a("el-radio",{attrs:{label:"1"}},[e._v("女")])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},n=[],o=a("c0c7"),l={props:{user:{type:Object}},data:function(){return{rules:{nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(o["u"])(e.user).then((function(t){e.msgSuccess("修改成功")}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"1f34":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,xs:24}},[a("div",{staticClass:"head-container"},[a("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入部门名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),a("div",{staticClass:"head-container"},[a("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),a("el-col",{attrs:{span:20,xs:24}},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),a("el-form-item",{attrs:{label:"用户类型",prop:"user_type"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择用户类型"},model:{value:e.queryParams.userType,callback:function(t){e.$set(e.queryParams,"userType",t)},expression:"queryParams.userType"}},e._l(e.sysUserTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"角色",prop:"roleIds"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择角色"},model:{value:e.queryParams.roleId,callback:function(t){e.$set(e.queryParams,"roleId",t)},expression:"queryParams.roleId"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})})),1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"用户状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:add"],expression:"['system:user:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:remove"],expression:"['system:user:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:import"],expression:"['system:user:import']"}],attrs:{type:"info",plain:"",icon:"el-icon-upload2",size:"mini"},on:{click:e.handleImport}},[e._v("导入")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:export"],expression:"['system:user:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch,columns:e.columns},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e.columns[0].visible?a("el-table-column",{key:"userId",attrs:{label:"用户编号",align:"center",prop:"userId"}}):e._e(),e.columns[1].visible?a("el-table-column",{key:"userName",attrs:{label:"用户名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}):e._e(),e.columns[2].visible?a("el-table-column",{key:"nickName",attrs:{label:"用户昵称",align:"center",prop:"nickName","show-overflow-tooltip":!0}}):e._e(),e.columns[3].visible?a("el-table-column",{key:"deptName",attrs:{label:"部门",align:"center",prop:"dept.deptName","show-overflow-tooltip":!0}}):e._e(),e.columns[4].visible?a("el-table-column",{key:"phonenumber",attrs:{label:"手机号码",align:"center",prop:"phonenumber",width:"120"}}):e._e(),e.columns[5].visible?a("el-table-column",{key:"status",attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}],null,!1,3955094654)}):e._e(),e.columns[6].visible?a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e(),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return 1!==t.row.userId?[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:remove"],expression:"['system:user:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-dropdown",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:resetPwd","system:user:edit"],expression:"['system:user:resetPwd', 'system:user:edit']"}],attrs:{size:"mini"},on:{command:function(a){return e.handleCommand(a,t.row)}}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-d-arrow-right el-icon--right"}),e._v("更多 ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:resetPwd"],expression:"['system:user:resetPwd']"}],attrs:{command:"handleResetPwd",icon:"el-icon-key"}},[e._v("重置密码")]),a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{command:"handleAuthRole",icon:"el-icon-circle-check"}},[e._v("分配角色")])],1)],1)]:void 0}}],null,!0)})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称",maxlength:"30"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"归属部门",prop:"deptId"}},[a("treeselect",{attrs:{options:e.deptOptions,"show-count":!0,placeholder:"请选择归属部门"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.form.phonenumber,callback:function(t){e.$set(e.form,"phonenumber",t)},expression:"form.phonenumber"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",maxlength:"30"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password",maxlength:"20","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户性别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sexOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.postIds,callback:function(t){e.$set(e.form,"postIds",t)},expression:"form.postIds"}},e._l(e.postOptions,(function(e){return a("el-option",{key:e.postId,attrs:{label:e.postName,value:e.postId,disabled:1==e.status}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色",prop:"roleIds"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.roleIds,callback:function(t){e.$set(e.form,"roleIds",t)},expression:"form.roleIds"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId,disabled:1==e.status}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所属门店",prop:"sourceShopArray"}},[a("el-select",{attrs:{placeholder:"请选择所属门店",multiple:""},model:{value:e.form.sourceShopArray,callback:function(t){e.$set(e.form,"sourceShopArray",t)},expression:"form.sourceShopArray"}},e._l(e.shopOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.shopName,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.form.roleIds&&-1!=e.form.roleIds.toString().indexOf("101"),expression:"form.roleIds && form.roleIds.toString().indexOf('101')!=-1"}],attrs:{label:"技师等级",prop:"consultantRank"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.consultantRank,callback:function(t){e.$set(e.form,"consultantRank",t)},expression:"form.consultantRank"}},e._l(e.allConstantRankList,(function(e){return a("el-option",{key:e.levelId+"",attrs:{label:e.levelName,value:e.levelId}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:e.upload.title,visible:e.upload.open,width:"400px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.upload,"open",t)}}},[a("el-upload",{ref:"upload",attrs:{limit:1,accept:".xlsx, .xls",headers:e.upload.headers,action:e.upload.url+"?updateSupport="+e.upload.updateSupport,disabled:e.upload.isUploading,"on-progress":e.handleFileUploadProgress,"on-success":e.handleFileSuccess,"auto-upload":!1,drag:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip text-center",attrs:{slot:"tip"},slot:"tip"},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("el-checkbox",{model:{value:e.upload.updateSupport,callback:function(t){e.$set(e.upload,"updateSupport",t)},expression:"upload.updateSupport"}}),e._v(" 是否更新已经存在的用户数据 ")],1),a("span",[e._v("仅允许导入xls、xlsx格式文件。")]),a("el-link",{staticStyle:{"font-size":"12px","vertical-align":"baseline"},attrs:{type:"primary",underline:!1},on:{click:e.importTemplate}},[e._v("下载模板")])],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFileForm}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.upload.open=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("4de4"),a("d3b7"),a("d81d"),a("ac1f"),a("1276"),a("a15b"),a("c0c7")),l=a("5f87"),i=a("fcb7"),s=a("ca17"),c=a.n(s),u=(a("542c"),a("0e04")),m=a("3340"),d={name:"User",components:{Treeselect:c.a},data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,userList:null,title:"",deptOptions:void 0,open:!1,deptName:void 0,initPassword:void 0,dateRange:[],statusOptions:[],sexOptions:[],shopOptions:[],allConstantRankList:[],postOptions:[],roleOptions:[],sysUserTypeOptions:[],form:{userId:void 0,deptId:void 0,userName:void 0,nickName:void 0,password:void 0,phonenumber:void 0,email:void 0,sex:void 0,status:"0",remark:void 0,sourceShop:void 0,sourceShopArray:[],postIds:[],roleIds:[]},defaultProps:{children:"children",label:"label"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(l["a"])()},url:"http://beautyapi.weixinai.cn/system/user/importData"},queryParams:{pageNum:1,pageSize:10,userName:void 0,phonenumber:void 0,status:void 0,deptId:void 0},columns:[{key:0,label:"用户编号",visible:!0},{key:1,label:"用户名称",visible:!0},{key:2,label:"用户昵称",visible:!0},{key:3,label:"部门",visible:!0},{key:4,label:"手机号码",visible:!0},{key:5,label:"状态",visible:!0},{key:6,label:"创建时间",visible:!0}],rules:{userName:[{required:!0,message:"用户名称不能为空",trigger:"blur"},{min:2,max:20,message:"用户名称长度必须介于 2 和 20 之间",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],sourceShopArray:[{required:!0,message:"所属门店不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){var e=this;this.getList(),this.getAllConstantList(),this.getAllShopList(),this.getTreeselect(),Object(o["j"])("").then((function(t){e.roleOptions=t.roles})),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_user_sex").then((function(t){e.sexOptions=t.data})),this.getDicts("sys_user_type").then((function(t){e.sysUserTypeOptions=t.data})),this.getConfigKey("sys.user.initPassword").then((function(t){e.initPassword=t.msg}))},methods:{getAllConstantList:function(){var e=this;Object(m["f"])().then((function(t){e.allConstantRankList=t.data}))},getList:function(){var e=this;this.loading=!0,Object(o["n"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},getAllShopList:function(){var e=this;Object(u["e"])().then((function(t){e.shopOptions=t.data}))},getTreeselect:function(){var e=this;Object(i["g"])().then((function(t){e.deptOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.id,this.getList()},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.userName+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.userId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={userId:void 0,deptId:void 0,userName:void 0,nickName:void 0,password:void 0,phonenumber:void 0,email:void 0,sex:void 0,status:"0",remark:void 0,sourceShop:void 0,sourceShopArray:[],postIds:[],roleIds:[]},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!=e.length,this.multiple=!e.length},handleCommand:function(e,t){switch(e){case"handleResetPwd":this.handleResetPwd(t);break;case"handleAuthRole":this.handleAuthRole(t);break;default:break}},handleAdd:function(){var e=this;this.reset(),this.getTreeselect(),Object(o["j"])("").then((function(t){e.postOptions=t.posts,e.roleOptions=t.roles,e.open=!0,e.title="添加用户",e.form.password=e.initPassword}))},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect();var a=e.userId||this.ids;Object(o["j"])(a).then((function(e){if(t.form=e.data,t.postOptions=e.posts,t.roleOptions=e.roles,t.form.postIds=e.postIds,t.form.roleIds=e.roleIds,e.data.sourceShop){var a=e.data.sourceShop.split(",");t.$set(t.form,"sourceShopArray",a)}t.open=!0,t.title="修改用户",t.form.password=""}))},handleResetPwd:function(e){var t=this;this.$prompt('请输入"'+e.userName+'"的新密码',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,inputPattern:/^.{5,20}$/,inputErrorMessage:"用户密码长度必须介于 5 和 20 之间"}).then((function(a){var r=a.value;Object(o["p"])(e.userId,r).then((function(e){t.msgSuccess("修改成功，新密码是："+r)}))})).catch((function(){}))},handleAuthRole:function(e){var t=e.userId;this.$router.push("/system/user-auth/role/"+t)},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.sourceShopArray.length>0&&(e.form.sourceShop=e.form.sourceShopArray.join(",")),void 0!=e.form.userId?Object(o["t"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.userId||this.ids;this.$confirm('是否确认删除用户编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["d"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},handleImport:function(){this.upload.title="用户导入",this.upload.open=!0},importTemplate:function(){var e=this;Object(o["m"])().then((function(t){e.download(t.msg)}))},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},"202d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[a("el-input",{attrs:{placeholder:"请输入公告标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.noticeTitle,callback:function(t){e.$set(e.queryParams,"noticeTitle",t)},expression:"queryParams.noticeTitle"}})],1),a("el-form-item",{attrs:{label:"操作人员",prop:"createBy"}},[a("el-input",{attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.createBy,callback:function(t){e.$set(e.queryParams,"createBy",t)},expression:"queryParams.createBy"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"noticeType"}},[a("el-select",{attrs:{placeholder:"公告类型",clearable:"",size:"small"},model:{value:e.queryParams.noticeType,callback:function(t){e.$set(e.queryParams,"noticeType",t)},expression:"queryParams.noticeType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:add"],expression:"['system:notice:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:edit"],expression:"['system:notice:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:remove"],expression:"['system:notice:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.noticeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"序号",align:"center",prop:"noticeId",width:"100"}}),a("el-table-column",{attrs:{label:"公告标题",align:"center",prop:"noticeTitle","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"公告类型",align:"center",prop:"noticeType",formatter:e.typeFormat,width:"100"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat,width:"100"}}),a("el-table-column",{attrs:{label:"创建者",align:"center",prop:"createBy",width:"100"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:edit"],expression:"['system:notice:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:remove"],expression:"['system:notice:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"780px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[a("el-input",{attrs:{placeholder:"请输入公告标题"},model:{value:e.form.noticeTitle,callback:function(t){e.$set(e.form,"noticeTitle",t)},expression:"form.noticeTitle"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公告类型",prop:"noticeType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.noticeType,callback:function(t){e.$set(e.form,"noticeType",t)},expression:"form.noticeType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容"}},[a("editor",{attrs:{"min-height":192},model:{value:e.form.noticeContent,callback:function(t){e.$set(e.form,"noticeContent",t)},expression:"form.noticeContent"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/system/notice/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/system/notice/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/system/notice",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/system/notice",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/system/notice/"+e,method:"delete"})}var m={name:"Notice",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,noticeList:[],title:"",open:!1,statusOptions:[],typeOptions:[],queryParams:{pageNum:1,pageSize:10,noticeTitle:void 0,createBy:void 0,status:void 0},form:{},rules:{noticeTitle:[{required:!0,message:"公告标题不能为空",trigger:"blur"}],noticeType:[{required:!0,message:"公告类型不能为空",trigger:"change"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_notice_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_notice_type").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.noticeList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.noticeType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={noticeId:void 0,noticeTitle:void 0,noticeType:void 0,noticeContent:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.noticeId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加公告"},handleUpdate:function(e){var t=this;this.reset();var a=e.noticeId||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改公告"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.noticeId?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.noticeId||this.ids;this.$confirm('是否确认删除公告编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},d=m,p=a("2877"),f=Object(p["a"])(d,r,n,!1,null,null,null);t["default"]=f.exports},"267e":function(e,t,a){"use strict";a("fcc6")},"26ab":function(e,t,a){"use strict";a("cbc2")},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},2754:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v(" 404错误! ")]),a("div",{staticClass:"bullshit__headline"},[e._v(" "+e._s(e.message)+" ")]),a("div",{staticClass:"bullshit__info"},[e._v(" 对不起，您正在寻找的页面不存在。尝试检查URL的错误，然后按浏览器上的刷新按钮或尝试在我们的应用程序中找到其他内容。 ")]),a("router-link",{staticClass:"bullshit__return-home",attrs:{to:"/"}},[e._v(" 返回首页 ")])],1)])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pic-404"},[r("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),r("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),r("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),r("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],o={name:"Page404",computed:{message:function(){return"找不到网页！"}}},l=o,i=(a("61b6"),a("2877")),s=Object(i["a"])(l,r,n,!1,null,"279ea4b2",null);t["default"]=s.exports},"27c0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"次卡名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入次卡名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",{attrs:{label:"关联项目",prop:"shopItemId"}},[a("el-select",{attrs:{placeholder:"请选择关联项目",clearable:"",filterable:""},on:{change:e.handleQuery},model:{value:e.queryParams.shopItemId,callback:function(t){e.$set(e.queryParams,"shopItemId",t)},expression:"queryParams.shopItemId"}},e._l(e.itemList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:BaseNumberCard:add"],expression:"['goods:BaseNumberCard:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:BaseNumberCard:edit"],expression:"['goods:BaseNumberCard:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:BaseNumberCard:remove"],expression:"['goods:BaseNumberCard:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:BaseNumberCard:export"],expression:"['goods:BaseNumberCard:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.BaseNumberCardList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{label:"次卡ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"次卡名称",align:"center",prop:"name"}}),a("el-table-column",{attrs:{label:"次卡有效期",align:"center",prop:"day"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day)+"天 ")]}}])}),a("el-table-column",{attrs:{label:"关联项目",align:"center",prop:"shopItemId",formatter:e.shopItemIdFormat}}),a("el-table-column",{attrs:{label:"次卡次数",align:"center",prop:"num"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.num)+"次 ")]}}])}),a("el-table-column",{attrs:{label:"次卡价格",align:"center",prop:"price"}}),a("el-table-column",{attrs:{label:"原价",align:"center",prop:"baseShopItem.itemPrice"}}),a("el-table-column",{attrs:{label:"上架状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return["01"===t.row.status?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:BaseNumberCard:down"],expression:"['goods:BaseNumberCard:down']"}],attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleDown(t.row)}}},[a("svg-icon",{attrs:{"icon-class":"xiajia"}}),e._v("下架")],1):e._e(),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:BaseNumberCard:edit"],expression:"['goods:BaseNumberCard:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:BaseNumberCard:remove"],expression:"['goods:BaseNumberCard:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"50%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"次卡名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入次卡名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"次卡有效期",prop:"day"}},[a("el-input",{attrs:{placeholder:"请输入次卡有效期",type:"number"},model:{value:e.form.day,callback:function(t){e.$set(e.form,"day",t)},expression:"form.day"}})],1),a("el-form-item",{attrs:{label:"关联项目",prop:"shopItemId"}},[a("el-select",{attrs:{placeholder:"请选择关联项目",clearable:"",filterable:""},model:{value:e.form.shopItemId,callback:function(t){e.$set(e.form,"shopItemId",t)},expression:"form.shopItemId"}},e._l(e.itemList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:parseInt(e.id)}})})),1)],1),a("el-form-item",{attrs:{label:"次卡次数",prop:"num"}},[a("el-input",{attrs:{placeholder:"请输入次卡次数",type:"number"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1),a("el-form-item",{attrs:{label:"次卡价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入次卡价格",type:"number"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"上架状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"上架状态",clearable:"",filterable:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{value:"",label:"请选择上架状态"}}),e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})}))],2)],1),a("el-form-item",{attrs:{label:"项目分类",prop:"goodsTypeId"}},[a("el-select",{attrs:{placeholder:"请选择项目分类",clearable:"",filterable:""},model:{value:e.form.goodsTypeId,callback:function(t){e.$set(e.form,"goodsTypeId",t)},expression:"form.goodsTypeId"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.typeName,value:parseInt(e.id)}})})),1)],1),a("el-form-item",{attrs:{label:"次卡简介",prop:"introduction"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入次卡简介"},model:{value:e.form.introduction,callback:function(t){e.$set(e.form,"introduction",t)},expression:"form.introduction"}})],1),a("el-form-item",{attrs:{label:"次卡头图",prop:"headImg"}},[a("ImageUpload",{attrs:{limit:1},model:{value:e.form.headImg,callback:function(t){e.$set(e.form,"headImg",t)},expression:"form.headImg"}})],1),a("el-form-item",{attrs:{label:"详情图片",prop:"detailsImg"}},[a("ImageUpload",{attrs:{limit:1},model:{value:e.form.detailsImg,callback:function(t){e.$set(e.form,"detailsImg",t)},expression:"form.detailsImg"}})],1),a("el-form-item",{attrs:{label:"次卡详情",prop:"details"}},[a("editor",{attrs:{"min-height":192,placeholder:"请输入次卡详情"},model:{value:e.form.details,callback:function(t){e.$set(e.form,"details",t)},expression:"form.details"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("7db0"),a("d3b7"),a("d81d"),a("1cda")),l=a("8c64"),i=a("7f04"),s={name:"BaseNumberCard",data:function(){return{itemList:[],typeList:[],statusOptions:[{dictValue:"01",dictLabel:"上架"},{dictValue:"02",dictLabel:"下架"}],loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,BaseNumberCardList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,name:null,day:null,shopItemId:null,num:null,price:null,status:null,goodsTypeId:null,introduction:null,headImg:null,detailsImg:null,details:null},form:{},rules:{name:[{required:!0,message:"次卡名称不能为空",trigger:"blur"}],day:[{required:!0,message:"有效期限不能为空",trigger:"blur"}],shopItemId:[{required:!0,message:"关联项目不能为空",trigger:"blur"}],num:[{required:!0,message:"次卡次数不能为空",trigger:"blur"}],price:[{required:!0,message:"次卡价格不能为空",trigger:"blur"}],status:[{required:!0,message:"上架状态不能为空",trigger:"change"}],goodsTypeId:[{required:!0,message:"商品分类不能为空",trigger:"blur"}],headImg:[{required:!0,message:"次卡头图不能为空",trigger:"blur"}],detailsImg:[{required:!0,message:"详情图片不能为空",trigger:"blur"}],details:[{required:!0,message:"次卡详情不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),Object(l["g"])({}).then((function(t){e.itemList=t.rows})),Object(i["e"])({}).then((function(t){e.typeList=t.rows}))},methods:{statusFormat:function(e){return this.selectDictLabel(this.statusOptions,e.status)},shopItemIdFormat:function(e){var t=this.itemList.find((function(t){return t.id==e.shopItemId}));return void 0!=t?t.itemName:e.shopItemId},getList:function(){var e=this;this.loading=!0,Object(o["f"])(this.queryParams).then((function(t){e.BaseNumberCardList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,name:null,day:null,shopItemId:null,num:null,price:null,status:"",goodsTypeId:null,introduction:null,headImg:null,detailsImg:null,details:null,createTime:null,createBy:null,updateTime:null,updateBy:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加次卡"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改次卡"}))},handleDown:function(e){var t=this,a=e.id;Object(o["e"])(a).then((function(e){t.msgSuccess("下架成功"),t.getList()}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(o["h"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除次卡编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有次卡数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},c=s,u=a("2877"),m=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=m.exports},2855:function(e,t,a){"use strict";a.r(t);var r,n,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-board"},[a("div",{staticClass:"logo-wrapper"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.logo,alt:"logo"}}),e._v(" Form Generator ")])]),a("el-scrollbar",{staticClass:"left-scrollbar"},[a("div",{staticClass:"components-list"},[a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("输入型组件 ")],1),a("draggable",{staticClass:"components-draggable",attrs:{list:e.inputComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.inputComponents,(function(t,r){return a("div",{key:r,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v(" "+e._s(t.label)+" ")],1)])})),0),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("选择型组件 ")],1),a("draggable",{staticClass:"components-draggable",attrs:{list:e.selectComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.selectComponents,(function(t,r){return a("div",{key:r,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v(" "+e._s(t.label)+" ")],1)])})),0),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v(" 布局型组件 ")],1),a("draggable",{staticClass:"components-draggable",attrs:{list:e.layoutComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.layoutComponents,(function(t,r){return a("div",{key:r,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v(" "+e._s(t.label)+" ")],1)])})),0)],1)])],1),a("div",{staticClass:"center-board"},[a("div",{staticClass:"action-bar"},[a("el-button",{attrs:{icon:"el-icon-download",type:"text"},on:{click:e.download}},[e._v(" 导出vue文件 ")]),a("el-button",{staticClass:"copy-btn-main",attrs:{icon:"el-icon-document-copy",type:"text"},on:{click:e.copy}},[e._v(" 复制代码 ")]),a("el-button",{staticClass:"delete-btn",attrs:{icon:"el-icon-delete",type:"text"},on:{click:e.empty}},[e._v(" 清空 ")])],1),a("el-scrollbar",{staticClass:"center-scrollbar"},[a("el-row",{staticClass:"center-board-row",attrs:{gutter:e.formConf.gutter}},[a("el-form",{attrs:{size:e.formConf.size,"label-position":e.formConf.labelPosition,disabled:e.formConf.disabled,"label-width":e.formConf.labelWidth+"px"}},[a("draggable",{staticClass:"drawing-board",attrs:{list:e.drawingList,animation:340,group:"componentsGroup"}},e._l(e.drawingList,(function(t,r){return a("draggable-item",{key:t.renderKey,attrs:{"drawing-list":e.drawingList,element:t,index:r,"active-id":e.activeId,"form-conf":e.formConf},on:{activeItem:e.activeFormItem,copyItem:e.drawingItemCopy,deleteItem:e.drawingItemDelete}})})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.drawingList.length,expression:"!drawingList.length"}],staticClass:"empty-info"},[e._v(" 从左侧拖入或点选组件进行表单设计 ")])],1)],1)],1)],1),a("right-panel",{attrs:{"active-data":e.activeData,"form-conf":e.formConf,"show-field":!!e.drawingList.length},on:{"tag-change":e.tagChange}}),a("code-type-dialog",{attrs:{visible:e.dialogVisible,title:"选择生成类型","show-file-name":e.showFileName},on:{"update:visible":function(t){e.dialogVisible=t},confirm:e.generate}}),a("input",{attrs:{id:"copyNode",type:"hidden"}})],1)},l=[],i=a("53ca"),s=a("5530"),c=(a("ac1f"),a("5319"),a("e9c4"),a("d81d"),a("a434"),a("d3b7"),a("159b"),a("b64b"),a("c740"),a("b76a")),u=a.n(c),m=a("21a6"),d=a("e552"),p=a.n(d),f=a("b311"),h=a.n(f),b=a("a85b"),g=a("766b"),v=a("2e2a"),y=a("ed08");a("99af"),a("a15b"),a("b0c0");function w(e){return'<el-dialog v-bind="$attrs" v-on="$listeners" @open="onOpen" @close="onClose" title="Dialog Titile">\n    '.concat(e,'\n    <div slot="footer">\n      <el-button @click="close">取消</el-button>\n      <el-button type="primary" @click="handelConfirm">确定</el-button>\n    </div>\n  </el-dialog>')}function x(e){return"<template>\n    <div>\n      ".concat(e,"\n    </div>\n  </template>")}function k(e){return"<script>\n    ".concat(e,"\n  <\/script>")}function _(e){return"<style>\n    ".concat(e,"\n  </style>")}function P(e,t,a){var r="";"right"!==e.labelPosition&&(r='label-position="'.concat(e.labelPosition,'"'));var o=e.disabled?':disabled="'.concat(e.disabled,'"'):"",l='<el-form ref="'.concat(e.formRef,'" :model="').concat(e.formModel,'" :rules="').concat(e.formRules,'" size="').concat(e.size,'" ').concat(o,' label-width="').concat(e.labelWidth,'px" ').concat(r,">\n      ").concat(t,"\n      ").concat(S(e,a),"\n    </el-form>");return n&&(l='<el-row :gutter="'.concat(e.gutter,'">\n        ').concat(l,"\n      </el-row>")),l}function S(e,t){var a="";return e.formBtns&&"file"===t&&(a='<el-form-item size="large">\n          <el-button type="primary" @click="submitForm">提交</el-button>\n          <el-button @click="resetForm">重置</el-button>\n        </el-form-item>',n&&(a='<el-col :span="24">\n          '.concat(a,"\n        </el-col>"))),a}function N(e,t){return n||24!==e.span?'<el-col :span="'.concat(e.span,'">\n      ').concat(t,"\n    </el-col>"):t}var O={colFormItem:function(e){var t="";e.labelWidth&&e.labelWidth!==r.labelWidth&&(t='label-width="'.concat(e.labelWidth,'px"'));var a=!v["e"][e.tag]&&e.required?"required":"",n=T[e.tag]?T[e.tag](e):null,o="<el-form-item ".concat(t,' label="').concat(e.label,'" prop="').concat(e.vModel,'" ').concat(a,">\n        ").concat(n,"\n      </el-form-item>");return o=N(e,o),o},rowFormItem:function(e){var t="default"===e.type?"":'type="'.concat(e.type,'"'),a="default"===e.type?"":'justify="'.concat(e.justify,'"'),r="default"===e.type?"":'align="'.concat(e.align,'"'),n=e.gutter?'gutter="'.concat(e.gutter,'"'):"",o=e.children.map((function(e){return O[e.layout](e)})),l="<el-row ".concat(t," ").concat(a," ").concat(r," ").concat(n,">\n      ").concat(o.join("\n"),"\n    </el-row>");return l=N(e,l),l}},T={"el-button":function(e){var t=I(e),a=(t.tag,t.disabled),r=e.type?'type="'.concat(e.type,'"'):"",n=e.icon?'icon="'.concat(e.icon,'"'):"",o=e.size?'size="'.concat(e.size,'"'):"",l=C(e);return l&&(l="\n".concat(l,"\n")),"<".concat(e.tag," ").concat(r," ").concat(n," ").concat(o," ").concat(a,">").concat(l,"</").concat(e.tag,">")},"el-input":function(e){var t=I(e),a=t.disabled,r=t.vModel,n=t.clearable,o=t.placeholder,l=t.width,i=e.maxlength?':maxlength="'.concat(e.maxlength,'"'):"",s=e["show-word-limit"]?"show-word-limit":"",c=e.readonly?"readonly":"",u=e["prefix-icon"]?"prefix-icon='".concat(e["prefix-icon"],"'"):"",m=e["suffix-icon"]?"suffix-icon='".concat(e["suffix-icon"],"'"):"",d=e["show-password"]?"show-password":"",p=e.type?'type="'.concat(e.type,'"'):"",f=e.autosize&&e.autosize.minRows?':autosize="{minRows: '.concat(e.autosize.minRows,", maxRows: ").concat(e.autosize.maxRows,'}"'):"",h=q(e);return h&&(h="\n".concat(h,"\n")),"<".concat(e.tag," ").concat(r," ").concat(p," ").concat(o," ").concat(i," ").concat(s," ").concat(c," ").concat(a," ").concat(n," ").concat(u," ").concat(m," ").concat(d," ").concat(f," ").concat(l,">").concat(h,"</").concat(e.tag,">")},"el-input-number":function(e){var t=I(e),a=t.disabled,r=t.vModel,n=t.placeholder,o=e["controls-position"]?"controls-position=".concat(e["controls-position"]):"",l=e.min?":min='".concat(e.min,"'"):"",i=e.max?":max='".concat(e.max,"'"):"",s=e.step?":step='".concat(e.step,"'"):"",c=e["step-strictly"]?"step-strictly":"",u=e.precision?":precision='".concat(e.precision,"'"):"";return"<".concat(e.tag," ").concat(r," ").concat(n," ").concat(s," ").concat(c," ").concat(u," ").concat(o," ").concat(l," ").concat(i," ").concat(a,"></").concat(e.tag,">")},"el-select":function(e){var t=I(e),a=t.disabled,r=t.vModel,n=t.clearable,o=t.placeholder,l=t.width,i=e.filterable?"filterable":"",s=e.multiple?"multiple":"",c=L(e);return c&&(c="\n".concat(c,"\n")),"<".concat(e.tag," ").concat(r," ").concat(o," ").concat(a," ").concat(s," ").concat(i," ").concat(n," ").concat(l,">").concat(c,"</").concat(e.tag,">")},"el-radio-group":function(e){var t=I(e),a=t.disabled,r=t.vModel,n='size="'.concat(e.size,'"'),o=$(e);return o&&(o="\n".concat(o,"\n")),"<".concat(e.tag," ").concat(r," ").concat(n," ").concat(a,">").concat(o,"</").concat(e.tag,">")},"el-checkbox-group":function(e){var t=I(e),a=t.disabled,r=t.vModel,n='size="'.concat(e.size,'"'),o=e.min?':min="'.concat(e.min,'"'):"",l=e.max?':max="'.concat(e.max,'"'):"",i=D(e);return i&&(i="\n".concat(i,"\n")),"<".concat(e.tag," ").concat(r," ").concat(o," ").concat(l," ").concat(n," ").concat(a,">").concat(i,"</").concat(e.tag,">")},"el-switch":function(e){var t=I(e),a=t.disabled,r=t.vModel,n=e["active-text"]?'active-text="'.concat(e["active-text"],'"'):"",o=e["inactive-text"]?'inactive-text="'.concat(e["inactive-text"],'"'):"",l=e["active-color"]?'active-color="'.concat(e["active-color"],'"'):"",i=e["inactive-color"]?'inactive-color="'.concat(e["inactive-color"],'"'):"",s=!0!==e["active-value"]?":active-value='".concat(JSON.stringify(e["active-value"]),"'"):"",c=!1!==e["inactive-value"]?":inactive-value='".concat(JSON.stringify(e["inactive-value"]),"'"):"";return"<".concat(e.tag," ").concat(r," ").concat(n," ").concat(o," ").concat(l," ").concat(i," ").concat(s," ").concat(c," ").concat(a,"></").concat(e.tag,">")},"el-cascader":function(e){var t=I(e),a=t.disabled,r=t.vModel,n=t.clearable,o=t.placeholder,l=t.width,i=e.options?':options="'.concat(e.vModel,'Options"'):"",s=e.props?':props="'.concat(e.vModel,'Props"'):"",c=e["show-all-levels"]?"":':show-all-levels="false"',u=e.filterable?"filterable":"",m="/"===e.separator?"":'separator="'.concat(e.separator,'"');return"<".concat(e.tag," ").concat(r," ").concat(i," ").concat(s," ").concat(l," ").concat(c," ").concat(o," ").concat(m," ").concat(u," ").concat(n," ").concat(a,"></").concat(e.tag,">")},"el-slider":function(e){var t=I(e),a=t.disabled,r=t.vModel,n=e.min?":min='".concat(e.min,"'"):"",o=e.max?":max='".concat(e.max,"'"):"",l=e.step?":step='".concat(e.step,"'"):"",i=e.range?"range":"",s=e["show-stops"]?':show-stops="'.concat(e["show-stops"],'"'):"";return"<".concat(e.tag," ").concat(n," ").concat(o," ").concat(l," ").concat(r," ").concat(i," ").concat(s," ").concat(a,"></").concat(e.tag,">")},"el-time-picker":function(e){var t=I(e),a=t.disabled,r=t.vModel,n=t.clearable,o=t.placeholder,l=t.width,i=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",s=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e["is-range"]?"is-range":"",m=e.format?'format="'.concat(e.format,'"'):"",d=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",p=e["picker-options"]?":picker-options='".concat(JSON.stringify(e["picker-options"]),"'"):"";return"<".concat(e.tag," ").concat(r," ").concat(u," ").concat(m," ").concat(d," ").concat(p," ").concat(l," ").concat(o," ").concat(i," ").concat(s," ").concat(c," ").concat(n," ").concat(a,"></").concat(e.tag,">")},"el-date-picker":function(e){var t=I(e),a=t.disabled,r=t.vModel,n=t.clearable,o=t.placeholder,l=t.width,i=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",s=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e.format?'format="'.concat(e.format,'"'):"",m=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",d="date"===e.type?"":'type="'.concat(e.type,'"'),p=e.readonly?"readonly":"";return"<".concat(e.tag," ").concat(d," ").concat(r," ").concat(u," ").concat(m," ").concat(l," ").concat(o," ").concat(i," ").concat(s," ").concat(c," ").concat(n," ").concat(p," ").concat(a,"></").concat(e.tag,">")},"el-rate":function(e){var t=I(e),a=t.disabled,r=t.vModel,n=(e.max&&":max='".concat(e.max,"'"),e["allow-half"]?"allow-half":""),o=e["show-text"]?"show-text":"",l=e["show-score"]?"show-score":"";return"<".concat(e.tag," ").concat(r," ").concat(n," ").concat(o," ").concat(l," ").concat(a,"></").concat(e.tag,">")},"el-color-picker":function(e){var t=I(e),a=t.disabled,r=t.vModel,n='size="'.concat(e.size,'"'),o=e["show-alpha"]?"show-alpha":"",l=e["color-format"]?'color-format="'.concat(e["color-format"],'"'):"";return"<".concat(e.tag," ").concat(r," ").concat(n," ").concat(o," ").concat(l," ").concat(a,"></").concat(e.tag,">")},"el-upload":function(e){var t=e.disabled?":disabled='true'":"",a=e.action?':action="'.concat(e.vModel,'Action"'):"",r=e.multiple?"multiple":"",n="text"!==e["list-type"]?'list-type="'.concat(e["list-type"],'"'):"",o=e.accept?'accept="'.concat(e.accept,'"'):"",l="file"!==e.name?'name="'.concat(e.name,'"'):"",i=!1===e["auto-upload"]?':auto-upload="false"':"",s=':before-upload="'.concat(e.vModel,'BeforeUpload"'),c=':file-list="'.concat(e.vModel,'fileList"'),u='ref="'.concat(e.vModel,'"'),m=j(e);return m&&(m="\n".concat(m,"\n")),"<".concat(e.tag," ").concat(u," ").concat(c," ").concat(a," ").concat(i," ").concat(r," ").concat(s," ").concat(n," ").concat(o," ").concat(l," ").concat(t,">").concat(m,"</").concat(e.tag,">")}};function I(e){return{vModel:'v-model="'.concat(r.formModel,".").concat(e.vModel,'"'),clearable:e.clearable?"clearable":"",placeholder:e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",width:e.style&&e.style.width?":style=\"{width: '100%'}\"":"",disabled:e.disabled?":disabled='true'":""}}function C(e){var t=[];return e.default&&t.push(e.default),t.join("\n")}function q(e){var t=[];return e.prepend&&t.push('<template slot="prepend">'.concat(e.prepend,"</template>")),e.append&&t.push('<template slot="append">'.concat(e.append,"</template>")),t.join("\n")}function L(e){var t=[];return e.options&&e.options.length&&t.push('<el-option v-for="(item, index) in '.concat(e.vModel,'Options" :key="index" :label="item.label" :value="item.value" :disabled="item.disabled"></el-option>')),t.join("\n")}function $(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-radio-button":"el-radio",r=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(r,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function D(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-checkbox-button":"el-checkbox",r=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(r,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function j(e){var t=[];return"picture-card"===e["list-type"]?t.push('<i class="el-icon-plus"></i>'):t.push('<el-button size="small" type="primary" icon="el-icon-upload">'.concat(e.buttonText,"</el-button>")),e.showTip&&t.push('<div slot="tip" class="el-upload__tip">只能上传不超过 '.concat(e.fileSize).concat(e.sizeUnit," 的").concat(e.accept,"文件</div>")),t.join("\n")}function z(e,t){var a=[];r=e,n=e.fields.some((function(e){return 24!==e.span})),e.fields.forEach((function(e){a.push(O[e.layout](e))}));var o=a.join("\n"),l=P(e,o,t);return"dialog"===t&&(l=w(l)),r=null,l}var F=a("80de"),A={"el-rate":".el-rate{display: inline-block; vertical-align: text-top;}","el-upload":".el-upload__tip{line-height: 1.2;}"};function E(e,t){var a=A[t.tag];a&&-1===e.indexOf(a)&&e.push(a),t.children&&t.children.forEach((function(t){return E(e,t)}))}function B(e){var t=[];return e.fields.forEach((function(e){return E(t,e)})),t.join("\n")}var U,Q,R=[{layout:"colFormItem",tagIcon:"input",label:"手机号",vModel:"mobile",formId:6,tag:"el-input",placeholder:"请输入手机号",defaultValue:"",span:24,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1,required:!0,changeTag:!0,regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]}],V=a("81a5"),M=a.n(V),K=a("a92a"),G=a("4923"),W={components:{draggable:u.a,render:b["a"],RightPanel:g["default"],CodeTypeDialog:K["default"],DraggableItem:G["default"]},data:function(){return{logo:M.a,idGlobal:100,formConf:v["a"],inputComponents:v["b"],selectComponents:v["d"],layoutComponents:v["c"],labelWidth:100,drawingList:R,drawingData:{},activeId:R[0].formId,drawerVisible:!1,formData:{},dialogVisible:!1,generateConf:null,showFileName:!1,activeData:R[0]}},created:function(){document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()}},watch:{"activeData.label":function(e,t){void 0!==this.activeData.placeholder&&this.activeData.tag&&U===this.activeId&&(this.activeData.placeholder=this.activeData.placeholder.replace(t,"")+e)},activeId:{handler:function(e){U=e},immediate:!0}},mounted:function(){var e=this,t=new h.a("#copyNode",{text:function(t){var a=e.generateCode();return e.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),a}});t.on("error",(function(t){e.$message.error("代码复制失败")}))},methods:{activeFormItem:function(e){this.activeData=e,this.activeId=e.formId},onEnd:function(e,t){e.from!==e.to&&(this.activeData=Q,this.activeId=this.idGlobal)},addComponent:function(e){var t=this.cloneComponent(e);this.drawingList.push(t),this.activeFormItem(t)},cloneComponent:function(e){var t=JSON.parse(JSON.stringify(e));return t.formId=++this.idGlobal,t.span=v["a"].span,t.renderKey=+new Date,t.layout||(t.layout="colFormItem"),"colFormItem"===t.layout?(t.vModel="field".concat(this.idGlobal),void 0!==t.placeholder&&(t.placeholder+=t.label),Q=t):"rowFormItem"===t.layout&&(delete t.label,t.componentName="row".concat(this.idGlobal),t.gutter=this.formConf.gutter,Q=t),Q},AssembleFormData:function(){this.formData=Object(s["a"])({fields:JSON.parse(JSON.stringify(this.drawingList))},this.formConf)},generate:function(e){var t=this["exec".concat(Object(y["h"])(this.operationType))];this.generateConf=e,t&&t(e)},execRun:function(e){this.AssembleFormData(),this.drawerVisible=!0},execDownload:function(e){var t=this.generateCode(),a=new Blob([t],{type:"text/plain;charset=utf-8"});Object(m["saveAs"])(a,e.fileName)},execCopy:function(e){document.getElementById("copyNode").click()},empty:function(){var e=this;this.$confirm("确定要清空所有组件吗？","提示",{type:"warning"}).then((function(){e.drawingList=[]}))},drawingItemCopy:function(e,t){var a=JSON.parse(JSON.stringify(e));a=this.createIdAndKey(a),t.push(a),this.activeFormItem(a)},createIdAndKey:function(e){var t=this;return e.formId=++this.idGlobal,e.renderKey=+new Date,"colFormItem"===e.layout?e.vModel="field".concat(this.idGlobal):"rowFormItem"===e.layout&&(e.componentName="row".concat(this.idGlobal)),Array.isArray(e.children)&&(e.children=e.children.map((function(e){return t.createIdAndKey(e)}))),e},drawingItemDelete:function(e,t){var a=this;t.splice(e,1),this.$nextTick((function(){var e=a.drawingList.length;e&&a.activeFormItem(a.drawingList[e-1])}))},generateCode:function(){var e=this.generateConf.type;this.AssembleFormData();var t=k(Object(F["a"])(this.formData,e)),a=x(z(this.formData,e)),r=_(B(this.formData));return p.a.html(a+t+r,y["b"].html)},download:function(){this.dialogVisible=!0,this.showFileName=!0,this.operationType="download"},run:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="run"},copy:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="copy"},tagChange:function(e){var t=this;e=this.cloneComponent(e),e.vModel=this.activeData.vModel,e.formId=this.activeId,e.span=this.activeData.span,delete this.activeData.tag,delete this.activeData.tagIcon,delete this.activeData.document,Object.keys(e).forEach((function(a){void 0!==t.activeData[a]&&Object(i["a"])(t.activeData[a])===Object(i["a"])(e[a])&&(e[a]=t.activeData[a])})),this.activeData=e,this.updateDrawingList(e,this.drawingList)},updateDrawingList:function(e,t){var a=this,r=t.findIndex((function(e){return e.formId===a.activeId}));r>-1?t.splice(r,1,e):t.forEach((function(t){Array.isArray(t.children)&&a.updateDrawingList(e,t.children)}))}}},H=W,J=(a("1a2c"),a("2877")),Y=Object(J["a"])(H,o,l,!1,null,null,null);t["default"]=Y.exports},2912:function(e,t,a){},"2a33":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("CPU")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("核心数")])]),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.cpuNum))]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("用户使用率")])]),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.used)+"%")]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("系统使用率")])]),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.sys)+"%")]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("当前空闲率")])]),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.free)+"%")]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("内存")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("JVM")])])])]),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("总内存")])]),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.total)+"G")]):e._e()]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.total)+"M")]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("已用内存")])]),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.used)+"G")]):e._e()]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.used)+"M")]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("剩余内存")])]),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.free)+"G")]):e._e()]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.free)+"M")]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("使用率")])]),a("td",[e.server.mem?a("div",{staticClass:"cell",class:{"text-danger":e.server.mem.usage>80}},[e._v(e._s(e.server.mem.usage)+"%")]):e._e()]),a("td",[e.server.jvm?a("div",{staticClass:"cell",class:{"text-danger":e.server.jvm.usage>80}},[e._v(e._s(e.server.jvm.usage)+"%")]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器名称")])]),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerName))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("操作系统")])]),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osName))]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器IP")])]),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerIp))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("系统架构")])]),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osArch))]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Java虚拟机信息")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("Java名称")])]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.name))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("Java版本")])]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.version))]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("启动时间")])]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.startTime))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("运行时长")])]),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.runTime))]):e._e()])]),a("tr",[a("td",{attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("安装路径")])]),a("td",{attrs:{colspan:"3"}},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.home))]):e._e()])]),a("tr",[a("td",{attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("项目路径")])]),a("td",{attrs:{colspan:"3"}},[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.userDir))]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("磁盘状态")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符路径")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("文件系统")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符类型")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("总大小")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("可用大小")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用大小")])]),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用百分比")])])])]),e.server.sysFiles?a("tbody",e._l(e.server.sysFiles,(function(t){return a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.dirName))])]),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.sysTypeName))])]),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.typeName))])]),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.total))])]),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.free))])]),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.used))])]),a("td",[a("div",{staticClass:"cell",class:{"text-danger":t.usage>80}},[e._v(e._s(t.usage)+"%")])])])})),0):e._e()])])])],1)],1)],1)},n=[],o=a("b775");function l(){return Object(o["a"])({url:"/monitor/server",method:"get"})}var i={name:"Server",data:function(){return{loading:[],server:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;l().then((function(t){e.server=t.data,e.loading.close()}))},openLoading:function(){this.loading=this.$loading({lock:!0,text:"拼命读取中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},s=i,c=a("2877"),u=Object(c["a"])(s,r,n,!1,null,null,null);t["default"]=u.exports},"2ba0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:rank:add"],expression:"['shop:rank:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:rank:edit"],expression:"['shop:rank:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:rank:remove"],expression:"['shop:rank:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:rank:export"],expression:"['shop:rank:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.rankList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"顾问等级ID",align:"center",prop:"levelId"}}),a("el-table-column",{attrs:{label:"顾问等级名称",align:"center",prop:"levelName"}}),a("el-table-column",{attrs:{label:"顾问佣金比例",align:"center",prop:"commissionRatio"}}),a("el-table-column",{attrs:{label:"是否可用",align:"center",prop:"useFlag",formatter:e.useFlagFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:rank:edit"],expression:"['shop:rank:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:rank:remove"],expression:"['shop:rank:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"550px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"顾问等级名称",prop:"levelName"}},[a("el-input",{attrs:{placeholder:"请输入顾问等级名称"},model:{value:e.form.levelName,callback:function(t){e.$set(e.form,"levelName",t)},expression:"form.levelName"}})],1),a("el-form-item",{attrs:{label:"顾问佣金比例",prop:"commissionRatio"}},[a("el-input-number",{attrs:{placeholder:"请输入顾问佣金比例",min:0,step:.01,max:1,"controls-position":"right"},model:{value:e.form.commissionRatio,callback:function(t){e.$set(e.form,"commissionRatio",t)},expression:"form.commissionRatio"}})],1),a("el-form-item",{attrs:{label:"是否可用"}},[a("el-radio-group",{model:{value:e.form.useFlag,callback:function(t){e.$set(e.form,"useFlag",t)},expression:"form.useFlag"}},e._l(e.useFlagOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("3340")),l={name:"Rank",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,rankList:[],title:"",open:!1,useFlagOptions:[],queryParams:{pageNum:1,pageSize:10},form:{},rules:{levelName:[{required:!0,message:"请输入等级名称",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.useFlagOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["e"])(this.queryParams).then((function(t){e.rankList=t.rows,e.total=t.total,e.loading=!1}))},useFlagFormat:function(e,t){return this.selectDictLabel(this.useFlagOptions,e.useFlag)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={levelId:null,levelName:null,commissionRatio:null,useFlag:"Y",createBy:null,createTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.levelId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加顾问等级"},handleUpdate:function(e){var t=this;this.reset();var a=e.levelId||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改顾问等级"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.levelId?Object(o["g"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.levelId||this.ids;this.$confirm('是否确认删除顾问等级编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有顾问等级数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"2c14":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"订单ID",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderId,callback:function(t){e.$set(e.queryParams,"orderId",t)},expression:"queryParams.orderId"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:orderItem:add"],expression:"['business:orderItem:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:orderItem:edit"],expression:"['business:orderItem:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:orderItem:remove"],expression:"['business:orderItem:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:orderItem:export"],expression:"['business:orderItem:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.orderItemList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"订单ID",align:"center",prop:"orderId"}}),a("el-table-column",{attrs:{label:"商品ID",align:"center",prop:"goodsId"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"skuID",align:"center",prop:"skuId"}}),a("el-table-column",{attrs:{label:"购买数量",align:"center",prop:"goodsNum"}}),a("el-table-column",{attrs:{label:"商品价格",align:"center",prop:"price"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:orderItem:edit"],expression:"['business:orderItem:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:orderItem:remove"],expression:"['business:orderItem:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"订单ID",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单ID"},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1),a("el-form-item",{attrs:{label:"商品ID",prop:"goodsId"}},[a("el-input",{attrs:{placeholder:"请输入商品ID"},model:{value:e.form.goodsId,callback:function(t){e.$set(e.form,"goodsId",t)},expression:"form.goodsId"}})],1),a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName",t)},expression:"form.productName"}})],1),a("el-form-item",{attrs:{label:"skuID",prop:"skuId"}},[a("el-input",{attrs:{placeholder:"请输入skuID"},model:{value:e.form.skuId,callback:function(t){e.$set(e.form,"skuId",t)},expression:"form.skuId"}})],1),a("el-form-item",{attrs:{label:"购买数量",prop:"goodsNum"}},[a("el-input",{attrs:{placeholder:"请输入购买数量"},model:{value:e.form.goodsNum,callback:function(t){e.$set(e.form,"goodsNum",t)},expression:"form.goodsNum"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入商品价格"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("5433")),l={name:"OrderItem",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,orderItemList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderId:null},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(o["e"])(this.queryParams).then((function(t){e.orderItemList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,orderId:null,goodsId:null,productName:null,skuId:null,goodsNum:null,price:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加订单项"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改订单项"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(o["f"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除订单项编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有订单项数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"2e2a":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return i}));var r={formRef:"elForm",formModel:"formData",size:"medium",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0},n=[{label:"单行文本",tag:"el-input",tagIcon:"input",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"多行文本",tag:"el-input",tagIcon:"textarea",type:"textarea",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,autosize:{minRows:4,maxRows:4},style:{width:"100%"},maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"密码",tag:"el-input",tagIcon:"password",placeholder:"请输入",defaultValue:void 0,span:24,"show-password":!0,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"计数器",tag:"el-input-number",tagIcon:"number",placeholder:"",defaultValue:void 0,span:24,labelWidth:null,min:void 0,max:void 0,step:void 0,"step-strictly":!1,precision:void 0,"controls-position":"",disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input-number"}],o=[{label:"下拉选择",tag:"el-select",tagIcon:"select",placeholder:"请选择",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,disabled:!1,required:!0,filterable:!1,multiple:!1,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/select"},{label:"级联选择",tag:"el-cascader",tagIcon:"cascader",placeholder:"请选择",defaultValue:[],span:24,labelWidth:null,style:{width:"100%"},props:{props:{multiple:!1}},"show-all-levels":!0,disabled:!1,clearable:!0,filterable:!1,required:!0,options:[{id:1,value:1,label:"选项1",children:[{id:2,value:2,label:"选项1-1"}]}],dataType:"dynamic",labelKey:"label",valueKey:"value",childrenKey:"children",separator:"/",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/cascader"},{label:"单选框组",tag:"el-radio-group",tagIcon:"radio",defaultValue:void 0,span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/radio"},{label:"多选框组",tag:"el-checkbox-group",tagIcon:"checkbox",defaultValue:[],span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/checkbox"},{label:"开关",tag:"el-switch",tagIcon:"switch",defaultValue:!1,span:24,labelWidth:null,style:{},disabled:!1,required:!0,"active-text":"","inactive-text":"","active-color":null,"inactive-color":null,"active-value":!0,"inactive-value":!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/switch"},{label:"滑块",tag:"el-slider",tagIcon:"slider",defaultValue:null,span:24,labelWidth:null,disabled:!1,required:!0,min:0,max:100,step:1,"show-stops":!1,range:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/slider"},{label:"时间选择",tag:"el-time-picker",tagIcon:"time",placeholder:"请选择",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"picker-options":{selectableRange:"00:00:00-23:59:59"},format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"时间范围",tag:"el-time-picker",tagIcon:"time-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"is-range":!0,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"日期选择",tag:"el-date-picker",tagIcon:"date",placeholder:"请选择",defaultValue:null,type:"date",span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"日期范围",tag:"el-date-picker",tagIcon:"date-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"评分",tag:"el-rate",tagIcon:"rate",defaultValue:0,span:24,labelWidth:null,style:{},max:5,"allow-half":!1,"show-text":!1,"show-score":!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/rate"},{label:"颜色选择",tag:"el-color-picker",tagIcon:"color",defaultValue:null,labelWidth:null,"show-alpha":!1,"color-format":"",disabled:!1,required:!0,size:"medium",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/color-picker"},{label:"上传",tag:"el-upload",tagIcon:"upload",action:"https://jsonplaceholder.typicode.com/posts/",defaultValue:null,labelWidth:null,disabled:!1,required:!0,accept:"",name:"file","auto-upload":!0,showTip:!1,buttonText:"点击上传",fileSize:2,sizeUnit:"MB","list-type":"text",multiple:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/upload"}],l=[{layout:"rowFormItem",tagIcon:"row",type:"default",justify:"start",align:"top",label:"行容器",layoutTree:!0,children:[],document:"https://element.eleme.cn/#/zh-CN/component/layout"},{layout:"colFormItem",label:"按钮",changeTag:!0,labelWidth:null,tag:"el-button",tagIcon:"button",span:24,default:"主要按钮",type:"primary",icon:"el-icon-search",size:"medium",disabled:!1,document:"https://element.eleme.cn/#/zh-CN/component/button"}],i={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"}},"31e0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"typeName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.typeName,callback:function(t){e.$set(e.queryParams,"typeName",t)},expression:"queryParams.typeName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:type:add"],expression:"['goods:type:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:type:edit"],expression:"['goods:type:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{label:"分类名称",align:"center",prop:"typeName"}}),a("el-table-column",{attrs:{label:"分类排序",align:"center",prop:"sortNo"}}),a("el-table-column",{attrs:{label:"商品数量",align:"center",prop:"goodsNum"}}),a("el-table-column",{attrs:{label:"是否可用",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[0!=t.row.id?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:type:edit"],expression:"['goods:type:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]):e._e(),0!=t.row.id?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:type:remove"],expression:"['goods:type:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"类型名称",prop:"typeName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.form.typeName,callback:function(t){e.$set(e.form,"typeName",t)},expression:"form.typeName"}})],1),a("el-form-item",{attrs:{label:"类型描述",prop:"typeDesc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入类型描述"},model:{value:e.form.typeDesc,callback:function(t){e.$set(e.form,"typeDesc",t)},expression:"form.typeDesc"}})],1),a("el-form-item",{attrs:{label:"是否可用",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"排序编号",prop:"sortNo"}},[a("el-input",{attrs:{placeholder:"请输入排序编号"},model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("7f04")),l={name:"Type",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,typeList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,typeName:null},form:{},rules:{typeName:[{required:!0,message:"类型名称不能为空",trigger:"blur"}],typeDesc:[{required:!0,message:"类型描述不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"change"}],sortNo:[{required:!0,message:"排序编号不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["e"])(this.queryParams).then((function(t){e.typeList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,typeName:null,typeDesc:null,goodsNum:null,status:"Y",sortNo:null,createTime:null,createBy:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加商品类型"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改商品类型"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(o["f"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除商品类型编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有商品类型数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},3340:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u}));var r=a("b775");function n(e){return Object(r["a"])({url:"/shop/rank/list",method:"get",params:e})}function o(){return Object(r["a"])({url:"/shop/rank/getAllConsultantList",method:"get"})}function l(e){return Object(r["a"])({url:"/shop/rank/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/shop/rank",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/shop/rank",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/shop/rank/"+e,method:"delete"})}function u(e){return Object(r["a"])({url:"/shop/rank/export",method:"get",params:e})}},3528:function(e,t,a){"use strict";a.d(t,"k",(function(){return n})),a.d(t,"j",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"m",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"i",(function(){return m})),a.d(t,"b",(function(){return d})),a.d(t,"l",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return b}));var r=a("b775");function n(e){return Object(r["a"])({url:"/system/role/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/system/role/"+e,method:"get"})}function l(e){return Object(r["a"])({url:"/system/role",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/system/role",method:"put",data:e})}function s(e){return Object(r["a"])({url:"/system/role/dataScope",method:"put",data:e})}function c(e,t){var a={roleId:e,status:t};return Object(r["a"])({url:"/system/role/changeStatus",method:"put",data:a})}function u(e){return Object(r["a"])({url:"/system/role/"+e,method:"delete"})}function m(e){return Object(r["a"])({url:"/system/role/export",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/system/role/authUser/allocatedList",method:"get",params:e})}function p(e){return Object(r["a"])({url:"/system/role/authUser/unallocatedList",method:"get",params:e})}function f(e){return Object(r["a"])({url:"/system/role/authUser/cancel",method:"put",data:e})}function h(e){return Object(r["a"])({url:"/system/role/authUser/cancelAll",method:"put",params:e})}function b(e){return Object(r["a"])({url:"/system/role/authUser/selectAll",method:"put",params:e})}},3986:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u}));var r=a("b775");function n(e){return Object(r["a"])({url:"/business/vip/list",method:"get",params:e})}function o(){return Object(r["a"])({url:"/business/vip/getAllViplist",method:"get"})}function l(e){return Object(r["a"])({url:"/business/vip/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/business/vip",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/business/vip",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/business/vip/"+e,method:"delete"})}function u(e){return Object(r["a"])({url:"/business/vip/export",method:"get",params:e})}},"39e8":function(e,t,a){"use strict";a("b648")},"3a7e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icons-container"},[e._m(0),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Icons"}},e._l(e.svgIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.generateIconCode(t))+" ")]),a("div",{staticClass:"icon-item"},[a("svg-icon",{attrs:{"icon-class":t,"class-name":"disabled"}}),a("span",[e._v(e._s(t))])],1)])],1)})),0),a("el-tab-pane",{attrs:{label:"Element-UI Icons"}},e._l(e.elementIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.generateElementIconCode(t))+" ")]),a("div",{staticClass:"icon-item"},[a("i",{class:"el-icon-"+t}),a("span",[e._v(e._s(t))])])])],1)})),0)],1)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",[a("a",{attrs:{href:"#",target:"_blank"}},[e._v("Add and use ")])])}],o=a("c7e9"),l=a("bb49"),i={name:"Icons",data:function(){return{svgIcons:o["default"],elementIcons:l["default"]}},methods:{generateIconCode:function(e){return'<svg-icon icon-class="'.concat(e,'" />')},generateElementIconCode:function(e){return'<i class="el-icon-'.concat(e,'" />')}}},s=i,c=(a("4099"),a("2877")),u=Object(c["a"])(s,r,n,!1,null,"101db740",null);t["default"]=u.exports},"3b1b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userId,callback:function(t){e.$set(e.queryParams,"userId",t)},expression:"queryParams.userId"}})],1),a("el-form-item",{attrs:{label:"商品ID",prop:"goodsId"}},[a("el-input",{attrs:{placeholder:"请输入商品ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.goodsId,callback:function(t){e.$set(e.queryParams,"goodsId",t)},expression:"queryParams.goodsId"}})],1),a("el-form-item",{attrs:{label:"商品ID",prop:"skuId"}},[a("el-input",{attrs:{placeholder:"请输入商品ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.skuId,callback:function(t){e.$set(e.queryParams,"skuId",t)},expression:"queryParams.skuId"}})],1),a("el-form-item",{attrs:{label:"数量",prop:"goodsNum"}},[a("el-input",{attrs:{placeholder:"请输入数量",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.goodsNum,callback:function(t){e.$set(e.queryParams,"goodsNum",t)},expression:"queryParams.goodsNum"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:cart:add"],expression:"['business:cart:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:cart:edit"],expression:"['business:cart:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:cart:remove"],expression:"['business:cart:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:cart:export"],expression:"['business:cart:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cartList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"商品ID",align:"center",prop:"goodsId"}}),a("el-table-column",{attrs:{label:"商品ID",align:"center",prop:"skuId"}}),a("el-table-column",{attrs:{label:"数量",align:"center",prop:"goodsNum"}}),a("el-table-column",{attrs:{label:"价格",align:"center",prop:"price"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:cart:edit"],expression:"['business:cart:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:cart:remove"],expression:"['business:cart:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),a("el-form-item",{attrs:{label:"商品ID",prop:"goodsId"}},[a("el-input",{attrs:{placeholder:"请输入商品ID"},model:{value:e.form.goodsId,callback:function(t){e.$set(e.form,"goodsId",t)},expression:"form.goodsId"}})],1),a("el-form-item",{attrs:{label:"商品ID",prop:"skuId"}},[a("el-input",{attrs:{placeholder:"请输入商品ID"},model:{value:e.form.skuId,callback:function(t){e.$set(e.form,"skuId",t)},expression:"form.skuId"}})],1),a("el-form-item",{attrs:{label:"数量",prop:"goodsNum"}},[a("el-input",{attrs:{placeholder:"请输入数量"},model:{value:e.form.goodsNum,callback:function(t){e.$set(e.form,"goodsNum",t)},expression:"form.goodsNum"}})],1),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入价格"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/business/cart/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/business/cart/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/business/cart",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/business/cart",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/business/cart/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/business/cart/export",method:"get",params:e})}var d={name:"Cart",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,cartList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,userId:null,goodsId:null,skuId:null,goodsNum:null,status:null},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.cartList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,userId:null,goodsId:null,skuId:null,goodsNum:null,price:null,status:"0",createTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加购物车"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改购物车"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除购物车编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有购物车数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},"3bd3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cardhistoryList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"userPhone"}}),a("el-table-column",{attrs:{label:"次卡名称",align:"center",prop:"cardName"}}),a("el-table-column",{attrs:{label:"使用项目",align:"center",prop:"shopItemName"}}),a("el-table-column",{attrs:{label:"使用时间",align:"center",prop:"useTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.useTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"使用次数",align:"center",prop:"useTimes"}}),a("el-table-column",{attrs:{label:"剩余次数",align:"center",prop:"lastTimes"}}),a("el-table-column",{attrs:{label:"操作技师",align:"center",prop:"operateUser"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),a("el-form-item",{attrs:{label:"次卡ID",prop:"cardId"}},[a("el-input",{attrs:{placeholder:"请输入次卡ID"},model:{value:e.form.cardId,callback:function(t){e.$set(e.form,"cardId",t)},expression:"form.cardId"}})],1),a("el-form-item",{attrs:{label:"使用时间",prop:"useTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择使用时间"},model:{value:e.form.useTime,callback:function(t){e.$set(e.form,"useTime",t)},expression:"form.useTime"}})],1),a("el-form-item",{attrs:{label:"使用次数",prop:"useTimes"}},[a("el-input",{attrs:{placeholder:"请输入使用次数"},model:{value:e.form.useTimes,callback:function(t){e.$set(e.form,"useTimes",t)},expression:"form.useTimes"}})],1),a("el-form-item",{attrs:{label:"剩余次数",prop:"lastTimes"}},[a("el-input",{attrs:{placeholder:"请输入剩余次数"},model:{value:e.form.lastTimes,callback:function(t){e.$set(e.form,"lastTimes",t)},expression:"form.lastTimes"}})],1),a("el-form-item",{attrs:{label:"操作技师",prop:"operateUser"}},[a("el-input",{attrs:{placeholder:"请输入操作技师"},model:{value:e.form.operateUser,callback:function(t){e.$set(e.form,"operateUser",t)},expression:"form.operateUser"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/finance/cardhistory/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/finance/cardhistory/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/finance/cardhistory",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/finance/cardhistory",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/finance/cardhistory/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/finance/cardhistory/export",method:"get",params:e})}var d={name:"Cardhistory",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,cardhistoryList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,userId:null,cardId:null},form:{},rules:{}}},created:function(){var e=this.$route.query&&this.$route.query.userId;this.queryParams.userId=e;var t=this.$route.query&&this.$route.query.cardId;this.queryParams.cardId=t,this.getList()},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.cardhistoryList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,userId:null,cardId:null,useTime:null,useTimes:null,lastTimes:null,operateUser:null,createBy:null,createTime:null,updateBy:null,updateTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加用户次卡使用记录"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改用户次卡使用记录"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除用户次卡使用记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户次卡使用记录数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},"3c11":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:sku:add"],expression:"['goods:sku:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:sku:edit"],expression:"['goods:sku:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:sku:remove"],expression:"['goods:sku:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:sku:export"],expression:"['goods:sku:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.skuList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"商品ID",align:"center",prop:"goodsId"}}),a("el-table-column",{attrs:{label:"规格名称",align:"center",prop:"skuName"}}),a("el-table-column",{attrs:{label:"价格",align:"center",prop:"price"}}),a("el-table-column",{attrs:{label:"数量",align:"center",prop:"stockNum"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:sku:edit"],expression:"['goods:sku:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:sku:remove"],expression:"['goods:sku:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"商品ID",prop:"goodsId"}},[a("el-input",{attrs:{placeholder:"请输入商品ID"},model:{value:e.form.goodsId,callback:function(t){e.$set(e.form,"goodsId",t)},expression:"form.goodsId"}})],1),a("el-form-item",{attrs:{label:"规格名称",prop:"skuName"}},[a("el-input",{attrs:{placeholder:"请输入规格名称"},model:{value:e.form.skuName,callback:function(t){e.$set(e.form,"skuName",t)},expression:"form.skuName"}})],1),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入价格"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"数量",prop:"stockNum"}},[a("el-input",{attrs:{placeholder:"请输入数量"},model:{value:e.form.stockNum,callback:function(t){e.$set(e.form,"stockNum",t)},expression:"form.stockNum"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("ec01")),l={name:"Sku",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,skuList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(o["f"])(this.queryParams).then((function(t){e.skuList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,goodsId:null,skuName:null,price:null,stockNum:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加商品规格"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(o["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改商品规格"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(o["g"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除商品规格编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有商品规格数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"3eac":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"任务状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择任务状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:add"],expression:"['monitor:job:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:edit"],expression:"['monitor:job:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:export"],expression:"['monitor:job:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{type:"info",plain:"",icon:"el-icon-s-operation",size:"mini"},on:{click:e.handleJobLog}},[e._v("日志")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"任务编号",align:"center",prop:"jobId"}}),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat}}),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"cron执行表达式",align:"center",prop:"cronExpression","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:edit"],expression:"['monitor:job:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-dropdown",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:changeStatus","monitor:job:query"],expression:"['monitor:job:changeStatus', 'monitor:job:query']"}],attrs:{size:"mini"},on:{command:function(a){return e.handleCommand(a,t.row)}}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-d-arrow-right el-icon--right"}),e._v("更多 ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:changeStatus"],expression:"['monitor:job:changeStatus']"}],attrs:{command:"handleRun",icon:"el-icon-caret-right"}},[e._v("执行一次")]),a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{command:"handleView",icon:"el-icon-view"}},[e._v("任务详细")]),a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{command:"handleJobLog",icon:"el-icon-s-operation"}},[e._v("调度日志")])],1)],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.form.jobName,callback:function(t){e.$set(e.form,"jobName",t)},expression:"form.jobName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.jobGroup,callback:function(t){e.$set(e.form,"jobGroup",t)},expression:"form.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"invokeTarget"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 调用方法 "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" Bean调用示例：ryTask.ryParams('ry') "),a("br"),e._v("Class类调用示例：com.ruoyi.quartz.task.RyTask.ryParams('ry') "),a("br"),e._v("参数说明：支持字符串，布尔类型，长整型，浮点型，整型 ")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{attrs:{placeholder:"请输入调用目标字符串"},model:{value:e.form.invokeTarget,callback:function(t){e.$set(e.form,"invokeTarget",t)},expression:"form.invokeTarget"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"cron表达式",prop:"cronExpression"}},[a("el-input",{attrs:{placeholder:"请输入cron执行表达式"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发",prop:"concurrent"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.concurrent,callback:function(t){e.$set(e.form,"concurrent",t)},expression:"form.concurrent"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("允许")]),a("el-radio-button",{attrs:{label:"1"}},[e._v("禁止")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"错误策略",prop:"misfirePolicy"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.misfirePolicy,callback:function(t){e.$set(e.form,"misfirePolicy",t)},expression:"form.misfirePolicy"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("立即执行")]),a("el-radio-button",{attrs:{label:"2"}},[e._v("执行一次")]),a("el-radio-button",{attrs:{label:"3"}},[e._v("放弃执行")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"任务详细",visible:e.openView,width:"700px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openView=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务编号："}},[e._v(e._s(e.form.jobId))]),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.jobGroupFormat(e.form)))]),a("el-form-item",{attrs:{label:"创建时间："}},[e._v(e._s(e.form.createTime))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"cron表达式："}},[e._v(e._s(e.form.cronExpression))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下次执行时间："}},[e._v(e._s(e.parseTime(e.form.nextValidTime)))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用目标方法："}},[e._v(e._s(e.form.invokeTarget))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发："}},[0==e.form.concurrent?a("div",[e._v("允许")]):1==e.form.concurrent?a("div",[e._v("禁止")]):e._e()])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"执行策略："}},[0==e.form.misfirePolicy?a("div",[e._v("默认策略")]):1==e.form.misfirePolicy?a("div",[e._v("立即执行")]):2==e.form.misfirePolicy?a("div",[e._v("执行一次")]):3==e.form.misfirePolicy?a("div",[e._v("放弃执行")]):e._e()])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.openView=!1}}},[e._v("关 闭")])],1)],1)],1)},n=[],o=(a("d81d"),a("a159")),l={name:"Job",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,jobList:[],title:"",open:!1,openView:!1,jobGroupOptions:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0},form:{},rules:{jobName:[{required:!0,message:"任务名称不能为空",trigger:"blur"}],invokeTarget:[{required:!0,message:"调用目标字符串不能为空",trigger:"blur"}],cronExpression:[{required:!0,message:"cron执行表达式不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data})),this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["f"])(this.queryParams).then((function(t){e.jobList=t.rows,e.total=t.total,e.loading=!1}))},jobGroupFormat:function(e,t){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={jobId:void 0,jobName:void 0,jobGroup:void 0,invokeTarget:void 0,cronExpression:void 0,misfirePolicy:1,concurrent:1,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobId})),this.single=1!=e.length,this.multiple=!e.length},handleCommand:function(e,t){switch(e){case"handleRun":this.handleRun(t);break;case"handleView":this.handleView(t);break;case"handleJobLog":this.handleJobLog(t);break;default:break}},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.jobName+'"任务吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.jobId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},handleRun:function(e){var t=this;this.$confirm('确认要立即执行一次"'+e.jobName+'"任务吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.jobId,e.jobGroup)})).then((function(){t.msgSuccess("执行成功")})).catch((function(){}))},handleView:function(e){var t=this;Object(o["e"])(e.jobId).then((function(e){t.form=e.data,t.openView=!0}))},handleJobLog:function(e){var t=e.jobId||0;this.$router.push({path:"/monitor/job-log/index",query:{jobId:t}})},handleAdd:function(){this.reset(),this.open=!0,this.title="添加任务"},handleUpdate:function(e){var t=this;this.reset();var a=e.jobId||this.ids;Object(o["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改任务"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.jobId?Object(o["h"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.jobId||this.ids;this.$confirm('是否确认删除定时任务编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有定时任务数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["d"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},4099:function(e,t,a){"use strict";a("ea55")},4222:function(e,t,a){"use strict";a("1b3f")},"441a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"下单时间",prop:"orderTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择下单时间"},model:{value:e.queryParams.orderTime,callback:function(t){e.$set(e.queryParams,"orderTime",t)},expression:"queryParams.orderTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:order:export"],expression:"['business:order:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:4}},[a("strong",[e._v("合计金额："+e._s(e.totalAmount)+" 元")])]),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.orderList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"购买用户",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"下单时间",align:"center",prop:"orderTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.orderTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"消费类型",align:"center",prop:"consumeType",formatter:e.consumeTypeFormat}}),a("el-table-column",{attrs:{label:"订单类型",align:"center",prop:"orderType",formatter:e.orderTypeFormat}}),a("el-table-column",{attrs:{label:"订单金额",align:"center",prop:"orderAmount"}}),a("el-table-column",{attrs:{label:"运费",align:"center",prop:"freightAmount"}}),a("el-table-column",{attrs:{label:"总金额",align:"center",prop:"sumAmount"}}),a("el-table-column",{attrs:{label:"支付时间",align:"center",prop:"payTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.payTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"orderStatus",formatter:e.orderStatusFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:order:edit"],expression:"['business:order:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("详情")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"80%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"购买用户",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入购买用户"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName",t)},expression:"form.productName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号"},model:{value:e.form.orderCode,callback:function(t){e.$set(e.form,"orderCode",t)},expression:"form.orderCode"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下单时间",prop:"orderTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择下单时间"},model:{value:e.form.orderTime,callback:function(t){e.$set(e.form,"orderTime",t)},expression:"form.orderTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信支付下单号",prop:"outTradeNo"}},[a("el-input",{attrs:{placeholder:"请输入微信支付下单号"},model:{value:e.form.outTradeNo,callback:function(t){e.$set(e.form,"outTradeNo",t)},expression:"form.outTradeNo"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"消费类型",prop:"consumeType"}},[a("el-select",{attrs:{placeholder:"请选择消费类型"},model:{value:e.form.consumeType,callback:function(t){e.$set(e.form,"consumeType",t)},expression:"form.consumeType"}},e._l(e.consumeTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单类型",prop:"orderType"}},[a("el-select",{attrs:{placeholder:"请选择订单类型"},model:{value:e.form.orderType,callback:function(t){e.$set(e.form,"orderType",t)},expression:"form.orderType"}},e._l(e.orderTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单金额",prop:"orderAmount"}},[a("el-input",{attrs:{placeholder:"请输入订单金额"},model:{value:e.form.orderAmount,callback:function(t){e.$set(e.form,"orderAmount",t)},expression:"form.orderAmount"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"运费",prop:"freightAmount"}},[a("el-input",{attrs:{placeholder:"请输入运费"},model:{value:e.form.freightAmount,callback:function(t){e.$set(e.form,"freightAmount",t)},expression:"form.freightAmount"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"总金额",prop:"sumAmount"}},[a("el-input",{attrs:{placeholder:"请输入总金额"},model:{value:e.form.sumAmount,callback:function(t){e.$set(e.form,"sumAmount",t)},expression:"form.sumAmount"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支付类型",prop:"payType"}},[a("el-select",{attrs:{placeholder:"请选择支付类型"},model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},e._l(e.payTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:parseInt(e.dictValue)}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支付时间",prop:"payTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择支付时间"},model:{value:e.form.payTime,callback:function(t){e.$set(e.form,"payTime",t)},expression:"form.payTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单状态"}},[a("el-radio-group",{model:{value:e.form.orderStatus,callback:function(t){e.$set(e.form,"orderStatus",t)},expression:"form.orderStatus"}},e._l(e.orderStatusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物流单号",prop:"logisticsCode"}},[a("el-input",{attrs:{placeholder:"请输入物流单号"},model:{value:e.form.logisticsCode,callback:function(t){e.$set(e.form,"logisticsCode",t)},expression:"form.logisticsCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物流类型",prop:"logisticsType"}},[e._v(" "+e._s(e.form.logisticsType)+" ")])],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货人姓名",prop:"takeUser"}},[a("el-input",{attrs:{placeholder:"请输入收货人姓名"},model:{value:e.form.takeUser,callback:function(t){e.$set(e.form,"takeUser",t)},expression:"form.takeUser"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货人手机号",prop:"takePhone"}},[a("el-input",{attrs:{placeholder:"请输入收货人手机号"},model:{value:e.form.takePhone,callback:function(t){e.$set(e.form,"takePhone",t)},expression:"form.takePhone"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"收货人地址",prop:"takeAddress"}},[a("el-input",{attrs:{placeholder:"请输入收货人地址"},model:{value:e.form.takeAddress,callback:function(t){e.$set(e.form,"takeAddress",t)},expression:"form.takeAddress"}})],1)],1)],1)],1),e.form.orderItemList.length>0?a("el-row",[a("el-table",{attrs:{data:e.form.orderItemList}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"图片",align:"center",prop:"goodsImg"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.goodsImg,fit:e.fit}})]}}],null,!1,2820423175)}),a("el-table-column",{attrs:{label:"商品数量",align:"center",prop:"goodsNum"}}),a("el-table-column",{attrs:{label:"商品价格",align:"center",prop:"price"}}),a("el-table-column",{attrs:{label:"规格",align:"center",prop:"skuAttr"}})],1)],1):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("关 闭")])],1)],1)],1)},n=[],o=(a("d3b7"),a("159b"),a("d81d"),a("b946")),l={name:"Order",data:function(){return{totalAmount:0,loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,orderList:[],title:"",open:!1,consumeTypeOptions:[],orderTypeOptions:[],payTypeOptions:[],orderStatusOptions:[],queryParams:{pageNum:1,pageSize:10,userId:null,userName:null,productName:null,orderCode:null,orderTime:null,outTradeNo:null,consumeType:"01",orderType:null,orderAmount:null,freightAmount:null,sumAmount:null,payType:null,payTime:null,orderStatus:null,logisticsCode:null,logisticsType:null,takeUser:null,takePhone:null,takeAddress:null},form:{orderItemList:[]},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("order_info_consume_type").then((function(t){e.consumeTypeOptions=t.data})),this.getDicts("sys_order_type").then((function(t){e.orderTypeOptions=t.data})),this.getDicts("order_info_pay_type").then((function(t){e.payTypeOptions=t.data})),this.getDicts("sys_order_status").then((function(t){e.orderStatusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,this.totalAmount=0,Object(o["e"])(this.queryParams).then((function(t){e.orderList=t.rows,e.orderList.forEach((function(t){e.totalAmount+=parseFloat(t.sumAmount)})),e.total=t.total,e.loading=!1}))},consumeTypeFormat:function(e,t){return this.selectDictLabel(this.consumeTypeOptions,e.consumeType)},orderTypeFormat:function(e,t){return this.selectDictLabel(this.orderTypeOptions,e.orderType)},payTypeFormat:function(e,t){return this.selectDictLabel(this.payTypeOptions,e.payType)},orderStatusFormat:function(e,t){return console.log(this.orderStatusOptions,"orderStatusOptions"),this.selectDictLabel(this.orderStatusOptions,e.orderStatus)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,userId:null,userName:null,productName:null,orderCode:null,orderTime:null,outTradeNo:null,consumeType:"01",orderType:null,orderAmount:null,freightAmount:null,sumAmount:null,payType:null,payTime:null,orderStatus:"0",logisticsCode:null,logisticsType:null,takeUser:null,takePhone:null,takeAddress:null,createTime:null,createBy:null,updateTime:null,updateBy:null,orderItemList:[]},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加订单信息"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改订单信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(o["f"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除订单信息编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有订单信息数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},4509:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"入账时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangeIncomeTime,callback:function(t){e.daterangeIncomeTime=t},expression:"daterangeIncomeTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:imcomeDetail:export"],expression:"['finance:imcomeDetail:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.imcomeDetailList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"用户姓名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"账户金额",align:"center",prop:"accountAmount"}}),a("el-table-column",{attrs:{label:"入账金额",align:"center",prop:"incomeAmount"}}),a("el-table-column",{attrs:{label:"入账时间",align:"center",prop:"incomeTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.incomeTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"入账描述",align:"center",prop:"incomeDesc"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),a("el-form-item",{attrs:{label:"账户金额",prop:"accountAmount"}},[a("el-input",{attrs:{placeholder:"请输入账户金额"},model:{value:e.form.accountAmount,callback:function(t){e.$set(e.form,"accountAmount",t)},expression:"form.accountAmount"}})],1),a("el-form-item",{attrs:{label:"入账金额",prop:"incomeAmount"}},[a("el-input",{attrs:{placeholder:"请输入入账金额"},model:{value:e.form.incomeAmount,callback:function(t){e.$set(e.form,"incomeAmount",t)},expression:"form.incomeAmount"}})],1),a("el-form-item",{attrs:{label:"入账时间",prop:"incomeTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择入账时间"},model:{value:e.form.incomeTime,callback:function(t){e.$set(e.form,"incomeTime",t)},expression:"form.incomeTime"}})],1),a("el-form-item",{attrs:{label:"入账类型",prop:"incomeType"}},[a("el-select",{attrs:{placeholder:"请选择入账类型"},model:{value:e.form.incomeType,callback:function(t){e.$set(e.form,"incomeType",t)},expression:"form.incomeType"}},e._l(e.incomeTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"入账描述",prop:"incomeDesc"}},[a("el-input",{attrs:{placeholder:"请输入入账描述"},model:{value:e.form.incomeDesc,callback:function(t){e.$set(e.form,"incomeDesc",t)},expression:"form.incomeDesc"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/finance/imcomeDetail/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/finance/imcomeDetail/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/finance/imcomeDetail",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/finance/imcomeDetail",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/finance/imcomeDetail/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/finance/imcomeDetail/export",method:"get",params:e})}var d={name:"ImcomeDetail",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,imcomeDetailList:[],title:"",open:!1,daterangeIncomeTime:[],incomeTypeOptions:[],queryParams:{pageNum:1,pageSize:10,userId:null,incomeTime:null,incomeType:null},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_income_type").then((function(t){e.incomeTypeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,this.queryParams.params={},null!=this.daterangeIncomeTime&&""!=this.daterangeIncomeTime&&(this.queryParams.params["beginIncomeTime"]=this.daterangeIncomeTime[0],this.queryParams.params["endIncomeTime"]=this.daterangeIncomeTime[1]),l(this.queryParams).then((function(t){e.imcomeDetailList=t.rows,e.total=t.total,e.loading=!1}))},incomeTypeFormat:function(e,t){return this.selectDictLabel(this.incomeTypeOptions,e.incomeType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,userId:null,accountAmount:null,incomeAmount:null,incomeTime:null,incomeType:null,incomeDesc:null,createBy:null,createTime:null,updateBy:null,updateTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangeIncomeTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加用户入账记录"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="详情"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除用户入账记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户入账记录数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},4923:function(e,t,a){"use strict";a.r(t);a("d81d");var r=a("b76a"),n=a.n(r),o=a("a85b"),l={itemBtns:function(e,t,a,r){var n=this.$listeners,o=n.copyItem,l=n.deleteItem;return[e("span",{class:"drawing-item-copy",attrs:{title:"复制"},on:{click:function(e){o(t,r),e.stopPropagation()}}},[e("i",{class:"el-icon-copy-document"})]),e("span",{class:"drawing-item-delete",attrs:{title:"删除"},on:{click:function(e){l(a,r),e.stopPropagation()}}},[e("i",{class:"el-icon-delete"})])]}},i={colFormItem:function(e,t,a,r){var n=this,i=this.$listeners.activeItem,s=this.activeId===t.formId?"drawing-item active-from-item":"drawing-item";return this.formConf.unFocusedComponentBorder&&(s+=" unfocus-bordered"),e("el-col",{attrs:{span:t.span},class:s,nativeOn:{click:function(e){i(t),e.stopPropagation()}}},[e("el-form-item",{attrs:{"label-width":t.labelWidth?"".concat(t.labelWidth,"px"):null,label:t.label,required:t.required}},[e(o["a"],{key:t.renderKey,attrs:{conf:t},on:{input:function(e){n.$set(t,"defaultValue",e)}}})]),l.itemBtns.apply(this,arguments)])},rowFormItem:function(e,t,a,r){var o=this.$listeners.activeItem,i=this.activeId===t.formId?"drawing-row-item active-from-item":"drawing-row-item",c=s.apply(this,arguments);return"flex"===t.type&&(c=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[c])),e("el-col",{attrs:{span:t.span}},[e("el-row",{attrs:{gutter:t.gutter},class:i,nativeOn:{click:function(e){o(t),e.stopPropagation()}}},[e("span",{class:"component-name"},[t.componentName]),e(n.a,{attrs:{list:t.children,animation:340,group:"componentsGroup"},class:"drag-wrapper"},[c]),l.itemBtns.apply(this,arguments)])])}};function s(e,t,a,r){var n=this;return Array.isArray(t.children)?t.children.map((function(a,r){var o=i[a.layout];return o?o.call(n,e,a,r,t.children):c()})):null}function c(){throw new Error("没有与".concat(this.element.layout,"匹配的layout"))}var u,m,d={components:{render:o["a"],draggable:n.a},props:["element","index","drawingList","activeId","formConf"],render:function(e){var t=i[this.element.layout];return t?t.call(this,e,this.element,this.index,this.drawingList):c()}},p=d,f=a("2877"),h=Object(f["a"])(p,u,m,!1,null,null,null);t["default"]=h.exports},"4a49":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i-frame",{attrs:{src:e.url}})},n=[],o=a("061b"),l={name:"Swagger",components:{iFrame:o["a"]},data:function(){return{url:"http://beautyapi.weixinai.cn/swagger-ui/index.html"}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"4b3b":function(e,t,a){var r={"./":"1e4b","./baseconfig/article":"d2be","./baseconfig/article/":"d2be","./baseconfig/article/index":"d2be","./baseconfig/article/index.vue":"d2be","./baseconfig/banner":"d276","./baseconfig/banner/":"d276","./baseconfig/banner/index":"d276","./baseconfig/banner/index.vue":"d276","./baseconfig/branddetail":"1e47","./baseconfig/branddetail/":"1e47","./baseconfig/branddetail/index":"1e47","./baseconfig/branddetail/index.vue":"1e47","./baseconfig/content":"0984","./baseconfig/content/":"0984","./baseconfig/content/index":"0984","./baseconfig/content/index.vue":"0984","./baseconfig/question":"f94e","./baseconfig/question/":"f94e","./baseconfig/question/index":"f94e","./baseconfig/question/index.vue":"f94e","./baseconfig/user":"90cc","./baseconfig/user/":"90cc","./baseconfig/user/index":"90cc","./baseconfig/user/index.vue":"90cc","./baseconfig/userdetail":"a580","./baseconfig/userdetail/":"a580","./baseconfig/userdetail/index":"a580","./baseconfig/userdetail/index.vue":"a580","./business/apply":"77fe","./business/apply/":"77fe","./business/apply/index":"77fe","./business/apply/index.vue":"77fe","./business/cart":"3b1b","./business/cart/":"3b1b","./business/cart/index":"3b1b","./business/cart/index.vue":"3b1b","./business/consumer":"d22a","./business/consumer/":"d22a","./business/consumer/index":"d22a","./business/consumer/index.vue":"d22a","./business/itemorder":"0641","./business/itemorder/":"0641","./business/itemorder/index":"0641","./business/itemorder/index.vue":"0641","./business/itemorderdetail":"839f","./business/itemorderdetail/":"839f","./business/itemorderdetail/index":"839f","./business/itemorderdetail/index.vue":"839f","./business/offlinepayment":"e7d0","./business/offlinepayment/":"e7d0","./business/offlinepayment/index":"e7d0","./business/offlinepayment/index.vue":"e7d0","./business/onlinepayment":"441a","./business/onlinepayment/":"441a","./business/onlinepayment/index":"441a","./business/onlinepayment/index.vue":"441a","./business/order":"d31f","./business/order/":"d31f","./business/order/index":"d31f","./business/order/index.vue":"d31f","./business/orderItem":"2c14","./business/orderItem/":"2c14","./business/orderItem/index":"2c14","./business/orderItem/index.vue":"2c14","./business/record":"7a83","./business/record/":"7a83","./business/record/index":"7a83","./business/record/index.vue":"7a83","./business/statistics":"51d2","./business/statistics/":"51d2","./business/statistics/index":"51d2","./business/statistics/index.vue":"51d2","./business/vip":"164d","./business/vip/":"164d","./business/vip/index":"164d","./business/vip/index.vue":"164d","./components/icons":"3a7e","./components/icons/":"3a7e","./components/icons/element-icons":"bb49","./components/icons/element-icons.js":"bb49","./components/icons/index":"3a7e","./components/icons/index.vue":"3a7e","./components/icons/svg-icons":"c7e9","./components/icons/svg-icons.js":"c7e9","./dashboard/BarChart":"9488","./dashboard/BarChart.vue":"9488","./dashboard/LineChart":"eab4","./dashboard/LineChart.vue":"eab4","./dashboard/PanelGroup":"fbc4","./dashboard/PanelGroup.vue":"fbc4","./dashboard/PieChart":"d153","./dashboard/PieChart.vue":"d153","./dashboard/RaddarChart":"0a5c","./dashboard/RaddarChart.vue":"0a5c","./dashboard/mixins/resize":"feb2","./dashboard/mixins/resize.js":"feb2","./error/401":"ec55","./error/401.vue":"ec55","./error/404":"2754","./error/404.vue":"2754","./exam/comment":"c43e","./exam/comment/":"c43e","./exam/comment/index":"c43e","./exam/comment/index.vue":"c43e","./exam/examuser":"be5d","./exam/examuser/":"be5d","./exam/examuser/index":"be5d","./exam/examuser/index.vue":"be5d","./exam/item":"80bf","./exam/item/":"80bf","./exam/item/index":"80bf","./exam/item/index.vue":"80bf","./exam/order":"08ad","./exam/order/":"08ad","./exam/order/index":"08ad","./exam/order/index.vue":"08ad","./finance/cardhistory":"3bd3","./finance/cardhistory/":"3bd3","./finance/cardhistory/index":"3bd3","./finance/cardhistory/index.vue":"3bd3","./finance/imcomeDetail":"4509","./finance/imcomeDetail/":"4509","./finance/imcomeDetail/index":"4509","./finance/imcomeDetail/index.vue":"4509","./finance/inviteDetail":"650a","./finance/inviteDetail/":"650a","./finance/inviteDetail/index":"650a","./finance/inviteDetail/index.vue":"650a","./finance/numbercard":"d009","./finance/numbercard/":"d009","./finance/numbercard/index":"d009","./finance/numbercard/index.vue":"d009","./finance/payment":"82ab","./finance/payment/":"82ab","./finance/payment/index":"82ab","./finance/payment/index.vue":"82ab","./finance/recharge":"c024","./finance/recharge/":"c024","./finance/recharge/index":"c024","./finance/recharge/index.vue":"c024","./finance/usercalculate":"72d6","./finance/usercalculate/":"72d6","./finance/usercalculate/index":"72d6","./finance/usercalculate/index.vue":"72d6","./finance/withdraw":"af03b","./finance/withdraw/":"af03b","./finance/withdraw/index":"af03b","./finance/withdraw/index.vue":"af03b","./goods/card":"27c0","./goods/card/":"27c0","./goods/card/index":"27c0","./goods/card/index.vue":"27c0","./goods/goodsinfo":"50c4e","./goods/goodsinfo/":"50c4e","./goods/goodsinfo/index":"50c4e","./goods/goodsinfo/index.vue":"50c4e","./goods/sku":"3c11","./goods/sku/":"3c11","./goods/sku/index":"3c11","./goods/sku/index.vue":"3c11","./goods/type":"31e0","./goods/type/":"31e0","./goods/type/index":"31e0","./goods/type/index.vue":"31e0","./index":"1e4b","./index.vue":"1e4b","./login":"dd7b","./login.vue":"dd7b","./monitor/cache":"5911","./monitor/cache/":"5911","./monitor/cache/index":"5911","./monitor/cache/index.vue":"5911","./monitor/druid":"5194","./monitor/druid/":"5194","./monitor/druid/index":"5194","./monitor/druid/index.vue":"5194","./monitor/job":"3eac","./monitor/job/":"3eac","./monitor/job/index":"3eac","./monitor/job/index.vue":"3eac","./monitor/job/log":"0062","./monitor/job/log.vue":"0062","./monitor/logininfor":"67ef","./monitor/logininfor/":"67ef","./monitor/logininfor/index":"67ef","./monitor/logininfor/index.vue":"67ef","./monitor/online":"6b08","./monitor/online/":"6b08","./monitor/online/index":"6b08","./monitor/online/index.vue":"6b08","./monitor/operlog":"02f2","./monitor/operlog/":"02f2","./monitor/operlog/index":"02f2","./monitor/operlog/index.vue":"02f2","./monitor/server":"2a33","./monitor/server/":"2a33","./monitor/server/index":"2a33","./monitor/server/index.vue":"2a33","./redirect":"9b8f","./redirect.vue":"9b8f","./register":"7803","./register.vue":"7803","./shop/consultant":"b81a","./shop/consultant/":"b81a","./shop/consultant/index":"b81a","./shop/consultant/index.vue":"b81a","./shop/item":"6a28","./shop/item/":"6a28","./shop/item/index":"6a28","./shop/item/index.vue":"6a28","./shop/rank":"2ba0","./shop/rank/":"2ba0","./shop/rank/index":"2ba0","./shop/rank/index.vue":"2ba0","./shop/shopinfo":"7caf","./shop/shopinfo/":"7caf","./shop/shopinfo/index":"7caf","./shop/shopinfo/index.vue":"7caf","./system/config":"cdb7","./system/config/":"cdb7","./system/config/index":"cdb7","./system/config/index.vue":"cdb7","./system/dept":"5cfa","./system/dept/":"5cfa","./system/dept/index":"5cfa","./system/dept/index.vue":"5cfa","./system/dict":"046a","./system/dict/":"046a","./system/dict/data":"bfc4","./system/dict/data.vue":"bfc4","./system/dict/index":"046a","./system/dict/index.vue":"046a","./system/menu":"f794","./system/menu/":"f794","./system/menu/index":"f794","./system/menu/index.vue":"f794","./system/notice":"202d","./system/notice/":"202d","./system/notice/index":"202d","./system/notice/index.vue":"202d","./system/post":"5788","./system/post/":"5788","./system/post/index":"5788","./system/post/index.vue":"5788","./system/role":"70eb","./system/role/":"70eb","./system/role/authUser":"7054","./system/role/authUser.vue":"7054","./system/role/index":"70eb","./system/role/index.vue":"70eb","./system/role/selectUser":"a17e","./system/role/selectUser.vue":"a17e","./system/user":"1f34","./system/user/":"1f34","./system/user/authRole":"6a33","./system/user/authRole.vue":"6a33","./system/user/index":"1f34","./system/user/index.vue":"1f34","./system/user/profile":"4c1b","./system/user/profile/":"4c1b","./system/user/profile/index":"4c1b","./system/user/profile/index.vue":"4c1b","./system/user/profile/resetPwd":"ee46","./system/user/profile/resetPwd.vue":"ee46","./system/user/profile/userAvatar":"9429","./system/user/profile/userAvatar.vue":"9429","./system/user/profile/userInfo":"1e8b","./system/user/profile/userInfo.vue":"1e8b","./tool/build":"2855","./tool/build/":"2855","./tool/build/CodeTypeDialog":"a92a","./tool/build/CodeTypeDialog.vue":"a92a","./tool/build/DraggableItem":"4923","./tool/build/DraggableItem.vue":"4923","./tool/build/IconsDialog":"d0b2","./tool/build/IconsDialog.vue":"d0b2","./tool/build/RightPanel":"766b","./tool/build/RightPanel.vue":"766b","./tool/build/TreeNodeDialog":"c81a","./tool/build/TreeNodeDialog.vue":"c81a","./tool/build/index":"2855","./tool/build/index.vue":"2855","./tool/gen":"82c8","./tool/gen/":"82c8","./tool/gen/basicInfoForm":"ed69","./tool/gen/basicInfoForm.vue":"ed69","./tool/gen/editTable":"76f8","./tool/gen/editTable.vue":"76f8","./tool/gen/genInfoForm":"8586","./tool/gen/genInfoForm.vue":"8586","./tool/gen/importTable":"6f72","./tool/gen/importTable.vue":"6f72","./tool/gen/index":"82c8","./tool/gen/index.vue":"82c8","./tool/swagger":"4a49","./tool/swagger/":"4a49","./tool/swagger/index":"4a49","./tool/swagger/index.vue":"4a49"};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id="4b3b"},"4b72":function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"i",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"h",(function(){return d}));var r=a("b775");function n(e){return Object(r["a"])({url:"/tool/gen/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/tool/gen/db/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/tool/gen/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/tool/gen",method:"put",data:e})}function s(e){return Object(r["a"])({url:"/tool/gen/importTable",method:"post",params:e})}function c(e){return Object(r["a"])({url:"/tool/gen/preview/"+e,method:"get"})}function u(e){return Object(r["a"])({url:"/tool/gen/"+e,method:"delete"})}function m(e){return Object(r["a"])({url:"/tool/gen/genCode/"+e,method:"get"})}function d(e){return Object(r["a"])({url:"/tool/gen/synchDb/"+e,method:"get"})}},"4c1b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),a("div",[a("div",{staticClass:"text-center"},[a("userAvatar",{attrs:{user:e.user}})],1),a("ul",{staticClass:"list-group list-group-striped"},[a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户名称 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.userName))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"phone"}}),e._v("手机号码 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.phonenumber))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"email"}}),e._v("用户邮箱 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.email))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"tree"}}),e._v("所属部门 "),e.user.dept?a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.dept.deptName)+" / "+e._s(e.postGroup))]):e._e()],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v("所属角色 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.roleGroup))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v("创建日期 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.createTime))])],1)])])])],1),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本资料")])]),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"userinfo"}},[a("userInfo",{attrs:{user:e.user}})],1),a("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[a("resetPwd",{attrs:{user:e.user}})],1)],1)],1)],1)],1)],1)},n=[],o=a("9429"),l=a("1e8b"),i=a("ee46"),s=a("c0c7"),c={name:"Profile",components:{userAvatar:o["default"],userInfo:l["default"],resetPwd:i["default"]},data:function(){return{user:{},roleGroup:{},postGroup:{},activeTab:"userinfo"}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;Object(s["k"])().then((function(t){e.user=t.data,e.roleGroup=t.roleGroup,e.postGroup=t.postGroup}))}}},u=c,m=a("2877"),d=Object(m["a"])(u,r,n,!1,null,null,null);t["default"]=d.exports},"50c4e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"typeName"}},[a("el-input",{attrs:{placeholder:"请输入分类名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.typeName,callback:function(t){e.$set(e.queryParams,"typeName",t)},expression:"queryParams.typeName"}})],1),a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",{attrs:{label:"商品状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择商品状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"是否推荐首页",prop:"referrerFlag"}},[a("el-select",{attrs:{placeholder:"请选择是否推荐首页",clearable:"",size:"small"},model:{value:e.queryParams.referrerFlag,callback:function(t){e.$set(e.queryParams,"referrerFlag",t)},expression:"queryParams.referrerFlag"}},e._l(e.referrerFlagOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"是否线上销售",prop:"onlineFlag"}},[a("el-select",{attrs:{placeholder:"请选择销售方式",clearable:"",size:"small"},model:{value:e.queryParams.onlineFlag,callback:function(t){e.$set(e.queryParams,"onlineFlag",t)},expression:"queryParams.onlineFlag"}},e._l(e.onlineFlagOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:goodsinfo:add"],expression:"['goods:goodsinfo:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:goodsinfo:edit"],expression:"['goods:goodsinfo:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:goodsinfo:remove"],expression:"['goods:goodsinfo:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:goodsinfo:export"],expression:"['goods:goodsinfo:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.goodsinfoList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"name"}}),a("el-table-column",{attrs:{label:"所属类别",align:"center",prop:"typeName"}}),a("el-table-column",{attrs:{label:"首页是否推荐",align:"center",prop:"referrerFlag"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("Y"===t.row.referrerFlag?"是":"否")+" ")]}}])}),a("el-table-column",{attrs:{label:"商品价格",align:"center",prop:"price"}}),a("el-table-column",{attrs:{label:"线上返佣比例",align:"center",prop:"sharePercent"}}),a("el-table-column",{attrs:{label:"线下返佣类型",align:"center",prop:"rebateRatioType"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.rebateRatioType?"比例":"金额")+" ")]}}])}),a("el-table-column",{attrs:{label:"线下返佣",align:"center",prop:"rebateRatio"}}),a("el-table-column",{attrs:{label:"商品状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"销售方式",align:"center",prop:"onlineFlag"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("Y"===t.row.onlineFlag?"线上":"线下")+" ")]}}])}),a("el-table-column",{attrs:{label:"推荐序号",align:"center",prop:"sortNo"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:goodsinfo:edit"],expression:"['goods:goodsinfo:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["goods:goodsinfo:remove"],expression:"['goods:goodsinfo:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"1000px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"商品分类",prop:"typeId"}},[a("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,"typeId",t)},expression:"form.typeId"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.typeName,value:Number(e.id)}})})),1)],1),a("el-form-item",{attrs:{label:"线上返佣比例",prop:"sharePercent"}},[a("el-input-number",{attrs:{precision:2,step:.01,min:0,max:1,placeholder:"请输入线上返佣比例","controls-position":"right"},model:{value:e.form.sharePercent,callback:function(t){e.$set(e.form,"sharePercent",t)},expression:"form.sharePercent"}}),a("strong",[e._v("(单位：百分比小数,线上小程序商城推广商品返佣比例)")])],1),a("el-form-item",{attrs:{label:"线下返佣类型",prop:"rebateRatioType"}},[a("el-radio-group",{on:{change:e.setSubCommissionFun},model:{value:e.form.rebateRatioType,callback:function(t){e.$set(e.form,"rebateRatioType",t)},expression:"form.rebateRatioType"}},[a("el-radio",{attrs:{label:1}},[e._v("比例")]),a("el-radio",{attrs:{label:2}},[e._v("金额")])],1)],1),a("el-form-item",{attrs:{label:"线下返佣设置",prop:"rebateRatio"}},[a("el-input-number",{attrs:{precision:2,step:.01,min:0,placeholder:"请输入返佣设置","controls-position":"right"},on:{change:e.setSubCommissionFun},model:{value:e.form.rebateRatio,callback:function(t){e.$set(e.form,"rebateRatio",t)},expression:"form.rebateRatio"}}),a("strong",[e._v("(单位："+e._s(1===e.form.rebateRatioType?"百分比小数,0.01就是1%":"数字")+")")])],1),a("el-form-item",{attrs:{label:"分配分佣(方案1)",prop:"subCommissiona"}},[a("el-input-number",{attrs:{precision:2,step:.01,min:0,disabled:!0,placeholder:"请输入返佣A设置","controls-position":"right"},model:{value:e.form.sub1Commissiona,callback:function(t){e.$set(e.form,"sub1Commissiona",t)},expression:"form.sub1Commissiona"}}),e._v(" (单位："+e._s(1===e.form.rebateRatioType?"百分比小数,0.01就是1%":"数字")+")")],1),a("el-form-item",{attrs:{label:"分配分佣(方案2)",prop:"subCommissiona"}},[a("el-input-number",{attrs:{precision:2,step:.01,min:0,placeholder:"请输入返佣A设置","controls-position":"right"},model:{value:e.form.sub2Commissiona,callback:function(t){e.$set(e.form,"sub2Commissiona",t)},expression:"form.sub2Commissiona"}}),e._v(" "),a("el-input-number",{attrs:{precision:2,step:.01,min:0,placeholder:"请输入返佣C设置","controls-position":"right"},model:{value:e.form.sub2Commissionb,callback:function(t){e.$set(e.form,"sub2Commissionb",t)},expression:"form.sub2Commissionb"}}),a("strong",[e._v("(单位："+e._s(1===e.form.rebateRatioType?"百分比小数,0.01就是1%":"数字")+")")])],1),a("el-form-item",{attrs:{label:"分配分佣(方案3)",prop:"subCommissiona"}},[a("el-input-number",{attrs:{precision:2,step:.01,min:0,placeholder:"请输入返佣A设置","controls-position":"right"},model:{value:e.form.sub3Commissiona,callback:function(t){e.$set(e.form,"sub3Commissiona",t)},expression:"form.sub3Commissiona"}}),e._v(" "),a("el-input-number",{attrs:{precision:2,step:.01,min:0,placeholder:"请输入返佣B设置","controls-position":"right"},model:{value:e.form.sub3Commissionb,callback:function(t){e.$set(e.form,"sub3Commissionb",t)},expression:"form.sub3Commissionb"}}),e._v(" "),a("el-input-number",{attrs:{precision:2,step:.01,min:0,placeholder:"请输入返佣C设置","controls-position":"right"},model:{value:e.form.sub3Commissionc,callback:function(t){e.$set(e.form,"sub3Commissionc",t)},expression:"form.sub3Commissionc"}}),a("strong",[e._v("(单位："+e._s(1===e.form.rebateRatioType?"百分比小数,0.01就是1%":"数字")+")")])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[e._v(" 商品规格参数： ")]),a("el-col",{attrs:{span:6}},[e._v(" 规格: ")]),a("el-col",{attrs:{span:6}},[e._v(" 价格: ")]),a("el-col",{attrs:{span:4}},[e._v(" 库存: ")]),a("el-col",{attrs:{span:2}},[e._v(" 操作 ")])],1),e._l(e.form.goodsSku,(function(t,r){return a("el-form-item",{key:r.key,attrs:{label:"规格参数"+(r+1),rules:{required:!0,message:"规格参数不能为空",trigger:"blur"}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入商品规格"},model:{value:t.skuName,callback:function(a){e.$set(t,"skuName",a)},expression:"item.skuName"}})],1),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入商品价格"},model:{value:t.price,callback:function(a){e.$set(t,"price",a)},expression:"item.price"}})],1),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入商品库存"},model:{value:t.stockNum,callback:function(a){e.$set(t,"stockNum",a)},expression:"item.stockNum"}})],1),0!=r?[a("el-col",{attrs:{span:2}},[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeSku(t)}}},[e._v("删除")])],1)]:e._e()],2)],1)})),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:e.addSku}},[e._v("添加规格参数")])],1),a("el-form-item",{attrs:{label:"商品简介",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容","show-word-limit":"",maxlength:"450"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"商品头图",prop:"headerImg"}},[a("imageUpload",{attrs:{limit:1},model:{value:e.form.headerImg,callback:function(t){e.$set(e.form,"headerImg",t)},expression:"form.headerImg"}})],1),a("el-form-item",{attrs:{label:"详情图片",prop:"detailImg"}},[a("imageUpload",{model:{value:e.form.detailImg,callback:function(t){e.$set(e.form,"detailImg",t)},expression:"form.detailImg"}})],1),a("el-form-item",{attrs:{label:"商品详情",prop:"detail"}},[a("editor",{attrs:{"min-height":192,height:500},model:{value:e.form.detail,callback:function(t){e.$set(e.form,"detail",t)},expression:"form.detail"}})],1),a("el-form-item",{attrs:{label:"首页是否推荐"}},[a("el-radio-group",{model:{value:e.form.referrerFlag,callback:function(t){e.$set(e.form,"referrerFlag",t)},expression:"form.referrerFlag"}},e._l(e.referrerFlagOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"是否线上销售"}},[a("el-radio-group",{model:{value:e.form.onlineFlag,callback:function(t){e.$set(e.form,"onlineFlag",t)},expression:"form.onlineFlag"}},e._l(e.onlineFlagOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"排序序号",prop:"sortNo"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入排序序号"},model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1),a("el-form-item",{attrs:{label:"商品状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],2),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("7db0"),a("d3b7"),a("b680"),a("a434"),a("b775"));function l(e){return Object(o["a"])({url:"/goods/goodsinfo/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/goods/goodsinfo/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/goods/goodsinfo",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/goods/goodsinfo",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/goods/goodsinfo/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/goods/goodsinfo/export",method:"get",params:e})}var d=a("7f04"),p=a("ec01"),f={name:"Goodsinfo",data:function(){return{typeOptions:[],loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,goodsinfoList:[],title:"",open:!1,onlineFlagOptions:[],referrerFlagOptions:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,typeName:null,name:null,status:null},form:{rebateRatioType:1},rules:{name:[{required:!0,message:"商品名称不能为空",trigger:"blur"}],typeId:[{required:!0,message:"商品类型不能为空",trigger:"blur"}],sharePercent:[{required:!0,message:"返佣比例不能为空",trigger:"blur"}],rebateRatio:[{required:!0,message:"线下返佣设置不能为空",trigger:"blur"},{type:"number",min:.001,message:"线下返佣设置必须大于 0 ！",trigger:"blur"}],description:[{required:!0,message:"商品简介不能为空",trigger:"blur"}],headerImg:[{required:!0,message:"商品头图不能为空",trigger:"blur"}],detailImg:[{required:!0,message:"商品详情图片不能为空",trigger:"blur"}],detail:[{required:!0,message:"商品详情不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.referrerFlagOptions=t.data,e.onlineFlagOptions=t.data})),this.getDicts("sys_goods_status").then((function(t){e.statusOptions=t.data})),this.getGoodsTypeList()},methods:{getGoodsTypeList:function(){var e=this;Object(d["e"])({}).then((function(t){e.typeOptions=t.rows}))},getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.goodsinfoList=t.rows,e.total=t.total,e.loading=!1}))},referrerFlagFormat:function(e,t){return this.selectDictLabel(this.referrerFlagOptions,e.referrerFlag)},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,typeId:null,typeName:null,name:null,description:null,headerImg:null,detailImg:null,detail:null,referrerFlag:"Y",onlineFlag:"Y",rebateRatioType:1,sortNo:0,status:"01",sub1Commissiona:0,sub2Commissiona:0,sub2Commissionb:0,sub3Commissiona:0,sub3Commissionb:0,sub3Commissionc:0,createTime:null,createBy:null,updateTime:null,updateBy:null,goodsSku:[{skuName:"",price:0,stockNum:0}]},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加商品管理"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,console.log(t.form),t.open=!0,t.title="修改商品管理"}))},setSubCommissionFun:function(){var e=this.form.rebateRatioType,t=this.form.rebateRatio;if(1===e){if(t>=1)return this.msgError("线下返佣类型为比例时，线下返佣设置不能大于等于1"),this.form.rebateRatio=null,this.form.sub1Commissiona=null,!1;this.form.sub1Commissiona=1}else 2===e&&(this.form.sub1Commissiona=t)},submitForm:function(){var e=this;if(null!==this.form.typeId){var t=this.typeOptions.find((function(t){return t.id==e.form.typeId}));this.form.typeName=t.typeName}this.$refs["form"].validate((function(t){if(t){var a=e.form.sub3Commissiona+e.form.sub3Commissionb+e.form.sub3Commissionc;a=a.toFixed(2);var r=e.form.sub2Commissiona+e.form.sub2Commissionb;if(r=r.toFixed(2),r!=e.form.sub1Commissiona)return e.msgError("方案2分配分佣之合必须满足返佣设置"),!1;if(a!=e.form.sub1Commissiona)return e.msgError("方案3分配分佣之合必须满足返佣设置"),!1;null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()}))}}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除商品管理编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有商品管理数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},removeSku:function(e){var t=this,a=this.form.goodsSku.indexOf(e);e.id?this.$confirm('是否确认删除规格为"'+e.skuName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(p["b"])(e.id)})).then((function(){-1!==a&&t.form.goodsSku.splice(a,1),t.msgSuccess("删除成功")})).catch((function(){})):-1!==a&&this.form.goodsSku.splice(a,1)},addSku:function(){this.form.goodsSku.push({skuName:"",price:0,stockNum:0,key:Date.now()})}}},h=f,b=a("2877"),g=Object(b["a"])(h,r,n,!1,null,null,null);t["default"]=g.exports},5194:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i-frame",{attrs:{src:e.url}})},n=[],o=a("061b"),l={name:"Druid",components:{iFrame:o["a"]},data:function(){return{url:"http://beautyapi.weixinai.cn/druid/login.html"}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"51d2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"门店",prop:"shopId"}},[a("el-select",{attrs:{placeholder:"请选择门店",clearable:"",filterable:""},model:{value:e.queryParams.shopId,callback:function(t){e.$set(e.queryParams,"shopId",t)},expression:"queryParams.shopId"}},e._l(e.shopinfoList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.shopName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"用户",prop:"userId"}},[a("el-select",{attrs:{placeholder:"请选择用户",clearable:"",filterable:""},model:{value:e.queryParams.userId,callback:function(t){e.$set(e.queryParams,"userId",t)},expression:"queryParams.userId"}},e._l(e.userList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("h3",[e._v("合计消费金额："+e._s(e.totalAmount))]),a("el-table",{attrs:{data:e.orderStatisticsList,"span-method":e.objectSpanMethod}},[a("el-table-column",{attrs:{label:"门店ID",align:"center",prop:"shopId"}}),a("el-table-column",{attrs:{label:"门店名称",align:"center",prop:"shopName"}}),a("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"人员数量",align:"center",prop:"shopUserCount"}}),a("el-table-column",{attrs:{label:"消费类型",align:"center",prop:"consumeType"}}),a("el-table-column",{attrs:{label:"消费金额",align:"center",prop:"totalConsumeTypeAmount"}}),a("el-table-column",{attrs:{label:"总消费金额",align:"center",prop:"totalOrderAmount"}})],1)],1)},n=[],o=a("b85c"),l=(a("b64b"),a("7db0"),a("d3b7"),a("159b"),a("ac1f"),a("1276"),a("b775"));function i(e){return Object(l["a"])({url:"/business/statistics/getOrderStatistics",method:"get",params:e})}var s=a("0e04"),c=a("c0c7"),u={name:"OrderStatistics",data:function(){return{userList:[],totalAmount:0,showSearch:!0,shopinfoList:[],queryParams:{shopId:null,userId:null,pageNum:1,pageSize:10,userName:null,rechargeTime:null},orderStatisticsList:[]}},created:function(){this.getList(),this.getShopList(),this.getUserList()},methods:{getUserList:function(){var e=this;Object(c["n"])({userType:"02"}).then((function(t){e.userList=t.rows}))},getShopList:function(){var e=this;Object(s["f"])({}).then((function(t){e.shopinfoList=t.rows}))},getList:function(){var e=this,t=[];i(this.queryParams).then((function(a){t=a.data;var r={},n={};e.totalAmount=0;for(var l=0;l<t.length;l++){e.totalAmount+=parseFloat(t[l].totalConsumeTypeAmount),r.hasOwnProperty(t[l].shopId)?r[t[l].shopId]=r[t[l].shopId]+1:r[t[l].shopId]=1;var i=t[l].shopId+"$"+t[l].userId;n.hasOwnProperty(i)?n[i]=n[i]+1:n[i]=1}var s,c=Object.keys(r),u=Object(o["a"])(t);try{var m=function(){var e=s.value,t=c.find((function(t){return t==e.shopId}));t&&(e["shopRowCount"]=r[e.shopId],delete r[e.shopId])};for(u.s();!(s=u.n()).done;)m()}catch(b){u.e(b)}finally{u.f()}var d,p=Object.keys(n),f=Object(o["a"])(t);try{var h=function(){var e=d.value;p.forEach((function(t){var a=t.split("$");e.shopId==a[0]&&e.userId==a[1]&&(e["userRowCount"]=n[t],delete n[t])}))};for(f.s();!(d=f.n()).done;)h()}catch(b){f.e(b)}finally{f.f()}e.orderStatisticsList=t}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},objectSpanMethod:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return 0===a||1===a||4===a||7===a?t.shopRowCount>=1?{rowspan:t.shopRowCount,colspan:1}:{rowspan:0,colspan:0}:2===a||3===a?t.userRowCount>=1?{rowspan:t.userRowCount,colspan:1}:{rowspan:0,colspan:0}:void 0}}},m=u,d=a("2877"),p=Object(d["a"])(m,r,n,!1,null,"c1442830",null);t["default"]=p.exports},5433:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var r=a("b775");function n(e){return Object(r["a"])({url:"/business/orderItem/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/business/orderItem/"+e,method:"get"})}function l(e){return Object(r["a"])({url:"/business/orderItem",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/business/orderItem",method:"put",data:e})}function s(e){return Object(r["a"])({url:"/business/orderItem/"+e,method:"delete"})}function c(e){return Object(r["a"])({url:"/business/orderItem/export",method:"get",params:e})}},5788:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入岗位编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"岗位状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:add"],expression:"['system:post:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:edit"],expression:"['system:post:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:remove"],expression:"['system:post:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:export"],expression:"['system:post:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"岗位编号",align:"center",prop:"postId"}}),a("el-table-column",{attrs:{label:"岗位编码",align:"center",prop:"postCode"}}),a("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"postName"}}),a("el-table-column",{attrs:{label:"岗位排序",align:"center",prop:"postSort"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:edit"],expression:"['system:post:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:remove"],expression:"['system:post:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.postName,callback:function(t){e.$set(e.form,"postName",t)},expression:"form.postName"}})],1),a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入编码名称"},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),a("el-form-item",{attrs:{label:"岗位顺序",prop:"postSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.postSort,callback:function(t){e.$set(e.form,"postSort",t)},expression:"form.postSort"}})],1),a("el-form-item",{attrs:{label:"岗位状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/system/post/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/system/post/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/system/post",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/system/post",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/system/post/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/system/post/export",method:"get",params:e})}var d={name:"Post",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,postList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={postId:void 0,postCode:void 0,postName:void 0,postSort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.postId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位"},handleUpdate:function(e){var t=this;this.reset();var a=e.postId||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改岗位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.postId?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.postId||this.ids;this.$confirm('是否确认删除岗位编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},5911:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本信息")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("Redis版本")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.redis_version))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("运行模式")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s("standalone"==e.cache.info.redis_mode?"单机":"集群"))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("端口")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.tcp_port))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("客户端数")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.connected_clients))]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("运行时间(天)")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.uptime_in_days))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("使用内存")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.used_memory_human))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("使用CPU")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(parseFloat(e.cache.info.used_cpu_user_children).toFixed(2)))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("内存配置")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.maxmemory_human))]):e._e()])]),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("AOF是否开启")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s("0"==e.cache.info.aof_enabled?"否":"是"))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("RDB是否成功")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.rdb_last_bgsave_status))]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("Key数量")])]),a("td",[e.cache.dbSize?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.dbSize)+" ")]):e._e()]),a("td",[a("div",{staticClass:"cell"},[e._v("网络入口/出口")])]),a("td",[e.cache.info?a("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.instantaneous_input_kbps)+"kps/"+e._s(e.cache.info.instantaneous_output_kbps)+"kps")]):e._e()])])])])])])],1),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("命令统计")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("div",{ref:"commandstats",staticStyle:{height:"420px"}})])])],1),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存信息")])]),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("div",{ref:"usedmemory",staticStyle:{height:"420px"}})])])],1)],1)],1)},n=[],o=a("b775");function l(){return Object(o["a"])({url:"/monitor/cache",method:"get"})}var i=a("313e"),s=a.n(i),c={name:"Server",data:function(){return{loading:[],commandstats:null,usedmemory:null,cache:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;l().then((function(t){e.cache=t.data,e.loading.close(),e.commandstats=s.a.init(e.$refs.commandstats,"macarons"),e.commandstats.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"命令",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:t.data.commandStats,animationEasing:"cubicInOut",animationDuration:1e3}]}),e.usedmemory=s.a.init(e.$refs.usedmemory,"macarons"),e.usedmemory.setOption({tooltip:{formatter:"{b} <br/>{a} : "+e.cache.info.used_memory_human},series:[{name:"峰值",type:"gauge",min:0,max:1e3,detail:{formatter:e.cache.info.used_memory_human},data:[{value:parseFloat(e.cache.info.used_memory_human),name:"内存消耗"}]}]})}))},openLoading:function(){this.loading=this.$loading({lock:!0,text:"拼命读取中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},u=c,m=a("2877"),d=Object(m["a"])(u,r,n,!1,null,null,null);t["default"]=d.exports},"5c54":function(e,t,a){},"5cfa":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入部门名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"部门状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:add"],expression:"['system:dept:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"deptId","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"deptName",label:"部门名称",width:"260"}}),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"200"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"100"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:edit"],expression:"['system:dept:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:add"],expression:"['system:dept:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),0!=t.row.parentId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:remove"],expression:"['system:dept:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[0!==e.form.parentId?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,placeholder:"选择上级部门"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1):e._e(),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=a("fcb7"),l=a("ca17"),i=a.n(l),s=(a("542c"),{name:"Dept",components:{Treeselect:i.a},data:function(){return{loading:!0,showSearch:!0,deptList:[],deptOptions:[],title:"",open:!1,statusOptions:[],queryParams:{deptName:void 0,status:void 0},form:{},rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],deptName:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"显示排序不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["d"])(this.queryParams).then((function(t){e.deptList=e.handleTree(t.data,"deptId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={deptId:void 0,parentId:void 0,deptName:void 0,orderNum:void 0,leader:void 0,phone:void 0,email:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(e){var t=this;this.reset(),void 0!=e&&(this.form.parentId=e.deptId),this.open=!0,this.title="添加部门",Object(o["d"])().then((function(e){t.deptOptions=t.handleTree(e.data,"deptId")}))},handleUpdate:function(e){var t=this;this.reset(),Object(o["c"])(e.deptId).then((function(e){t.form=e.data,t.open=!0,t.title="修改部门"})),Object(o["e"])(e.deptId).then((function(e){t.deptOptions=t.handleTree(e.data,"deptId")}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.deptId?Object(o["h"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.deptName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.deptId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=a("2877"),m=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=m.exports},"61b6":function(e,t,a){"use strict";a("0986")},"650a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户姓名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"邀请人姓名",prop:"inviteName"}},[a("el-input",{attrs:{placeholder:"请输入邀请人姓名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.inviteName,callback:function(t){e.$set(e.queryParams,"inviteName",t)},expression:"queryParams.inviteName"}})],1),a("el-form-item",{attrs:{label:"邀请时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangeInviteTime,callback:function(t){e.daterangeInviteTime=t},expression:"daterangeInviteTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:inviteDetail:export"],expression:"['finance:inviteDetail:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.inviteDetailList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"用户姓名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"被邀请人openid",align:"center",prop:"inviteOpenid"}}),a("el-table-column",{attrs:{label:"被邀请人姓名",align:"center",prop:"inviteName"}}),a("el-table-column",{attrs:{label:"邀请时间",align:"center",prop:"inviteTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.inviteTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:inviteDetail:edit"],expression:"['finance:inviteDetail:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("详情")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"60%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),a("el-form-item",{attrs:{label:"用户姓名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户姓名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),a("el-form-item",{attrs:{label:"邀请人openid",prop:"inviteOpenid"}},[a("el-input",{attrs:{placeholder:"请输入邀请人openid"},model:{value:e.form.inviteOpenid,callback:function(t){e.$set(e.form,"inviteOpenid",t)},expression:"form.inviteOpenid"}})],1),a("el-form-item",{attrs:{label:"邀请人姓名",prop:"inviteName"}},[a("el-input",{attrs:{placeholder:"请输入邀请人姓名"},model:{value:e.form.inviteName,callback:function(t){e.$set(e.form,"inviteName",t)},expression:"form.inviteName"}})],1),a("el-form-item",{attrs:{label:"邀请时间",prop:"inviteTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择邀请时间"},model:{value:e.form.inviteTime,callback:function(t){e.$set(e.form,"inviteTime",t)},expression:"form.inviteTime"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("关 闭")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/finance/inviteDetail/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/finance/inviteDetail/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/finance/inviteDetail",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/finance/inviteDetail",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/finance/inviteDetail/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/finance/inviteDetail/export",method:"get",params:e})}var d={name:"InviteDetail",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,inviteDetailList:[],title:"",open:!1,daterangeInviteTime:[],queryParams:{pageNum:1,pageSize:10,userName:null,inviteName:null,inviteTime:null,remardAmount:null},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.queryParams.params={},null!=this.daterangeInviteTime&&""!=this.daterangeInviteTime&&(this.queryParams.params["beginInviteTime"]=this.daterangeInviteTime[0],this.queryParams.params["endInviteTime"]=this.daterangeInviteTime[1]),l(this.queryParams).then((function(t){e.inviteDetailList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,userId:null,userName:null,inviteOpenid:null,inviteName:null,inviteTime:null,remardAmount:null,createTime:null,createBy:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangeInviteTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加用户邀请"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="详情"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除用户邀请编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户邀请数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},"67ef":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"登录地址",prop:"ipaddr"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"登录状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"登录时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:logininfor:remove"],expression:"['monitor:logininfor:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:logininfor:remove"],expression:"['monitor:logininfor:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:logininfor:export"],expression:"['monitor:logininfor:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tables",attrs:{data:e.list,"default-sort":e.defaultSort},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"访问编号",align:"center",prop:"infoId"}}),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"userName","show-overflow-tooltip":!0,sortable:"custom","sort-orders":["descending","ascending"]}}),a("el-table-column",{attrs:{label:"登录地址",align:"center",prop:"ipaddr",width:"130","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),a("el-table-column",{attrs:{label:"登录状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"操作信息",align:"center",prop:"msg"}}),a("el-table-column",{attrs:{label:"登录日期",align:"center",prop:"loginTime",sortable:"custom","sort-orders":["descending","ascending"],width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},n=[],o=(a("4e82"),a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/monitor/logininfor/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/monitor/logininfor/"+e,method:"delete"})}function s(){return Object(o["a"])({url:"/monitor/logininfor/clean",method:"delete"})}function c(e){return Object(o["a"])({url:"/monitor/logininfor/export",method:"get",params:e})}var u={name:"Logininfor",data:function(){return{loading:!0,exportLoading:!1,ids:[],multiple:!0,showSearch:!0,total:0,list:[],statusOptions:[],dateRange:[],defaultSort:{prop:"loginTime",order:"descending"},queryParams:{pageNum:1,pageSize:10,ipaddr:void 0,userName:void 0,status:void 0}}},created:function(){var e=this;this.getList(),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.$refs.tables.sort(this.defaultSort.prop,this.defaultSort.order),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.infoId})),this.multiple=!e.length},handleSortChange:function(e,t,a){this.queryParams.orderByColumn=e.prop,this.queryParams.isAsc=e.order,this.getList()},handleDelete:function(e){var t=this,a=e.infoId||this.ids;this.$confirm('是否确认删除访问编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return i(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有登录日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,c(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},m=u,d=a("2877"),p=Object(d["a"])(m,r,n,!1,null,null,null);t["default"]=p.exports},"6a28":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"98px"}},[a("el-form-item",{attrs:{label:"项目名称",prop:"itemName"}},[a("el-input",{attrs:{placeholder:"请输入项目名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemName,callback:function(t){e.$set(e.queryParams,"itemName",t)},expression:"queryParams.itemName"}})],1),a("el-form-item",{attrs:{label:"项目品类",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择项目品类",clearable:"",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"是否线上销售",prop:"onlineFlag"}},[a("el-select",{attrs:{placeholder:"请选择销售方式",clearable:"",size:"small"},model:{value:e.queryParams.onlineFlag,callback:function(t){e.$set(e.queryParams,"onlineFlag",t)},expression:"queryParams.onlineFlag"}},e._l(e.onlineFlagOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"项目状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择项目状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:item:add"],expression:"['shop:item:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:item:edit"],expression:"['shop:item:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:item:remove"],expression:"['shop:item:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:item:export"],expression:"['shop:item:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.itemList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"项目名称",align:"center",prop:"itemName"}}),a("el-table-column",{attrs:{label:"项目品类",align:"center",prop:"type",formatter:e.typeFormat}}),a("el-table-column",{attrs:{label:"项目简介",align:"center",prop:"itemRemark","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"项目价格",align:"center",prop:"itemPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("￥"+e._s(t.row.itemPrice))])]}}])}),a("el-table-column",{attrs:{label:"返佣比例",align:"center",prop:"sharePercent"}}),a("el-table-column",{attrs:{label:"是否推荐",align:"center",prop:"referrerFlag",formatter:e.referrerFlagFormat}}),a("el-table-column",{attrs:{label:"销售方式",align:"center",prop:"onlineFlag"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("Y"===t.row.onlineFlag?"线上":"线下")+" ")]}}])}),a("el-table-column",{attrs:{label:"项目排序",align:"center",prop:"sortNo"}}),a("el-table-column",{attrs:{label:"项目状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:item:off"],expression:"['shop:item:off']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleOff(t.row)}}},[e._v(e._s("01"===t.row.status?"下架":"上架"))]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:item:edit"],expression:"['shop:item:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:item:remove"],expression:"['shop:item:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"900px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"项目名称",prop:"itemName"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.itemName,callback:function(t){e.$set(e.form,"itemName",t)},expression:"form.itemName"}})],1),a("el-form-item",{attrs:{label:"项目品类",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择项目品类"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"返佣类型",prop:"shareRateType"}},[a("el-radio-group",{model:{value:e.form.shareRateType,callback:function(t){e.$set(e.form,"shareRateType",t)},expression:"form.shareRateType"}},[a("el-radio",{attrs:{label:1}},[e._v("比例")]),a("el-radio",{attrs:{label:2}},[e._v("金额")])],1)],1),a("el-form-item",{attrs:{label:"等级1返佣",prop:"sharePercent1"}},[a("el-input-number",{attrs:{precision:2,step:.01,min:0,max:1===e.form.shareRateType?1:99999,"controls-position":"right"},model:{value:e.form.sharePercent1,callback:function(t){e.$set(e.form,"sharePercent1",t)},expression:"form.sharePercent1"}}),e._v(" "+e._s(1===e.form.shareRateType?"请输入返佣比例(值在0-1之间,例如:0.05)":"请输入返佣金额,值大于0")+" ")],1),a("el-form-item",{attrs:{label:"等级2返佣",prop:"sharePercent2"}},[a("el-input-number",{attrs:{precision:2,step:.01,min:0,max:1===e.form.shareRateType?1:99999,"controls-position":"right"},model:{value:e.form.sharePercent2,callback:function(t){e.$set(e.form,"sharePercent2",t)},expression:"form.sharePercent2"}}),e._v(" "+e._s(1===e.form.shareRateType?"请输入返佣比例(值在0-1之间,例如:0.05)":"请输入返佣金额,值大于0")+" ")],1),a("el-form-item",{attrs:{label:"等级3返佣",prop:"sharePercent3"}},[a("el-input-number",{attrs:{precision:2,step:.01,min:0,max:1===e.form.shareRateType?1:99999,"controls-position":"right"},model:{value:e.form.sharePercent3,callback:function(t){e.$set(e.form,"sharePercent3",t)},expression:"form.sharePercent3"}}),e._v(" "+e._s(1===e.form.shareRateType?"请输入返佣比例(值在0-1之间,例如:0.05)":"请输入返佣金额,值大于0")+" ")],1),a("el-form-item",{attrs:{label:"等级4返佣",prop:"sharePercent4"}},[a("el-input-number",{attrs:{precision:2,step:.01,min:0,max:1===e.form.shareRateType?1:99999,"controls-position":"right"},model:{value:e.form.sharePercent4,callback:function(t){e.$set(e.form,"sharePercent4",t)},expression:"form.sharePercent4"}}),e._v(" "+e._s(1===e.form.shareRateType?"请输入返佣比例(值在0-1之间,例如:0.05)":"请输入返佣金额,值大于0")+" ")],1),a("el-form-item",{attrs:{label:"项目简介",prop:"itemRemark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入项目简介"},model:{value:e.form.itemRemark,callback:function(t){e.$set(e.form,"itemRemark",t)},expression:"form.itemRemark"}})],1),a("el-form-item",{attrs:{label:"项目价格",prop:"itemPrice"}},[a("el-input",{attrs:{placeholder:"请输入项目价格",type:"number"},model:{value:e.form.itemPrice,callback:function(t){e.$set(e.form,"itemPrice",t)},expression:"form.itemPrice"}})],1),a("el-form-item",{attrs:{label:"是否线上销售"}},[a("el-radio-group",{model:{value:e.form.onlineFlag,callback:function(t){e.$set(e.form,"onlineFlag",t)},expression:"form.onlineFlag"}},e._l(e.onlineFlagOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"项目排序",prop:"sortNo"}},[a("el-input",{attrs:{placeholder:"请输入项目排序",type:"number"},model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1),a("el-form-item",{attrs:{label:"项目头图"}},[a("imageUpload",{attrs:{limit:1},model:{value:e.form.headerImg,callback:function(t){e.$set(e.form,"headerImg",t)},expression:"form.headerImg"}})],1),a("el-form-item",{attrs:{label:"详情图片"}},[a("imageUpload",{model:{value:e.form.detailImg,callback:function(t){e.$set(e.form,"detailImg",t)},expression:"form.detailImg"}})],1),a("el-form-item",{attrs:{label:"项目描述"}},[a("editor",{attrs:{"min-height":192},model:{value:e.form.itemDetail,callback:function(t){e.$set(e.form,"itemDetail",t)},expression:"form.itemDetail"}})],1),a("el-form-item",{attrs:{label:"是否推荐"}},[a("el-radio-group",{model:{value:e.form.referrerFlag,callback:function(t){e.$set(e.form,"referrerFlag",t)},expression:"form.referrerFlag"}},e._l(e.referrerFlagOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"项目状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("8c64")),l={name:"Item",data:function(){return{onlineFlagOptions:[],loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,itemList:[],title:"",open:!1,typeOptions:[],referrerFlagOptions:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,itemName:null,type:null,status:null},form:{},rules:{itemName:[{required:!0,message:"项目名称不能为空",trigger:"blur"}],type:[{required:!0,message:"项目类型不能为空",trigger:"blur"}],sharePercent1:[{required:!0,message:"等级1返佣比例不能为空",trigger:"blur"}],sharePercent2:[{required:!0,message:"等级2返佣比例不能为空",trigger:"blur"}],itemPrice:[{required:!0,message:"项目价格",trigger:"blur"}]},options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value5:[]}},created:function(){var e=this;this.getList(),this.getDicts("sys_shop_item_type").then((function(t){e.typeOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.referrerFlagOptions=t.data,e.onlineFlagOptions=t.data})),this.getDicts("sys_shop_item_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["g"])(this.queryParams).then((function(t){e.itemList=t.rows,e.total=t.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.type)},referrerFlagFormat:function(e,t){return this.selectDictLabel(this.referrerFlagOptions,e.referrerFlag)},statusFormat:function(e,t){return console.log(this.statusOptions,"this.statusOptions"),this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,itemName:null,type:null,itemRemark:null,itemPrice:null,itemVipPrice:null,bankDiscount:null,headerImg:null,detailImg:null,itemDetail:null,referrerFlag:"Y",sortNo:0,status:"01",createTime:null,createBy:null,updateTime:null,updateBy:null,onlineFlag:"Y",shareRateType:1,sharePercent1:0,sharePercent2:0,sharePercent3:0,sharePercent4:0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加项目管理"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(o["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改项目管理"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(o["h"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleOff:function(e){var t=this;this.$confirm("确认下架吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["f"])(e.id).then((function(e){t.msgSuccess("修改成功"),t.open=!1,t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除项目管理编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有项目管理数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["d"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"6a33":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("h4",{staticClass:"form-header h4"},[e._v("基本信息")]),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"登录账号",prop:"phonenumber"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1)],1)],1),a("h4",{staticClass:"form-header h4"},[e._v("角色信息")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{"row-key":e.getRowKey,data:e.roles.slice((e.pageNum-1)*e.pageSize,e.pageNum*e.pageSize)},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.pageNum-1)*e.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55"}}),a("el-table-column",{attrs:{label:"角色编号",align:"center",prop:"roleId"}}),a("el-table-column",{attrs:{label:"角色名称",align:"center",prop:"roleName"}}),a("el-table-column",{attrs:{label:"权限字符",align:"center",prop:"roleKey"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageNum,limit:e.pageSize},on:{"update:page":function(t){e.pageNum=t},"update:limit":function(t){e.pageSize=t}}}),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-120px","margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},n=[],o=(a("d3b7"),a("159b"),a("d81d"),a("a15b"),a("c0c7")),l={name:"AuthRole",data:function(){return{loading:!0,total:0,pageNum:1,pageSize:10,roleIds:[],roles:[],form:{}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.userId;t&&(this.loading=!0,Object(o["e"])(t).then((function(t){e.form=t.user,e.roles=t.roles,e.total=e.roles.length,e.$nextTick((function(){e.roles.forEach((function(t){t.flag&&e.$refs.table.toggleRowSelection(t)}))})),e.loading=!1})))},methods:{clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.roleIds=e.map((function(e){return e.roleId}))},getRowKey:function(e){return e.roleId},submitForm:function(){var e=this,t=this.form.userId,a=this.roleIds.join(",");Object(o["s"])({userId:t,roleIds:a}).then((function(t){e.msgSuccess("授权成功"),e.close()}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/system/user"})}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"6b08":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"登录地址",prop:"ipaddr"}},[a("el-input",{attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list.slice((e.pageNum-1)*e.pageSize,e.pageNum*e.pageSize)}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.pageNum-1)*e.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{label:"会话编号",align:"center",prop:"tokenId","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"登录名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"部门名称",align:"center",prop:"deptName"}}),a("el-table-column",{attrs:{label:"主机",align:"center",prop:"ipaddr","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser"}}),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),a("el-table-column",{attrs:{label:"登录时间",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:online:forceLogout"],expression:"['monitor:online:forceLogout']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleForceLogout(t.row)}}},[e._v("强退")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageNum,limit:e.pageSize},on:{"update:page":function(t){e.pageNum=t},"update:limit":function(t){e.pageSize=t}}})],1)},n=[],o=a("b775");function l(e){return Object(o["a"])({url:"/monitor/online/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/monitor/online/"+e,method:"delete"})}var s={name:"Online",data:function(){return{loading:!0,total:0,list:[],pageNum:1,pageSize:10,queryParams:{ipaddr:void 0,userName:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleForceLogout:function(e){var t=this;this.$confirm('是否确认强退名称为"'+e.userName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return i(e.tokenId)})).then((function(){t.getList(),t.msgSuccess("强退成功")})).catch((function(){}))}}},c=s,u=a("2877"),m=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=m.exports},"6f72":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"导入表",visible:e.visible,width:"800px",top:"5vh","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.dbTableList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"tableName",label:"表名称","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"tableComment",label:"表描述","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleImportTable}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},n=[],o=(a("d81d"),a("a15b"),a("4b72")),l={data:function(){return{visible:!1,tables:[],total:0,dbTableList:[],queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0}}},methods:{show:function(){this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.tables=e.map((function(e){return e.tableName}))},getList:function(){var e=this;Object(o["e"])(this.queryParams).then((function(t){200===t.code&&(e.dbTableList=t.rows,e.total=t.total)}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleImportTable:function(){var e=this;Object(o["d"])({tables:this.tables.join(",")}).then((function(t){e.msgSuccess(t.msg),200===t.code&&(e.visible=!1,e.$emit("ok"))}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},7054:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:add"],expression:"['system:role:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.openSelectUser}},[e._v("添加用户")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-circle-close",size:"mini",disabled:e.multiple},on:{click:e.cancelAuthUserAll}},[e._v("批量取消授权")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-close",size:"mini"},on:{click:e.handleClose}},[e._v("关闭")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"用户名称",prop:"userName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"用户昵称",prop:"nickName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"手机",prop:"phonenumber","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.statusOptions,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-close"},on:{click:function(a){return e.cancelAuthUser(t.row)}}},[e._v("取消授权")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("select-user",{ref:"select",attrs:{roleId:e.queryParams.roleId},on:{ok:e.handleQuery}})],1)},n=[],o=(a("d81d"),a("a15b"),a("3528")),l=a("a17e"),i={name:"AuthUser",components:{selectUser:l["default"]},data:function(){return{loading:!0,userIds:[],multiple:!0,showSearch:!0,total:0,userList:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,roleId:void 0,userName:void 0,phonenumber:void 0}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.roleId;t&&(this.queryParams.roleId=t,this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["b"])(this.queryParams).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},handleClose:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/system/role"})},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.userIds=e.map((function(e){return e.userId})),this.multiple=!e.length},openSelectUser:function(){this.$refs.select.show()},cancelAuthUser:function(e){var t=this,a=this.queryParams.roleId;this.$confirm('确认要取消该用户"'+e.userName+'"角色吗？',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])({userId:e.userId,roleId:a})})).then((function(){t.getList(),t.msgSuccess("取消授权成功")})).catch((function(){}))},cancelAuthUserAll:function(e){var t=this,a=this.queryParams.roleId,r=this.userIds.join(",");this.$confirm("是否取消选中用户授权数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["d"])({roleId:a,userIds:r})})).then((function(){t.getList(),t.msgSuccess("取消授权成功")})).catch((function(){}))}}},s=i,c=a("2877"),u=Object(c["a"])(s,r,n,!1,null,null,null);t["default"]=u.exports},"70eb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:add"],expression:"['system:role:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:export"],expression:"['system:role:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),a("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),a("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return 1!==t.row.roleId?[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-dropdown",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini"},on:{command:function(a){return e.handleCommand(a,t.row)}}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-d-arrow-right el-icon--right"}),e._v("更多 ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{command:"handleDataScope",icon:"el-icon-circle-check"}},[e._v("数据权限")]),a("el-dropdown-item",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{command:"handleAuthUser",icon:"el-icon-user"}},[e._v("分配用户")])],1)],1)]:void 0}}],null,!0)})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),a("el-form-item",{attrs:{prop:"roleKey"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasRole('admin')`)",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 权限字符 ")],1),a("el-input",{attrs:{placeholder:"请输入权限字符"},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeExpand(t,"menu")}},model:{value:e.menuExpand,callback:function(t){e.menuExpand=t},expression:"menuExpand"}},[e._v("展开/折叠")]),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeNodeAll(t,"menu")}},model:{value:e.menuNodeAll,callback:function(t){e.menuNodeAll=t},expression:"menuNodeAll"}},[e._v("全选/全不选")]),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeConnect(t,"menu")}},model:{value:e.form.menuCheckStrictly,callback:function(t){e.$set(e.form,"menuCheckStrictly",t)},expression:"form.menuCheckStrictly"}},[e._v("父子联动")]),a("el-tree",{ref:"menu",staticClass:"tree-border",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","check-strictly":!e.form.menuCheckStrictly,"empty-text":"加载中，请稍后",props:e.defaultProps}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),a("el-form-item",{attrs:{label:"权限字符"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{on:{change:e.dataScopeSelectChange},model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeExpand(t,"dept")}},model:{value:e.deptExpand,callback:function(t){e.deptExpand=t},expression:"deptExpand"}},[e._v("展开/折叠")]),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeNodeAll(t,"dept")}},model:{value:e.deptNodeAll,callback:function(t){e.deptNodeAll=t},expression:"deptNodeAll"}},[e._v("全选/全不选")]),a("el-checkbox",{on:{change:function(t){return e.handleCheckedTreeConnect(t,"dept")}},model:{value:e.form.deptCheckStrictly,callback:function(t){e.$set(e.form,"deptCheckStrictly",t)},expression:"form.deptCheckStrictly"}},[e._v("父子联动")]),a("el-tree",{ref:"dept",staticClass:"tree-border",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","check-strictly":!e.form.deptCheckStrictly,"empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("d3b7"),a("159b"),a("3528")),l=a("a6dc"),i=a("fcb7"),s={name:"Role",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,roleList:[],title:"",open:!1,openDataScope:!1,menuExpand:!1,menuNodeAll:!1,deptExpand:!0,deptNodeAll:!1,dateRange:[],statusOptions:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],deptOptions:[],queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["k"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.rows,e.total=t.total,e.loading=!1}))},getMenuTreeselect:function(){var e=this;Object(l["f"])().then((function(t){e.menuOptions=t.data}))},getDeptTreeselect:function(){var e=this;Object(i["g"])().then((function(t){e.deptOptions=t.data}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getCheckedKeys(),t=this.$refs.menu.getHalfCheckedKeys();return e.unshift.apply(e,t),e},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getCheckedKeys(),t=this.$refs.dept.getHalfCheckedKeys();return e.unshift.apply(e,t),e},getRoleMenuTreeselect:function(e){var t=this;return Object(l["e"])(e).then((function(e){return t.menuOptions=e.menus,e}))},getRoleDeptTreeselect:function(e){var t=this;return Object(i["f"])(e).then((function(e){return t.deptOptions=e.depts,e}))},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.roleName+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.roleId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!=this.$refs.menu&&this.$refs.menu.setCheckedKeys([]),this.menuExpand=!1,this.menuNodeAll=!1,this.deptExpand=!0,this.deptNodeAll=!1,this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"0",menuIds:[],deptIds:[],menuCheckStrictly:!0,deptCheckStrictly:!0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!=e.length,this.multiple=!e.length},handleCommand:function(e,t){switch(e){case"handleDataScope":this.handleDataScope(t);break;case"handleAuthUser":this.handleAuthUser(t);break;default:break}},handleCheckedTreeExpand:function(e,t){if("menu"==t)for(var a=this.menuOptions,r=0;r<a.length;r++)this.$refs.menu.store.nodesMap[a[r].id].expanded=e;else if("dept"==t)for(var n=this.deptOptions,o=0;o<n.length;o++)this.$refs.dept.store.nodesMap[n[o].id].expanded=e},handleCheckedTreeNodeAll:function(e,t){"menu"==t?this.$refs.menu.setCheckedNodes(e?this.menuOptions:[]):"dept"==t&&this.$refs.dept.setCheckedNodes(e?this.deptOptions:[])},handleCheckedTreeConnect:function(e,t){"menu"==t?this.form.menuCheckStrictly=!!e:"dept"==t&&(this.form.deptCheckStrictly=!!e)},handleAdd:function(){this.reset(),this.getMenuTreeselect(),this.open=!0,this.title="添加角色"},handleUpdate:function(e){var t=this;this.reset();var a=e.roleId||this.ids,r=this.getRoleMenuTreeselect(a);Object(o["j"])(a).then((function(e){t.form=e.data,t.open=!0,t.$nextTick((function(){r.then((function(e){var a=e.checkedKeys;a.forEach((function(e){t.$nextTick((function(){t.$refs.menu.setChecked(e,!0,!1)}))}))}))})),t.title="修改角色"}))},dataScopeSelectChange:function(e){"2"!==e&&this.$refs.dept.setCheckedKeys([])},handleDataScope:function(e){var t=this;this.reset();var a=this.getRoleDeptTreeselect(e.roleId);Object(o["j"])(e.roleId).then((function(e){t.form=e.data,t.openDataScope=!0,t.$nextTick((function(){a.then((function(e){t.$refs.dept.setCheckedKeys(e.checkedKeys)}))})),t.title="分配数据权限"}))},handleAuthUser:function(e){var t=e.roleId;this.$router.push("/system/role-auth/user/"+t)},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(o["m"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()}))))}))},submitDataScope:function(){var e=this;void 0!=this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),Object(o["g"])(this.form).then((function(t){e.msgSuccess("修改成功"),e.openDataScope=!1,e.getList()})))},handleDelete:function(e){var t=this,a=e.roleId||this.ids;this.$confirm('是否确认删除角色编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["i"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},c=s,u=a("2877"),m=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=m.exports},"72d6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"所属分店",prop:"shopId"}},[a("el-select",{attrs:{placeholder:"请选择门店",clearable:"",filterable:""},model:{value:e.queryParams.shopId,callback:function(t){e.$set(e.queryParams,"shopId",t)},expression:"queryParams.shopId"}},e._l(e.shopinfoList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.shopName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"技师姓名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入技师姓名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"userPhone"}},[a("el-input",{attrs:{placeholder:"请输入手机号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userPhone,callback:function(t){e.$set(e.queryParams,"userPhone",t)},expression:"queryParams.userPhone"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",{attrs:{label:"支付时间",prop:"payTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择支付时间"},model:{value:e.queryParams.payTime,callback:function(t){e.$set(e.queryParams,"payTime",t)},expression:"queryParams.payTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:usercalculate:export"],expression:"['finance:usercalculate:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.usercalculateList,"show-summary":"","summary-method":e.getSummaries},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"技师姓名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"手机号",align:"center",prop:"userPhone"}}),a("el-table-column",{attrs:{label:"分店名称",align:"center",prop:"shopName"}}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"支付时间",align:"center",prop:"payTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.payTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"订单金额",align:"center",prop:"orderAmount"}}),a("el-table-column",{attrs:{label:"项目提成",align:"center",prop:"itemAmount"}}),a("el-table-column",{attrs:{label:"产品提成",align:"center",prop:"productAmount"}}),a("el-table-column",{attrs:{label:"总提成",align:"center",prop:"sumAmount"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:usercalculate:edit"],expression:"['finance:usercalculate:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("详情")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"650px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),a("el-form-item",{attrs:{label:"技师姓名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入技师姓名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"userPhone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.userPhone,callback:function(t){e.$set(e.form,"userPhone",t)},expression:"form.userPhone"}})],1),a("el-form-item",{attrs:{label:"分店名称",prop:"shopName"}},[a("el-input",{attrs:{placeholder:"请输入分店名称"},model:{value:e.form.shopName,callback:function(t){e.$set(e.form,"shopName",t)},expression:"form.shopName"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号"},model:{value:e.form.orderCode,callback:function(t){e.$set(e.form,"orderCode",t)},expression:"form.orderCode"}})],1),a("el-form-item",{attrs:{label:"支付时间",prop:"payTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择支付时间"},model:{value:e.form.payTime,callback:function(t){e.$set(e.form,"payTime",t)},expression:"form.payTime"}})],1),a("el-form-item",{attrs:{label:"订单金额",prop:"orderAmount"}},[a("el-input",{attrs:{placeholder:"请输入订单金额"},model:{value:e.form.orderAmount,callback:function(t){e.$set(e.form,"orderAmount",t)},expression:"form.orderAmount"}})],1),a("el-form-item",{attrs:{label:"项目提成",prop:"itemAmount"}},[a("el-input",{attrs:{placeholder:"请输入项目提成"},model:{value:e.form.itemAmount,callback:function(t){e.$set(e.form,"itemAmount",t)},expression:"form.itemAmount"}})],1),a("el-form-item",{attrs:{label:"产品提成",prop:"productAmount"}},[a("el-input",{attrs:{placeholder:"请输入产品提成"},model:{value:e.form.productAmount,callback:function(t){e.$set(e.form,"productAmount",t)},expression:"form.productAmount"}})],1),a("el-form-item",{attrs:{label:"总提成",prop:"sumAmount"}},[a("el-input",{attrs:{placeholder:"请输入总提成"},model:{value:e.form.sumAmount,callback:function(t){e.$set(e.form,"sumAmount",t)},expression:"form.sumAmount"}})],1),a("el-form-item",{attrs:{label:"订单备注",prop:"orderRemark"}},[a("el-input",{attrs:{placeholder:"请输入订单备注"},model:{value:e.form.orderRemark,callback:function(t){e.$set(e.form,"orderRemark",t)},expression:"form.orderRemark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("d3b7"),a("159b"),a("a9e3"),a("b680"),a("b775"));function l(e){return Object(o["a"])({url:"/finance/usercalculate/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/finance/usercalculate/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/finance/usercalculate",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/finance/usercalculate",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/finance/usercalculate/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/finance/usercalculate/export",method:"get",params:e})}var d=a("0e04"),p={name:"Usercalculate",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,shopinfoList:[],usercalculateList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,userName:null,userPhone:null,shopId:null,orderCode:null,payTime:null},form:{},rules:{}}},created:function(){this.getShopList(),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.usercalculateList=t.rows,e.total=t.total,e.loading=!1}))},getShopList:function(){var e=this;Object(d["f"])({}).then((function(t){e.shopinfoList=t.rows}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,userId:null,userName:null,userPhone:null,shopId:null,orderId:null,shopName:null,orderCode:null,payTime:null,orderAmount:null,orderRemark:null,itemAmount:null,productAmount:null,sumAmount:null,createBy:null,createTime:null,updateBy:null,updateTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加技师业绩核算"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改技师业绩核算"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除技师业绩核算编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有技师业绩核算数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},getSummaries:function(e){var t=e.columns,a=e.data,r=[];return t.forEach((function(e,t){if(2!==t){var n=a.map((function(t){return Number(t[e.property])}));n.every((function(e){return isNaN(e)}))||"userPhone"==e.property||"payTime"==e.property||"id"==e.property||"orderStatus"==e.property||"remark"==e.property?r[t]="":(r[t]=n.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0),r[t]=r[t].toFixed(2),r[t]+=" 元")}else r[t]="总价"})),r}}},f=p,h=a("2877"),b=Object(h["a"])(f,r,n,!1,null,null,null);t["default"]=b.exports},"766b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-board"},[a("el-tabs",{staticClass:"center-tabs",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"组件属性",name:"field"}}),a("el-tab-pane",{attrs:{label:"表单属性",name:"form"}})],1),a("div",{staticClass:"field-box"},[a("a",{staticClass:"document-link",attrs:{target:"_blank",href:e.documentLink,title:"查看组件文档"}},[a("i",{staticClass:"el-icon-link"})]),a("el-scrollbar",{staticClass:"right-scrollbar"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:"field"===e.currentTab&&e.showField,expression:"currentTab==='field' && showField"}],attrs:{size:"small","label-width":"90px"}},[e.activeData.changeTag?a("el-form-item",{attrs:{label:"组件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择组件类型"},on:{change:e.tagChange},model:{value:e.activeData.tagIcon,callback:function(t){e.$set(e.activeData,"tagIcon",t)},expression:"activeData.tagIcon"}},e._l(e.tagList,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.tagIcon}},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":t.tagIcon}}),a("span",[e._v(" "+e._s(t.label))])],1)})),1)})),1)],1):e._e(),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"字段名"}},[a("el-input",{attrs:{placeholder:"请输入字段名（v-model）"},model:{value:e.activeData.vModel,callback:function(t){e.$set(e.activeData,"vModel",t)},expression:"activeData.vModel"}})],1):e._e(),void 0!==e.activeData.componentName?a("el-form-item",{attrs:{label:"组件名"}},[e._v(" "+e._s(e.activeData.componentName)+" ")]):e._e(),void 0!==e.activeData.label?a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.activeData.label,callback:function(t){e.$set(e.activeData,"label",t)},expression:"activeData.label"}})],1):e._e(),void 0!==e.activeData.placeholder?a("el-form-item",{attrs:{label:"占位提示"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData.placeholder,callback:function(t){e.$set(e.activeData,"placeholder",t)},expression:"activeData.placeholder"}})],1):e._e(),void 0!==e.activeData["start-placeholder"]?a("el-form-item",{attrs:{label:"开始占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["start-placeholder"],callback:function(t){e.$set(e.activeData,"start-placeholder",t)},expression:"activeData['start-placeholder']"}})],1):e._e(),void 0!==e.activeData["end-placeholder"]?a("el-form-item",{attrs:{label:"结束占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["end-placeholder"],callback:function(t){e.$set(e.activeData,"end-placeholder",t)},expression:"activeData['end-placeholder']"}})],1):e._e(),void 0!==e.activeData.span?a("el-form-item",{attrs:{label:"表单栅格"}},[a("el-slider",{attrs:{max:24,min:1,marks:{12:""}},on:{change:e.spanChange},model:{value:e.activeData.span,callback:function(t){e.$set(e.activeData,"span",t)},expression:"activeData.span"}})],1):e._e(),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.activeData.gutter,callback:function(t){e.$set(e.activeData,"gutter",t)},expression:"activeData.gutter"}})],1):e._e(),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"布局模式"}},[a("el-radio-group",{model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},[a("el-radio-button",{attrs:{label:"default"}}),a("el-radio-button",{attrs:{label:"flex"}})],1)],1):e._e(),void 0!==e.activeData.justify&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"水平排列"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择水平排列"},model:{value:e.activeData.justify,callback:function(t){e.$set(e.activeData,"justify",t)},expression:"activeData.justify"}},e._l(e.justifyOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0!==e.activeData.align&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"垂直排列"}},[a("el-radio-group",{model:{value:e.activeData.align,callback:function(t){e.$set(e.activeData,"align",t)},expression:"activeData.align"}},[a("el-radio-button",{attrs:{label:"top"}}),a("el-radio-button",{attrs:{label:"middle"}}),a("el-radio-button",{attrs:{label:"bottom"}})],1)],1):e._e(),void 0!==e.activeData.labelWidth?a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入标签宽度"},model:{value:e.activeData.labelWidth,callback:function(t){e.$set(e.activeData,"labelWidth",e._n(t))},expression:"activeData.labelWidth"}})],1):e._e(),e.activeData.style&&void 0!==e.activeData.style.width?a("el-form-item",{attrs:{label:"组件宽度"}},[a("el-input",{attrs:{placeholder:"请输入组件宽度",clearable:""},model:{value:e.activeData.style.width,callback:function(t){e.$set(e.activeData.style,"width",t)},expression:"activeData.style.width"}})],1):e._e(),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData.defaultValue),placeholder:"请输入默认值"},on:{input:e.onDefaultValueInput}})],1):e._e(),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"至少应选"}},[a("el-input-number",{attrs:{value:e.activeData.min,min:0,placeholder:"至少应选"},on:{input:function(t){return e.$set(e.activeData,"min",t||void 0)}}})],1):e._e(),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"最多可选"}},[a("el-input-number",{attrs:{value:e.activeData.max,min:0,placeholder:"最多可选"},on:{input:function(t){return e.$set(e.activeData,"max",t||void 0)}}})],1):e._e(),void 0!==e.activeData.prepend?a("el-form-item",{attrs:{label:"前缀"}},[a("el-input",{attrs:{placeholder:"请输入前缀"},model:{value:e.activeData.prepend,callback:function(t){e.$set(e.activeData,"prepend",t)},expression:"activeData.prepend"}})],1):e._e(),void 0!==e.activeData.append?a("el-form-item",{attrs:{label:"后缀"}},[a("el-input",{attrs:{placeholder:"请输入后缀"},model:{value:e.activeData.append,callback:function(t){e.$set(e.activeData,"append",t)},expression:"activeData.append"}})],1):e._e(),void 0!==e.activeData["prefix-icon"]?a("el-form-item",{attrs:{label:"前图标"}},[a("el-input",{attrs:{placeholder:"请输入前图标名称"},model:{value:e.activeData["prefix-icon"],callback:function(t){e.$set(e.activeData,"prefix-icon",t)},expression:"activeData['prefix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("prefix-icon")}},slot:"append"},[e._v(" 选择 ")])],1)],1):e._e(),void 0!==e.activeData["suffix-icon"]?a("el-form-item",{attrs:{label:"后图标"}},[a("el-input",{attrs:{placeholder:"请输入后图标名称"},model:{value:e.activeData["suffix-icon"],callback:function(t){e.$set(e.activeData,"suffix-icon",t)},expression:"activeData['suffix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("suffix-icon")}},slot:"append"},[e._v(" 选择 ")])],1)],1):e._e(),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"选项分隔符"}},[a("el-input",{attrs:{placeholder:"请输入选项分隔符"},model:{value:e.activeData.separator,callback:function(t){e.$set(e.activeData,"separator",t)},expression:"activeData.separator"}})],1):e._e(),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最小行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最小行数"},model:{value:e.activeData.autosize.minRows,callback:function(t){e.$set(e.activeData.autosize,"minRows",t)},expression:"activeData.autosize.minRows"}})],1):e._e(),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最大行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最大行数"},model:{value:e.activeData.autosize.maxRows,callback:function(t){e.$set(e.activeData.autosize,"maxRows",t)},expression:"activeData.autosize.maxRows"}})],1):e._e(),void 0!==e.activeData.min?a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{placeholder:"最小值"},model:{value:e.activeData.min,callback:function(t){e.$set(e.activeData,"min",t)},expression:"activeData.min"}})],1):e._e(),void 0!==e.activeData.max?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{placeholder:"最大值"},model:{value:e.activeData.max,callback:function(t){e.$set(e.activeData,"max",t)},expression:"activeData.max"}})],1):e._e(),void 0!==e.activeData.step?a("el-form-item",{attrs:{label:"步长"}},[a("el-input-number",{attrs:{placeholder:"步数"},model:{value:e.activeData.step,callback:function(t){e.$set(e.activeData,"step",t)},expression:"activeData.step"}})],1):e._e(),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"精度"}},[a("el-input-number",{attrs:{min:0,placeholder:"精度"},model:{value:e.activeData.precision,callback:function(t){e.$set(e.activeData,"precision",t)},expression:"activeData.precision"}})],1):e._e(),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"按钮位置"}},[a("el-radio-group",{model:{value:e.activeData["controls-position"],callback:function(t){e.$set(e.activeData,"controls-position",t)},expression:"activeData['controls-position']"}},[a("el-radio-button",{attrs:{label:""}},[e._v(" 默认 ")]),a("el-radio-button",{attrs:{label:"right"}},[e._v(" 右侧 ")])],1)],1):e._e(),void 0!==e.activeData.maxlength?a("el-form-item",{attrs:{label:"最多输入"}},[a("el-input",{attrs:{placeholder:"请输入字符长度"},model:{value:e.activeData.maxlength,callback:function(t){e.$set(e.activeData,"maxlength",t)},expression:"activeData.maxlength"}},[a("template",{slot:"append"},[e._v(" 个字符 ")])],2)],1):e._e(),void 0!==e.activeData["active-text"]?a("el-form-item",{attrs:{label:"开启提示"}},[a("el-input",{attrs:{placeholder:"请输入开启提示"},model:{value:e.activeData["active-text"],callback:function(t){e.$set(e.activeData,"active-text",t)},expression:"activeData['active-text']"}})],1):e._e(),void 0!==e.activeData["inactive-text"]?a("el-form-item",{attrs:{label:"关闭提示"}},[a("el-input",{attrs:{placeholder:"请输入关闭提示"},model:{value:e.activeData["inactive-text"],callback:function(t){e.$set(e.activeData,"inactive-text",t)},expression:"activeData['inactive-text']"}})],1):e._e(),void 0!==e.activeData["active-value"]?a("el-form-item",{attrs:{label:"开启值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["active-value"]),placeholder:"请输入开启值"},on:{input:function(t){return e.onSwitchValueInput(t,"active-value")}}})],1):e._e(),void 0!==e.activeData["inactive-value"]?a("el-form-item",{attrs:{label:"关闭值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["inactive-value"]),placeholder:"请输入关闭值"},on:{input:function(t){return e.onSwitchValueInput(t,"inactive-value")}}})],1):e._e(),void 0!==e.activeData.type&&"el-date-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"时间类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择时间类型"},on:{change:e.dateTypeChange},model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},e._l(e.dateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0!==e.activeData.name?a("el-form-item",{attrs:{label:"文件字段名"}},[a("el-input",{attrs:{placeholder:"请输入上传文件字段名"},model:{value:e.activeData.name,callback:function(t){e.$set(e.activeData,"name",t)},expression:"activeData.name"}})],1):e._e(),void 0!==e.activeData.accept?a("el-form-item",{attrs:{label:"文件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择文件类型",clearable:""},model:{value:e.activeData.accept,callback:function(t){e.$set(e.activeData,"accept",t)},expression:"activeData.accept"}},[a("el-option",{attrs:{label:"图片",value:"image/*"}}),a("el-option",{attrs:{label:"视频",value:"video/*"}}),a("el-option",{attrs:{label:"音频",value:"audio/*"}}),a("el-option",{attrs:{label:"excel",value:".xls,.xlsx"}}),a("el-option",{attrs:{label:"word",value:".doc,.docx"}}),a("el-option",{attrs:{label:"pdf",value:".pdf"}}),a("el-option",{attrs:{label:"txt",value:".txt"}})],1)],1):e._e(),void 0!==e.activeData.fileSize?a("el-form-item",{attrs:{label:"文件大小"}},[a("el-input",{attrs:{placeholder:"请输入文件大小"},model:{value:e.activeData.fileSize,callback:function(t){e.$set(e.activeData,"fileSize",e._n(t))},expression:"activeData.fileSize"}},[a("el-select",{style:{width:"66px"},attrs:{slot:"append"},slot:"append",model:{value:e.activeData.sizeUnit,callback:function(t){e.$set(e.activeData,"sizeUnit",t)},expression:"activeData.sizeUnit"}},[a("el-option",{attrs:{label:"KB",value:"KB"}}),a("el-option",{attrs:{label:"MB",value:"MB"}}),a("el-option",{attrs:{label:"GB",value:"GB"}})],1)],1)],1):e._e(),void 0!==e.activeData.action?a("el-form-item",{attrs:{label:"上传地址"}},[a("el-input",{attrs:{placeholder:"请输入上传地址",clearable:""},model:{value:e.activeData.action,callback:function(t){e.$set(e.activeData,"action",t)},expression:"activeData.action"}})],1):e._e(),void 0!==e.activeData["list-type"]?a("el-form-item",{attrs:{label:"列表类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData["list-type"],callback:function(t){e.$set(e.activeData,"list-type",t)},expression:"activeData['list-type']"}},[a("el-radio-button",{attrs:{label:"text"}},[e._v(" text ")]),a("el-radio-button",{attrs:{label:"picture"}},[e._v(" picture ")]),a("el-radio-button",{attrs:{label:"picture-card"}},[e._v(" picture-card ")])],1)],1):e._e(),void 0!==e.activeData.buttonText?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"picture-card"!==e.activeData["list-type"],expression:"'picture-card' !== activeData['list-type']"}],attrs:{label:"按钮文字"}},[a("el-input",{attrs:{placeholder:"请输入按钮文字"},model:{value:e.activeData.buttonText,callback:function(t){e.$set(e.activeData,"buttonText",t)},expression:"activeData.buttonText"}})],1):e._e(),void 0!==e.activeData["range-separator"]?a("el-form-item",{attrs:{label:"分隔符"}},[a("el-input",{attrs:{placeholder:"请输入分隔符"},model:{value:e.activeData["range-separator"],callback:function(t){e.$set(e.activeData,"range-separator",t)},expression:"activeData['range-separator']"}})],1):e._e(),void 0!==e.activeData["picker-options"]?a("el-form-item",{attrs:{label:"时间段"}},[a("el-input",{attrs:{placeholder:"请输入时间段"},model:{value:e.activeData["picker-options"].selectableRange,callback:function(t){e.$set(e.activeData["picker-options"],"selectableRange",t)},expression:"activeData['picker-options'].selectableRange"}})],1):e._e(),void 0!==e.activeData.format?a("el-form-item",{attrs:{label:"时间格式"}},[a("el-input",{attrs:{value:e.activeData.format,placeholder:"请输入时间格式"},on:{input:function(t){return e.setTimeValue(t)}}})],1):e._e(),["el-checkbox-group","el-radio-group","el-select"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),a("draggable",{attrs:{list:e.activeData.options,animation:340,group:"selectItem",handle:".option-drag"}},e._l(e.activeData.options,(function(t,r){return a("div",{key:r,staticClass:"select-item"},[a("div",{staticClass:"select-line-icon option-drag"},[a("i",{staticClass:"el-icon-s-operation"})]),a("el-input",{attrs:{placeholder:"选项名",size:"small"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}),a("el-input",{attrs:{placeholder:"选项值",size:"small",value:t.value},on:{input:function(a){return e.setOptionValue(t,a)}}}),a("div",{staticClass:"close-btn select-line-icon",on:{click:function(t){return e.activeData.options.splice(r,1)}}},[a("i",{staticClass:"el-icon-remove-outline"})])],1)})),0),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addSelectItem}},[e._v(" 添加选项 ")])],1),a("el-divider")]:e._e(),["el-cascader"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData.dataType,callback:function(t){e.$set(e.activeData,"dataType",t)},expression:"activeData.dataType"}},[a("el-radio-button",{attrs:{label:"dynamic"}},[e._v(" 动态数据 ")]),a("el-radio-button",{attrs:{label:"static"}},[e._v(" 静态数据 ")])],1)],1),"dynamic"===e.activeData.dataType?[a("el-form-item",{attrs:{label:"标签键名"}},[a("el-input",{attrs:{placeholder:"请输入标签键名"},model:{value:e.activeData.labelKey,callback:function(t){e.$set(e.activeData,"labelKey",t)},expression:"activeData.labelKey"}})],1),a("el-form-item",{attrs:{label:"值键名"}},[a("el-input",{attrs:{placeholder:"请输入值键名"},model:{value:e.activeData.valueKey,callback:function(t){e.$set(e.activeData,"valueKey",t)},expression:"activeData.valueKey"}})],1),a("el-form-item",{attrs:{label:"子级键名"}},[a("el-input",{attrs:{placeholder:"请输入子级键名"},model:{value:e.activeData.childrenKey,callback:function(t){e.$set(e.activeData,"childrenKey",t)},expression:"activeData.childrenKey"}})],1)]:e._e(),"static"===e.activeData.dataType?a("el-tree",{attrs:{draggable:"",data:e.activeData.options,"node-key":"id","expand-on-click-node":!1,"render-content":e.renderContent}}):e._e(),"static"===e.activeData.dataType?a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addTreeItem}},[e._v(" 添加父级 ")])],1):e._e(),a("el-divider")]:e._e(),void 0!==e.activeData.optionType?a("el-form-item",{attrs:{label:"选项样式"}},[a("el-radio-group",{model:{value:e.activeData.optionType,callback:function(t){e.$set(e.activeData,"optionType",t)},expression:"activeData.optionType"}},[a("el-radio-button",{attrs:{label:"default"}},[e._v(" 默认 ")]),a("el-radio-button",{attrs:{label:"button"}},[e._v(" 按钮 ")])],1)],1):e._e(),void 0!==e.activeData["active-color"]?a("el-form-item",{attrs:{label:"开启颜色"}},[a("el-color-picker",{model:{value:e.activeData["active-color"],callback:function(t){e.$set(e.activeData,"active-color",t)},expression:"activeData['active-color']"}})],1):e._e(),void 0!==e.activeData["inactive-color"]?a("el-form-item",{attrs:{label:"关闭颜色"}},[a("el-color-picker",{model:{value:e.activeData["inactive-color"],callback:function(t){e.$set(e.activeData,"inactive-color",t)},expression:"activeData['inactive-color']"}})],1):e._e(),void 0!==e.activeData["allow-half"]?a("el-form-item",{attrs:{label:"允许半选"}},[a("el-switch",{model:{value:e.activeData["allow-half"],callback:function(t){e.$set(e.activeData,"allow-half",t)},expression:"activeData['allow-half']"}})],1):e._e(),void 0!==e.activeData["show-text"]?a("el-form-item",{attrs:{label:"辅助文字"}},[a("el-switch",{on:{change:e.rateTextChange},model:{value:e.activeData["show-text"],callback:function(t){e.$set(e.activeData,"show-text",t)},expression:"activeData['show-text']"}})],1):e._e(),void 0!==e.activeData["show-score"]?a("el-form-item",{attrs:{label:"显示分数"}},[a("el-switch",{on:{change:e.rateScoreChange},model:{value:e.activeData["show-score"],callback:function(t){e.$set(e.activeData,"show-score",t)},expression:"activeData['show-score']"}})],1):e._e(),void 0!==e.activeData["show-stops"]?a("el-form-item",{attrs:{label:"显示间断点"}},[a("el-switch",{model:{value:e.activeData["show-stops"],callback:function(t){e.$set(e.activeData,"show-stops",t)},expression:"activeData['show-stops']"}})],1):e._e(),void 0!==e.activeData.range?a("el-form-item",{attrs:{label:"范围选择"}},[a("el-switch",{on:{change:e.rangeChange},model:{value:e.activeData.range,callback:function(t){e.$set(e.activeData,"range",t)},expression:"activeData.range"}})],1):e._e(),void 0!==e.activeData.border&&"default"===e.activeData.optionType?a("el-form-item",{attrs:{label:"是否带边框"}},[a("el-switch",{model:{value:e.activeData.border,callback:function(t){e.$set(e.activeData,"border",t)},expression:"activeData.border"}})],1):e._e(),"el-color-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"颜色格式"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择颜色格式"},on:{change:e.colorFormatChange},model:{value:e.activeData["color-format"],callback:function(t){e.$set(e.activeData,"color-format",t)},expression:"activeData['color-format']"}},e._l(e.colorFormatOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0===e.activeData.size||"button"!==e.activeData.optionType&&!e.activeData.border&&"el-color-picker"!==e.activeData.tag?e._e():a("el-form-item",{attrs:{label:"选项尺寸"}},[a("el-radio-group",{model:{value:e.activeData.size,callback:function(t){e.$set(e.activeData,"size",t)},expression:"activeData.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v(" 中等 ")]),a("el-radio-button",{attrs:{label:"small"}},[e._v(" 较小 ")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v(" 迷你 ")])],1)],1),void 0!==e.activeData["show-word-limit"]?a("el-form-item",{attrs:{label:"输入统计"}},[a("el-switch",{model:{value:e.activeData["show-word-limit"],callback:function(t){e.$set(e.activeData,"show-word-limit",t)},expression:"activeData['show-word-limit']"}})],1):e._e(),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"严格步数"}},[a("el-switch",{model:{value:e.activeData["step-strictly"],callback:function(t){e.$set(e.activeData,"step-strictly",t)},expression:"activeData['step-strictly']"}})],1):e._e(),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{model:{value:e.activeData.props.props.multiple,callback:function(t){e.$set(e.activeData.props.props,"multiple",t)},expression:"activeData.props.props.multiple"}})],1):e._e(),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"展示全路径"}},[a("el-switch",{model:{value:e.activeData["show-all-levels"],callback:function(t){e.$set(e.activeData,"show-all-levels",t)},expression:"activeData['show-all-levels']"}})],1):e._e(),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"可否筛选"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),void 0!==e.activeData.clearable?a("el-form-item",{attrs:{label:"能否清空"}},[a("el-switch",{model:{value:e.activeData.clearable,callback:function(t){e.$set(e.activeData,"clearable",t)},expression:"activeData.clearable"}})],1):e._e(),void 0!==e.activeData.showTip?a("el-form-item",{attrs:{label:"显示提示"}},[a("el-switch",{model:{value:e.activeData.showTip,callback:function(t){e.$set(e.activeData,"showTip",t)},expression:"activeData.showTip"}})],1):e._e(),void 0!==e.activeData.multiple?a("el-form-item",{attrs:{label:"多选文件"}},[a("el-switch",{model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),void 0!==e.activeData["auto-upload"]?a("el-form-item",{attrs:{label:"自动上传"}},[a("el-switch",{model:{value:e.activeData["auto-upload"],callback:function(t){e.$set(e.activeData,"auto-upload",t)},expression:"activeData['auto-upload']"}})],1):e._e(),void 0!==e.activeData.readonly?a("el-form-item",{attrs:{label:"是否只读"}},[a("el-switch",{model:{value:e.activeData.readonly,callback:function(t){e.$set(e.activeData,"readonly",t)},expression:"activeData.readonly"}})],1):e._e(),void 0!==e.activeData.disabled?a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{model:{value:e.activeData.disabled,callback:function(t){e.$set(e.activeData,"disabled",t)},expression:"activeData.disabled"}})],1):e._e(),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否可搜索"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{on:{change:e.multipleChange},model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),void 0!==e.activeData.required?a("el-form-item",{attrs:{label:"是否必填"}},[a("el-switch",{model:{value:e.activeData.required,callback:function(t){e.$set(e.activeData,"required",t)},expression:"activeData.required"}})],1):e._e(),e.activeData.layoutTree?[a("el-divider",[e._v("布局结构树")]),a("el-tree",{attrs:{data:[e.activeData],props:e.layoutTreeProps,"node-key":"renderKey","default-expand-all":"",draggable:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node,n=t.data;return a("span",{},[a("span",{staticClass:"node-label"},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":n.tagIcon}}),e._v(" "+e._s(r.label)+" ")],1)])}}],null,!1,921874089)})]:e._e(),"colFormItem"===e.activeData.layout?[a("el-divider",[e._v("正则校验")]),e._l(e.activeData.regList,(function(t,r){return a("div",{key:r,staticClass:"reg-item"},[a("span",{staticClass:"close-btn",on:{click:function(t){return e.activeData.regList.splice(r,1)}}},[a("i",{staticClass:"el-icon-close"})]),a("el-form-item",{attrs:{label:"表达式"}},[a("el-input",{attrs:{placeholder:"请输入正则"},model:{value:t.pattern,callback:function(a){e.$set(t,"pattern",a)},expression:"item.pattern"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"错误提示"}},[a("el-input",{attrs:{placeholder:"请输入错误提示"},model:{value:t.message,callback:function(a){e.$set(t,"message",a)},expression:"item.message"}})],1)],1)})),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addReg}},[e._v(" 添加规则 ")])],1)]:e._e()],2),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"form"===e.currentTab,expression:"currentTab === 'form'"}],attrs:{size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"表单名"}},[a("el-input",{attrs:{placeholder:"请输入表单名（ref）"},model:{value:e.formConf.formRef,callback:function(t){e.$set(e.formConf,"formRef",t)},expression:"formConf.formRef"}})],1),a("el-form-item",{attrs:{label:"表单模型"}},[a("el-input",{attrs:{placeholder:"请输入数据模型"},model:{value:e.formConf.formModel,callback:function(t){e.$set(e.formConf,"formModel",t)},expression:"formConf.formModel"}})],1),a("el-form-item",{attrs:{label:"校验模型"}},[a("el-input",{attrs:{placeholder:"请输入校验模型"},model:{value:e.formConf.formRules,callback:function(t){e.$set(e.formConf,"formRules",t)},expression:"formConf.formRules"}})],1),a("el-form-item",{attrs:{label:"表单尺寸"}},[a("el-radio-group",{model:{value:e.formConf.size,callback:function(t){e.$set(e.formConf,"size",t)},expression:"formConf.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v(" 中等 ")]),a("el-radio-button",{attrs:{label:"small"}},[e._v(" 较小 ")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v(" 迷你 ")])],1)],1),a("el-form-item",{attrs:{label:"标签对齐"}},[a("el-radio-group",{model:{value:e.formConf.labelPosition,callback:function(t){e.$set(e.formConf,"labelPosition",t)},expression:"formConf.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v(" 左对齐 ")]),a("el-radio-button",{attrs:{label:"right"}},[e._v(" 右对齐 ")]),a("el-radio-button",{attrs:{label:"top"}},[e._v(" 顶部对齐 ")])],1)],1),a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input-number",{attrs:{placeholder:"标签宽度"},model:{value:e.formConf.labelWidth,callback:function(t){e.$set(e.formConf,"labelWidth",t)},expression:"formConf.labelWidth"}})],1),a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.formConf.gutter,callback:function(t){e.$set(e.formConf,"gutter",t)},expression:"formConf.gutter"}})],1),a("el-form-item",{attrs:{label:"禁用表单"}},[a("el-switch",{model:{value:e.formConf.disabled,callback:function(t){e.$set(e.formConf,"disabled",t)},expression:"formConf.disabled"}})],1),a("el-form-item",{attrs:{label:"表单按钮"}},[a("el-switch",{model:{value:e.formConf.formBtns,callback:function(t){e.$set(e.formConf,"formBtns",t)},expression:"formConf.formBtns"}})],1),a("el-form-item",{attrs:{label:"显示未选中组件边框"}},[a("el-switch",{model:{value:e.formConf.unFocusedComponentBorder,callback:function(t){e.$set(e.formConf,"unFocusedComponentBorder",t)},expression:"formConf.unFocusedComponentBorder"}})],1)],1)],1)],1),a("treeNode-dialog",{attrs:{visible:e.dialogVisible,title:"添加选项"},on:{"update:visible":function(t){e.dialogVisible=t},commit:e.addNode}}),a("icons-dialog",{attrs:{visible:e.iconsVisible,current:e.activeData[e.currentIconModel]},on:{"update:visible":function(t){e.iconsVisible=t},select:e.setIcon}})],1)},n=[],o=(a("99af"),a("c740"),a("a434"),a("a15b"),a("d81d"),a("ac1f"),a("1276"),a("7db0"),a("d3b7"),a("3022")),l=a("b76a"),i=a.n(l),s=a("c81a"),c=a("ed08"),u=a("d0b2"),m=a("2e2a"),d={date:"yyyy-MM-dd",week:"yyyy 第 WW 周",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss"},p={components:{draggable:i.a,TreeNodeDialog:s["default"],IconsDialog:u["default"]},props:["showField","activeData","formConf"],data:function(){return{currentTab:"field",currentNode:null,dialogVisible:!1,iconsVisible:!1,currentIconModel:null,dateTypeOptions:[{label:"日(date)",value:"date"},{label:"周(week)",value:"week"},{label:"月(month)",value:"month"},{label:"年(year)",value:"year"},{label:"日期时间(datetime)",value:"datetime"}],dateRangeTypeOptions:[{label:"日期范围(daterange)",value:"daterange"},{label:"月范围(monthrange)",value:"monthrange"},{label:"日期时间范围(datetimerange)",value:"datetimerange"}],colorFormatOptions:[{label:"hex",value:"hex"},{label:"rgb",value:"rgb"},{label:"rgba",value:"rgba"},{label:"hsv",value:"hsv"},{label:"hsl",value:"hsl"}],justifyOptions:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"center",value:"center"},{label:"space-around",value:"space-around"},{label:"space-between",value:"space-between"}],layoutTreeProps:{label:function(e,t){return e.componentName||"".concat(e.label,": ").concat(e.vModel)}}}},computed:{documentLink:function(){return this.activeData.document||"https://element.eleme.cn/#/zh-CN/component/installation"},dateOptions:function(){return void 0!==this.activeData.type&&"el-date-picker"===this.activeData.tag?void 0===this.activeData["start-placeholder"]?this.dateTypeOptions:this.dateRangeTypeOptions:[]},tagList:function(){return[{label:"输入型组件",options:m["b"]},{label:"选择型组件",options:m["d"]}]}},methods:{addReg:function(){this.activeData.regList.push({pattern:"",message:""})},addSelectItem:function(){this.activeData.options.push({label:"",value:""})},addTreeItem:function(){++this.idGlobal,this.dialogVisible=!0,this.currentNode=this.activeData.options},renderContent:function(e,t){var a=this,r=t.node,n=t.data;t.store;return e("div",{class:"custom-tree-node"},[e("span",[r.label]),e("span",{class:"node-operation"},[e("i",{on:{click:function(){return a.append(n)}},class:"el-icon-plus",attrs:{title:"添加"}}),e("i",{on:{click:function(){return a.remove(r,n)}},class:"el-icon-delete",attrs:{title:"删除"}})])])},append:function(e){e.children||this.$set(e,"children",[]),this.dialogVisible=!0,this.currentNode=e.children},remove:function(e,t){var a=e.parent,r=a.data.children||a.data,n=r.findIndex((function(e){return e.id===t.id}));r.splice(n,1)},addNode:function(e){this.currentNode.push(e)},setOptionValue:function(e,t){e.value=Object(c["e"])(t)?+t:t},setDefaultValue:function(e){return Array.isArray(e)?e.join(","):["string","number"].indexOf(e)>-1?e:"boolean"===typeof e?"".concat(e):e},onDefaultValueInput:function(e){Object(o["isArray"])(this.activeData.defaultValue)?this.$set(this.activeData,"defaultValue",e.split(",").map((function(e){return Object(c["e"])(e)?+e:e}))):["true","false"].indexOf(e)>-1?this.$set(this.activeData,"defaultValue",JSON.parse(e)):this.$set(this.activeData,"defaultValue",Object(c["e"])(e)?+e:e)},onSwitchValueInput:function(e,t){["true","false"].indexOf(e)>-1?this.$set(this.activeData,t,JSON.parse(e)):this.$set(this.activeData,t,Object(c["e"])(e)?+e:e)},setTimeValue:function(e,t){var a="week"===t?d.date:e;this.$set(this.activeData,"defaultValue",null),this.$set(this.activeData,"value-format",a),this.$set(this.activeData,"format",e)},spanChange:function(e){this.formConf.span=e},multipleChange:function(e){this.$set(this.activeData,"defaultValue",e?[]:"")},dateTypeChange:function(e){this.setTimeValue(d[e],e)},rangeChange:function(e){this.$set(this.activeData,"defaultValue",e?[this.activeData.min,this.activeData.max]:this.activeData.min)},rateTextChange:function(e){e&&(this.activeData["show-score"]=!1)},rateScoreChange:function(e){e&&(this.activeData["show-text"]=!1)},colorFormatChange:function(e){this.activeData.defaultValue=null,this.activeData["show-alpha"]=e.indexOf("a")>-1,this.activeData.renderKey=+new Date},openIconsDialog:function(e){this.iconsVisible=!0,this.currentIconModel=e},setIcon:function(e){this.activeData[this.currentIconModel]=e},tagChange:function(e){var t=m["b"].find((function(t){return t.tagIcon===e}));t||(t=m["d"].find((function(t){return t.tagIcon===e}))),this.$emit("tag-change",t)}}},f=p,h=(a("7b23"),a("2877")),b=Object(h["a"])(f,r,n,!1,null,"46728d34",null);t["default"]=b.exports},"76f8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[a("basic-info-form",{ref:"basicInfo",attrs:{info:e.info}})],1),a("el-tab-pane",{attrs:{label:"字段信息",name:"cloum"}},[a("el-table",{ref:"dragTable",attrs:{data:e.cloumns,"row-key":"columnId","max-height":e.tableHeight}},[a("el-table-column",{attrs:{label:"序号",type:"index","min-width":"5%","class-name":"allowDrag"}}),a("el-table-column",{attrs:{label:"字段列名",prop:"columnName","min-width":"10%","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"字段描述","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.columnComment,callback:function(a){e.$set(t.row,"columnComment",a)},expression:"scope.row.columnComment"}})]}}])}),a("el-table-column",{attrs:{label:"物理类型",prop:"columnType","min-width":"10%","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"Java类型","min-width":"11%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.javaType,callback:function(a){e.$set(t.row,"javaType",a)},expression:"scope.row.javaType"}},[a("el-option",{attrs:{label:"Long",value:"Long"}}),a("el-option",{attrs:{label:"String",value:"String"}}),a("el-option",{attrs:{label:"Integer",value:"Integer"}}),a("el-option",{attrs:{label:"Double",value:"Double"}}),a("el-option",{attrs:{label:"BigDecimal",value:"BigDecimal"}}),a("el-option",{attrs:{label:"Date",value:"Date"}})],1)]}}])}),a("el-table-column",{attrs:{label:"java属性","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.javaField,callback:function(a){e.$set(t.row,"javaField",a)},expression:"scope.row.javaField"}})]}}])}),a("el-table-column",{attrs:{label:"插入","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isInsert,callback:function(a){e.$set(t.row,"isInsert",a)},expression:"scope.row.isInsert"}})]}}])}),a("el-table-column",{attrs:{label:"编辑","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isEdit,callback:function(a){e.$set(t.row,"isEdit",a)},expression:"scope.row.isEdit"}})]}}])}),a("el-table-column",{attrs:{label:"列表","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isList,callback:function(a){e.$set(t.row,"isList",a)},expression:"scope.row.isList"}})]}}])}),a("el-table-column",{attrs:{label:"查询","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isQuery,callback:function(a){e.$set(t.row,"isQuery",a)},expression:"scope.row.isQuery"}})]}}])}),a("el-table-column",{attrs:{label:"查询方式","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.queryType,callback:function(a){e.$set(t.row,"queryType",a)},expression:"scope.row.queryType"}},[a("el-option",{attrs:{label:"=",value:"EQ"}}),a("el-option",{attrs:{label:"!=",value:"NE"}}),a("el-option",{attrs:{label:">",value:"GT"}}),a("el-option",{attrs:{label:">=",value:"GTE"}}),a("el-option",{attrs:{label:"<",value:"LT"}}),a("el-option",{attrs:{label:"<=",value:"LTE"}}),a("el-option",{attrs:{label:"LIKE",value:"LIKE"}}),a("el-option",{attrs:{label:"BETWEEN",value:"BETWEEN"}})],1)]}}])}),a("el-table-column",{attrs:{label:"必填","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isRequired,callback:function(a){e.$set(t.row,"isRequired",a)},expression:"scope.row.isRequired"}})]}}])}),a("el-table-column",{attrs:{label:"显示类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.htmlType,callback:function(a){e.$set(t.row,"htmlType",a)},expression:"scope.row.htmlType"}},[a("el-option",{attrs:{label:"文本框",value:"input"}}),a("el-option",{attrs:{label:"文本域",value:"textarea"}}),a("el-option",{attrs:{label:"下拉框",value:"select"}}),a("el-option",{attrs:{label:"单选框",value:"radio"}}),a("el-option",{attrs:{label:"复选框",value:"checkbox"}}),a("el-option",{attrs:{label:"日期控件",value:"datetime"}}),a("el-option",{attrs:{label:"图片上传",value:"imageUpload"}}),a("el-option",{attrs:{label:"文件上传",value:"fileUpload"}}),a("el-option",{attrs:{label:"富文本控件",value:"editor"}})],1)]}}])}),a("el-table-column",{attrs:{label:"字典类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dictType,callback:function(a){e.$set(t.row,"dictType",a)},expression:"scope.row.dictType"}},e._l(e.dictOptions,(function(t){return a("el-option",{key:t.dictType,attrs:{label:t.dictName,value:t.dictType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.dictName))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.dictType))])])})),1)]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[a("gen-info-form",{ref:"genInfo",attrs:{info:e.info,tables:e.tables,menus:e.menus}})],1)],1),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},n=[],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("a434"),a("4e82"),a("4b72")),l=a("ed45"),i=a("a6dc"),s=a("ed69"),c=a("8586"),u=a("aa47"),m={name:"GenEdit",components:{basicInfoForm:s["default"],genInfoForm:c["default"]},data:function(){return{activeName:"cloum",tableHeight:document.documentElement.scrollHeight-245+"px",tables:[],cloumns:[],dictOptions:[],menus:[],info:{}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.tableId;t&&(Object(o["c"])(t).then((function(t){e.cloumns=t.data.rows,e.info=t.data.info,e.tables=t.data.tables})),Object(l["f"])().then((function(t){e.dictOptions=t.data})),Object(i["d"])().then((function(t){e.menus=e.handleTree(t.data,"menuId")})))},methods:{submitForm:function(){var e=this,t=this.$refs.basicInfo.$refs.basicInfoForm,a=this.$refs.genInfo.$refs.genInfoForm;Promise.all([t,a].map(this.getFormPromise)).then((function(r){var n=r.every((function(e){return!!e}));if(n){var l=Object.assign({},t.model,a.model);l.columns=e.cloumns,l.params={treeCode:l.treeCode,treeName:l.treeName,treeParentCode:l.treeParentCode,parentMenuId:l.parentMenuId},Object(o["i"])(l).then((function(t){e.msgSuccess(t.msg),200===t.code&&e.close()}))}else e.msgError("表单校验未通过，请重新检查提交内容")}))},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/tool/gen",query:{t:Date.now()}})}},mounted:function(){var e=this,t=this.$refs.dragTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];u["default"].create(t,{handle:".allowDrag",onEnd:function(t){var a=e.cloumns.splice(t.oldIndex,1)[0];for(var r in e.cloumns.splice(t.newIndex,0,a),e.cloumns)e.cloumns[r].sort=parseInt(r)+1}})}},d=m,p=a("2877"),f=Object(p["a"])(d,r,n,!1,null,null,null);t["default"]=f.exports},"77fe":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"门店",prop:"shopId"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},model:{value:e.queryParams.shopId,callback:function(t){e.$set(e.queryParams,"shopId",t)},expression:"queryParams.shopId"}},e._l(e.shopinfoList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.shopName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"项目",prop:"itemId"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},model:{value:e.queryParams.itemId,callback:function(t){e.$set(e.queryParams,"itemId",t)},expression:"queryParams.itemId"}},e._l(e.shopItemList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.itemName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"申请用户",prop:"applyUserId"}},[a("el-input",{attrs:{placeholder:"请输入申请用户",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.applyUserName,callback:function(t){e.$set(e.queryParams,"applyUserName",t)},expression:"queryParams.applyUserName"}})],1),a("el-form-item",{attrs:{label:"申请时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangeApplyTime,callback:function(t){e.daterangeApplyTime=t},expression:"daterangeApplyTime"}})],1),a("el-form-item",{attrs:{label:"预约状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择预约状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.applyList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"门店",align:"center",prop:"shopName"}}),a("el-table-column",{attrs:{label:"项目",align:"center",prop:"itemName"}}),a("el-table-column",{attrs:{label:"申请用户",align:"center",prop:"applyUserName"}}),a("el-table-column",{attrs:{label:"申请时间",align:"center",prop:"applyTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.applyTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"预约顾问",align:"center",prop:"applyConsultantName"}}),a("el-table-column",{attrs:{label:"预约状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"01"===t.row.status,expression:"scope.row.status==='01'"},{name:"hasPermi",rawName:"v-hasPermi",value:["business:apply:edit"],expression:"['business:apply:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"01"===t.row.status||"04"===t.row.status,expression:"scope.row.status==='01' || scope.row.status==='04'"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleConfirm(t.row)}}},[e._v("确认接待")]),a("a",{staticClass:"link-type",attrs:{href:"/order/itemorder?applyId="+t.row.id}},[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-search"}},[e._v("订单详情")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"30%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"门店ID",prop:"shopId"}},[a("el-select",{attrs:{placeholder:"请选择门店",clearable:"",size:"small",disabled:""},model:{value:e.form.shopId,callback:function(t){e.$set(e.form,"shopId",t)},expression:"form.shopId"}},e._l(e.shopinfoList,(function(e){return a("el-option",{key:parseInt(e.id),attrs:{label:e.shopName,value:parseInt(e.id)}})})),1)],1),a("el-form-item",{attrs:{label:"项目",prop:"itemId"}},[a("el-select",{attrs:{placeholder:"请选择项目",clearable:"",size:"small",disabled:""},model:{value:e.form.itemId,callback:function(t){e.$set(e.form,"itemId",t)},expression:"form.itemId"}},e._l(e.shopItemList,(function(e){return a("el-option",{key:parseInt(e.id),attrs:{label:e.itemName,value:parseInt(e.id)}})})),1)],1),a("el-form-item",{attrs:{label:"申请用户",prop:"applyUserId"}},[a("el-select",{attrs:{placeholder:"申请用户",clearable:"",size:"small",disabled:""},model:{value:e.form.applyUserId,callback:function(t){e.$set(e.form,"applyUserId",t)},expression:"form.applyUserId"}},e._l(e.userList,(function(e){return a("el-option",{key:parseInt(e.userId),attrs:{label:e.userName,value:parseInt(e.userId)}})})),1)],1),a("el-form-item",{attrs:{label:"申请时间",prop:"applyTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",disabled:"",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择申请时间"},model:{value:e.form.applyTime,callback:function(t){e.$set(e.form,"applyTime",t)},expression:"form.applyTime"}})],1),a("el-form-item",{attrs:{label:"预约顾问",prop:"applyConsultant"}},[a("el-select",{attrs:{placeholder:"预约顾问",clearable:"",size:"small"},model:{value:e.form.applyConsultant,callback:function(t){e.$set(e.form,"applyConsultant",t)},expression:"form.applyConsultant"}},e._l(e.consultantUserList,(function(e){return a("el-option",{key:parseInt(e.userId),attrs:{label:e.userName,value:parseInt(e.userId)}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("7db0"),a("d3b7"),a("b775"));function l(e){return Object(o["a"])({url:"/business/apply/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/business/apply/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/business/apply",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/business/apply",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/business/apply/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/business/apply/resiveApplyUser/"+e,method:"get"})}function d(e){return Object(o["a"])({url:"/business/apply/export",method:"get",params:e})}var p=a("0e04"),f=a("8c64"),h=a("c0c7"),b={name:"Apply",data:function(){return{consultantUserList:[],shopItemList:[],userList:[],shopinfoList:[],loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,applyList:[],title:"",open:!1,daterangeApplyTime:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,shopId:null,itemId:null,applyUserId:null,applyTime:null,status:null,applyUserName:null},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_item_apply_status").then((function(t){e.statusOptions=t.data})),this.getShopList(),this.getUserList(),this.getShopItems()},methods:{getShopItems:function(){var e=this;Object(f["g"])({}).then((function(t){e.shopItemList=t.rows}))},getUserList:function(){var e=this;Object(h["n"])({userType:"02"}).then((function(t){e.userList=t.rows}))},getShopList:function(){var e=this;Object(p["f"])({}).then((function(t){e.shopinfoList=t.rows}))},getList:function(){var e=this;this.loading=!0,this.queryParams.params={},null!=this.daterangeApplyTime&&""!=this.daterangeApplyTime&&(this.queryParams.params["beginApplyTime"]=this.daterangeApplyTime[0],this.queryParams.params["endApplyTime"]=this.daterangeApplyTime[1]),l(this.queryParams).then((function(t){e.applyList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,shopId:null,itemId:null,applyUserId:null,applyTime:null,applyConsultant:null,status:"0",createTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangeApplyTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加门店项目预约"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,Object(h["g"])(t.form.shopId,t.form.itemId).then((function(e){t.consultantUserList=e.data,t.open=!0})),t.title="修改门店项目预约"}))},handleConfirm:function(e){var t=this,a=e.applyUserId,r=this.userList.find((function(e){return e.userId===a})),n=this;this.$confirm("是否确认接待客户【"+r.userName+"】?","提示信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return m(e.id)})).then((function(){t.msgSuccess("操作成功"),n.getList()})).catch((function(){}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除门店项目预约编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有门店项目预约数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,d(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},g=b,v=a("2877"),y=Object(v["a"])(g,r,n,!1,null,null,null);t["default"]=y.exports},7803:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register"},[a("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules}},[a("h3",{staticClass:"title"},[e._v("蜗奇后台管理系统")]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),a("el-form-item",{attrs:{prop:"confirmPassword"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"确认密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e.captchaOnOff?a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),a("div",{staticClass:"register-code"},[a("img",{staticClass:"register-code-img",attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1):e._e(),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.loading?a("span",[e._v("注 册 中...")]):a("span",[e._v("注 册")])]),a("div",{staticStyle:{float:"right"}},[a("router-link",{staticClass:"link-type",attrs:{to:"/login"}},[e._v("使用已有账户登录")])],1)],1)],1),e._m(0)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-register-footer"},[a("span",[e._v("Copyright © 2018-2021 ruoyi.vip All Rights Reserved.")])])}],o=a("7ded"),l={name:"Register",data:function(){var e=this,t=function(t,a,r){e.registerForm.password!==a?r(new Error("两次输入的密码不一致")):r()};return{codeUrl:"",registerForm:{username:"",password:"",confirmPassword:"",code:"",uuid:""},registerRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"},{min:2,max:20,message:"用户账号长度必须介于 2 和 20 之间",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{required:!0,validator:t,trigger:"blur"}],code:[{required:!0,trigger:"change",message:"请输入验证码"}]},loading:!1,captchaOnOff:!0}},created:function(){this.getCode()},methods:{getCode:function(){var e=this;Object(o["a"])().then((function(t){e.captchaOnOff=void 0===t.captchaOnOff||t.captchaOnOff,e.captchaOnOff&&(e.codeUrl="data:image/gif;base64,"+t.img,e.registerForm.uuid=t.uuid)}))},handleRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){t&&(e.loading=!0,Object(o["e"])(e.registerForm).then((function(t){var a=e.registerForm.username;e.$alert("<font color='red'>恭喜你，您的账号 "+a+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0}).then((function(){e.$router.push("/login")})).catch((function(){}))})).catch((function(){e.loading=!1,e.captchaOnOff&&e.getCode()})))}))}}},i=l,s=(a("9b5e"),a("2877")),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"7a83":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userId,callback:function(t){e.$set(e.queryParams,"userId",t)},expression:"queryParams.userId"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"订单ID",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderId,callback:function(t){e.$set(e.queryParams,"orderId",t)},expression:"queryParams.orderId"}})],1),a("el-form-item",{attrs:{label:"订单金额",prop:"orderAmount"}},[a("el-input",{attrs:{placeholder:"请输入订单金额",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderAmount,callback:function(t){e.$set(e.queryParams,"orderAmount",t)},expression:"queryParams.orderAmount"}})],1),a("el-form-item",{attrs:{label:"返佣比例",prop:"commissionPercent"}},[a("el-input",{attrs:{placeholder:"请输入返佣比例",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.commissionPercent,callback:function(t){e.$set(e.queryParams,"commissionPercent",t)},expression:"queryParams.commissionPercent"}})],1),a("el-form-item",{attrs:{label:"返佣金额",prop:"commissionAmount"}},[a("el-input",{attrs:{placeholder:"请输入返佣金额",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.commissionAmount,callback:function(t){e.$set(e.queryParams,"commissionAmount",t)},expression:"queryParams.commissionAmount"}})],1),a("el-form-item",{attrs:{label:"支付日期",prop:"payTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择支付日期"},model:{value:e.queryParams.payTime,callback:function(t){e.$set(e.queryParams,"payTime",t)},expression:"queryParams.payTime"}})],1),a("el-form-item",{attrs:{label:"顾客ID",prop:"customerId"}},[a("el-input",{attrs:{placeholder:"请输入顾客ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.customerId,callback:function(t){e.$set(e.queryParams,"customerId",t)},expression:"queryParams.customerId"}})],1),a("el-form-item",{attrs:{label:"支付方式",prop:"payType"}},[a("el-select",{attrs:{placeholder:"请选择支付方式",clearable:"",size:"small"},model:{value:e.queryParams.payType,callback:function(t){e.$set(e.queryParams,"payType",t)},expression:"queryParams.payType"}},e._l(e.payTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:record:add"],expression:"['business:record:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:record:edit"],expression:"['business:record:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:record:remove"],expression:"['business:record:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:record:export"],expression:"['business:record:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.recordList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"id",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"用户名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"订单ID",align:"center",prop:"orderId"}}),a("el-table-column",{attrs:{label:"订单金额",align:"center",prop:"orderAmount"}}),a("el-table-column",{attrs:{label:"返佣比例",align:"center",prop:"commissionPercent"}}),a("el-table-column",{attrs:{label:"返佣金额",align:"center",prop:"commissionAmount"}}),a("el-table-column",{attrs:{label:"支付日期",align:"center",prop:"payTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.payTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"顾客ID",align:"center",prop:"customerId"}}),a("el-table-column",{attrs:{label:"支付方式",align:"center",prop:"payType",formatter:e.payTypeFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:record:edit"],expression:"['business:record:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:record:remove"],expression:"['business:record:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),a("el-form-item",{attrs:{label:"订单ID",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单ID"},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1),a("el-form-item",{attrs:{label:"订单金额",prop:"orderAmount"}},[a("el-input",{attrs:{placeholder:"请输入订单金额"},model:{value:e.form.orderAmount,callback:function(t){e.$set(e.form,"orderAmount",t)},expression:"form.orderAmount"}})],1),a("el-form-item",{attrs:{label:"返佣比例",prop:"commissionPercent"}},[a("el-input",{attrs:{placeholder:"请输入返佣比例"},model:{value:e.form.commissionPercent,callback:function(t){e.$set(e.form,"commissionPercent",t)},expression:"form.commissionPercent"}})],1),a("el-form-item",{attrs:{label:"返佣金额",prop:"commissionAmount"}},[a("el-input",{attrs:{placeholder:"请输入返佣金额"},model:{value:e.form.commissionAmount,callback:function(t){e.$set(e.form,"commissionAmount",t)},expression:"form.commissionAmount"}})],1),a("el-form-item",{attrs:{label:"支付日期",prop:"payTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择支付日期"},model:{value:e.form.payTime,callback:function(t){e.$set(e.form,"payTime",t)},expression:"form.payTime"}})],1),a("el-form-item",{attrs:{label:"顾客ID",prop:"customerId"}},[a("el-input",{attrs:{placeholder:"请输入顾客ID"},model:{value:e.form.customerId,callback:function(t){e.$set(e.form,"customerId",t)},expression:"form.customerId"}})],1),a("el-form-item",{attrs:{label:"支付方式",prop:"payType"}},[a("el-select",{attrs:{placeholder:"请选择支付方式"},model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},e._l(e.payTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/business/record/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/business/record/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/business/record",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/business/record",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/business/record/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/business/record/export",method:"get",params:e})}var d={name:"Record",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,recordList:[],title:"",open:!1,payTypeOptions:[],queryParams:{pageNum:1,pageSize:10,userId:null,userName:null,orderId:null,orderAmount:null,commissionPercent:null,commissionAmount:null,payTime:null,customerId:null,payType:null},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("order_info_pay_type").then((function(t){e.payTypeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.recordList=t.rows,e.total=t.total,e.loading=!1}))},payTypeFormat:function(e,t){return this.selectDictLabel(this.payTypeOptions,e.payType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,userId:null,userName:null,orderId:null,orderAmount:null,commissionPercent:null,commissionAmount:null,payTime:null,customerId:null,payType:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加返佣记录"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改返佣记录"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除返佣记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有返佣记录数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},"7b23":function(e,t,a){"use strict";a("1825")},"7caf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"店铺名称",prop:"shopName"}},[a("el-input",{attrs:{placeholder:"请输入店铺名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.shopName,callback:function(t){e.$set(e.queryParams,"shopName",t)},expression:"queryParams.shopName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:shopinfo:add"],expression:"['shop:shopinfo:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:shopinfo:edit"],expression:"['shop:shopinfo:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:shopinfo:remove"],expression:"['shop:shopinfo:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:shopinfo:export"],expression:"['shop:shopinfo:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.shopinfoList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"门店名称",align:"center",prop:"shopName"}}),a("el-table-column",{attrs:{label:"地址",align:"center",prop:"address"}}),a("el-table-column",{attrs:{label:"联系人",align:"center",prop:"contact"}}),a("el-table-column",{attrs:{label:"联系电话",align:"center",prop:"phone"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"添加时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:shopinfo:edit"],expression:"['shop:shopinfo:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["shop:shopinfo:remove"],expression:"['shop:shopinfo:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"900px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"门店名称",prop:"shopName"}},[a("el-input",{attrs:{placeholder:"请输入店铺名称"},model:{value:e.form.shopName,callback:function(t){e.$set(e.form,"shopName",t)},expression:"form.shopName"}})],1),a("el-form-item",{attrs:{label:"主管人员",prop:"contact"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请输入主管名称"},model:{value:e.form.contact,callback:function(t){e.$set(e.form,"contact",t)},expression:"form.contact"}},e._l(e.directorList,(function(e){return a("el-option",{key:""+e.userId,attrs:{value:""+e.userId,label:e.userName}})})),1)],1),a("el-form-item",{attrs:{label:"联系方式",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"详情地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",{attrs:{label:"上架项目"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleItemSelectionChange}},[a("el-table-column",{attrs:{prop:"itemName",label:"项目名称",width:"120"}}),a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"顾问配置"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:t.row.consultantList,callback:function(a){e.$set(t.row,"consultantList",a)},expression:"scope.row.consultantList"}},e._l(e.consultantList,(function(e){return a("el-option",{key:e.userId+"",attrs:{label:e.nickName,value:e.userId+""}})})),1)]}}])})],1)],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=a("b85c"),l=(a("d81d"),a("d3b7"),a("159b"),a("caad"),a("ac1f"),a("1276"),a("2532"),a("a15b"),a("0e04")),i=a("c0c7"),s=a("8c64"),c={name:"Shopinfo",data:function(){return{itemIds:[],tableData:[],directorList:[],consultantList:[],loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,shopinfoList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,shopName:null},form:{},rules:{shopName:[{required:!0,message:"请输入店铺名称",trigger:"blur"}],contact:[{required:!0,message:"请选择主管人员",trigger:"change"}],phone:[{required:!0,message:"请填写联系方式",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.statusOptions=t.data})),this.getDirectorList(),this.getConsultantList(),this.getTableDataList()},methods:{getTableDataList:function(){var e=this;Object(s["g"])().then((function(t){e.tableData=t.rows}))},getDirectorList:function(){var e=this;Object(i["l"])("director").then((function(t){e.directorList=t.data}))},getConsultantList:function(){var e=this;Object(i["l"])("consultant").then((function(t){e.consultantList=t.data}))},getList:function(){var e=this;this.loading=!0,Object(l["f"])(this.queryParams).then((function(t){e.shopinfoList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,shopName:null,shopDetail:null,address:null,contact:null,phone:null,status:"Y",createTime:null,createBy:null,updateTime:null,updateBy:null,baseShopItemConsultantList:[]},this.itemIds=[],this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleItemSelectionChange:function(e){this.itemIds=e.map((function(e){return e.id}))},handleAdd:function(){this.reset(),this.open=!0,this.title="添加门店",this.getTableDataList()},handleUpdate:function(e){var t=this;t.reset();var a=e.id||t.ids;Object(l["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改门店";var a,r=[],n=Object(o["a"])(t.form.baseShopItemConsultantList);try{for(n.s();!(a=n.n()).done;){var l=a.value;r.push(""+l.itemId)}}catch(i){n.e(i)}finally{n.f()}r.length>0&&t.$nextTick((function(){t.$refs.multipleTable&&t.$refs.multipleTable.clearSelection(),t.tableData.forEach((function(e){r.includes(e.id)&&(t.$refs.multipleTable.toggleRowSelection(e,!0),t.form.baseShopItemConsultantList.forEach((function(t){t.itemId==e.id&&(e.consultantList=t.consultantId.split(","),console.log(t.itemId,"it.itemId ",e))})))}))}))}))},submitForm:function(){var e=this,t=[];this.tableData.forEach((function(a){if(e.itemIds.includes(a.id)){var r={itemId:a.id,consultantId:a.consultantList.length>0?a.consultantList.join(","):""};t.push(r)}})),this.form.baseShopItemConsultantList=t,this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(l["h"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(l["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除门店编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有门店数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(l["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},u=c,m=a("2877"),d=Object(m["a"])(u,r,n,!1,null,null,null);t["default"]=d.exports},"7f04":function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var r=a("b775");function n(e){return Object(r["a"])({url:"/goods/type/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/goods/type/"+e,method:"get"})}function l(e){return Object(r["a"])({url:"/goods/type",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/goods/type",method:"put",data:e})}function s(e){return Object(r["a"])({url:"/goods/type/"+e,method:"delete"})}function c(e){return Object(r["a"])({url:"/goods/type/export",method:"get",params:e})}},"7fc8":function(e,t,a){},"80bf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"订单ID",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderId,callback:function(t){e.$set(e.queryParams,"orderId",t)},expression:"queryParams.orderId"}})],1),a("el-form-item",{attrs:{label:"商品ID",prop:"productId"}},[a("el-input",{attrs:{placeholder:"请输入商品ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productId,callback:function(t){e.$set(e.queryParams,"productId",t)},expression:"queryParams.productId"}})],1),a("el-form-item",{attrs:{label:"商品类型",prop:"productType"}},[a("el-select",{attrs:{placeholder:"请选择商品类型",clearable:"",size:"small"},model:{value:e.queryParams.productType,callback:function(t){e.$set(e.queryParams,"productType",t)},expression:"queryParams.productType"}},e._l(e.productTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productName,callback:function(t){e.$set(e.queryParams,"productName",t)},expression:"queryParams.productName"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入商品价格",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.price,callback:function(t){e.$set(e.queryParams,"price",t)},expression:"queryParams.price"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"物流单号",prop:"logisticsCode"}},[a("el-input",{attrs:{placeholder:"请输入物流单号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.logisticsCode,callback:function(t){e.$set(e.queryParams,"logisticsCode",t)},expression:"queryParams.logisticsCode"}})],1),a("el-form-item",{attrs:{label:"物流类型",prop:"logisticsType"}},[a("el-select",{attrs:{placeholder:"请选择物流类型",clearable:"",size:"small"},model:{value:e.queryParams.logisticsType,callback:function(t){e.$set(e.queryParams,"logisticsType",t)},expression:"queryParams.logisticsType"}},e._l(e.logisticsTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:item:add"],expression:"['exam:item:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:item:edit"],expression:"['exam:item:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:item:remove"],expression:"['exam:item:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:item:export"],expression:"['exam:item:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.itemList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"订单ID",align:"center",prop:"orderId"}}),a("el-table-column",{attrs:{label:"商品ID",align:"center",prop:"productId"}}),a("el-table-column",{attrs:{label:"商品类型",align:"center",prop:"productType",formatter:e.productTypeFormat}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"商品价格",align:"center",prop:"price"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"物流单号",align:"center",prop:"logisticsCode"}}),a("el-table-column",{attrs:{label:"物流类型",align:"center",prop:"logisticsType",formatter:e.logisticsTypeFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:item:edit"],expression:"['exam:item:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:item:remove"],expression:"['exam:item:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"订单ID",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单ID"},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1),a("el-form-item",{attrs:{label:"商品ID",prop:"productId"}},[a("el-input",{attrs:{placeholder:"请输入商品ID"},model:{value:e.form.productId,callback:function(t){e.$set(e.form,"productId",t)},expression:"form.productId"}})],1),a("el-form-item",{attrs:{label:"商品类型",prop:"productType"}},[a("el-select",{attrs:{placeholder:"请选择商品类型"},model:{value:e.form.productType,callback:function(t){e.$set(e.form,"productType",t)},expression:"form.productType"}},e._l(e.productTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName",t)},expression:"form.productName"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入商品价格"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"物流单号",prop:"logisticsCode"}},[a("el-input",{attrs:{placeholder:"请输入物流单号"},model:{value:e.form.logisticsCode,callback:function(t){e.$set(e.form,"logisticsCode",t)},expression:"form.logisticsCode"}})],1),a("el-form-item",{attrs:{label:"物流类型",prop:"logisticsType"}},[a("el-select",{attrs:{placeholder:"请选择物流类型"},model:{value:e.form.logisticsType,callback:function(t){e.$set(e.form,"logisticsType",t)},expression:"form.logisticsType"}},e._l(e.logisticsTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("d43d")),l={name:"Item",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,itemList:[],title:"",open:!1,productTypeOptions:[],statusOptions:[],logisticsTypeOptions:[],queryParams:{pageNum:1,pageSize:10,orderId:null,productId:null,productType:null,productName:null,price:null,status:null,logisticsCode:null,logisticsType:null},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_product_type").then((function(t){e.productTypeOptions=t.data})),this.getDicts("sys_order_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_logistics_type").then((function(t){e.logisticsTypeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["e"])(this.queryParams).then((function(t){e.itemList=t.rows,e.total=t.total,e.loading=!1}))},productTypeFormat:function(e,t){return this.selectDictLabel(this.productTypeOptions,e.productType)},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},logisticsTypeFormat:function(e,t){return this.selectDictLabel(this.logisticsTypeOptions,e.logisticsType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,orderId:null,productId:null,productType:null,productName:null,price:null,status:null,logisticsCode:null,logisticsType:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加订单项"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改订单项"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(o["f"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除订单项编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有订单项数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},"80de":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return makeUpJs}));var core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_5__),util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("3022"),util__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_6__),_utils_index__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ed08"),_config__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2e2a"),units={KB:"1024",MB:"1024 / 1024",GB:"1024 / 1024 / 1024"},confGlobal,inheritAttrs={file:"",dialog:"inheritAttrs: false,"};function makeUpJs(e,t){confGlobal=e=JSON.parse(JSON.stringify(e));var a=[],r=[],n=[],o=[],l=mixinMethod(t),i=[];e.fields.forEach((function(e){buildAttributes(e,a,r,n,l,o,i)}));var s=buildexport(e,t,a.join("\n"),r.join("\n"),n.join("\n"),i.join("\n"),o.join("\n"),l.join("\n"));return confGlobal=null,s}function buildAttributes(e,t,a,r,n,o,l){if(buildData(e,t),buildRules(e,a),e.options&&e.options.length&&(buildOptions(e,r),"dynamic"===e.dataType)){var i="".concat(e.vModel,"Options"),s=Object(_utils_index__WEBPACK_IMPORTED_MODULE_7__["h"])(i);buildOptionMethod("get".concat(s),i,n)}e.props&&e.props.props&&buildProps(e,o),e.action&&"el-upload"===e.tag&&(l.push("".concat(e.vModel,"Action: '").concat(e.action,"',\n      ").concat(e.vModel,"fileList: [],")),n.push(buildBeforeUpload(e)),e["auto-upload"]||n.push(buildSubmitUpload(e))),e.children&&e.children.forEach((function(e){buildAttributes(e,t,a,r,n,o,l)}))}function mixinMethod(e){var t=[],a={file:confGlobal.formBtns?{submitForm:"submitForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          // TODO 提交表单\n        })\n      },"),resetForm:"resetForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },")}:null,dialog:{onOpen:"onOpen() {},",onClose:"onClose() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },"),close:"close() {\n        this.$emit('update:visible', false)\n      },",handelConfirm:"handelConfirm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          this.close()\n        })\n      },")}},r=a[e];return r&&Object.keys(r).forEach((function(e){t.push(r[e])})),t}function buildData(e,t){var a;void 0!==e.vModel&&(a="string"!==typeof e.defaultValue||e.multiple?"".concat(JSON.stringify(e.defaultValue)):"'".concat(e.defaultValue,"'"),t.push("".concat(e.vModel,": ").concat(a,",")))}function buildRules(conf,ruleList){if(void 0!==conf.vModel){var rules=[];if(_config__WEBPACK_IMPORTED_MODULE_8__["e"][conf.tag]){if(conf.required){var type=Object(util__WEBPACK_IMPORTED_MODULE_6__["isArray"])(conf.defaultValue)?"type: 'array',":"",message=Object(util__WEBPACK_IMPORTED_MODULE_6__["isArray"])(conf.defaultValue)?"请至少选择一个".concat(conf.vModel):conf.placeholder;void 0===message&&(message="".concat(conf.label,"不能为空")),rules.push("{ required: true, ".concat(type," message: '").concat(message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_8__["e"][conf.tag],"' }"))}conf.regList&&Object(util__WEBPACK_IMPORTED_MODULE_6__["isArray"])(conf.regList)&&conf.regList.forEach((function(item){item.pattern&&rules.push("{ pattern: ".concat(eval(item.pattern),", message: '").concat(item.message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_8__["e"][conf.tag],"' }"))})),ruleList.push("".concat(conf.vModel,": [").concat(rules.join(","),"],"))}}}function buildOptions(e,t){if(void 0!==e.vModel){"dynamic"===e.dataType&&(e.options=[]);var a="".concat(e.vModel,"Options: ").concat(JSON.stringify(e.options),",");t.push(a)}}function buildProps(e,t){"dynamic"===e.dataType&&("value"!==e.valueKey&&(e.props.props.value=e.valueKey),"label"!==e.labelKey&&(e.props.props.label=e.labelKey),"children"!==e.childrenKey&&(e.props.props.children=e.childrenKey));var a="".concat(e.vModel,"Props: ").concat(JSON.stringify(e.props.props),",");t.push(a)}function buildBeforeUpload(e){var t=units[e.sizeUnit],a="",r="",n=[];e.fileSize&&(a="let isRightSize = file.size / ".concat(t," < ").concat(e.fileSize,"\n    if(!isRightSize){\n      this.$message.error('文件大小超过 ").concat(e.fileSize).concat(e.sizeUnit,"')\n    }"),n.push("isRightSize")),e.accept&&(r="let isAccept = new RegExp('".concat(e.accept,"').test(file.type)\n    if(!isAccept){\n      this.$message.error('应该选择").concat(e.accept,"类型的文件')\n    }"),n.push("isAccept"));var o="".concat(e.vModel,"BeforeUpload(file) {\n    ").concat(a,"\n    ").concat(r,"\n    return ").concat(n.join("&&"),"\n  },");return n.length?o:""}function buildSubmitUpload(e){var t="submitUpload() {\n    this.$refs['".concat(e.vModel,"'].submit()\n  },");return t}function buildOptionMethod(e,t,a){var r="".concat(e,"() {\n    // TODO 发起请求获取数据\n    this.").concat(t,"\n  },");a.push(r)}function buildexport(e,t,a,r,n,o,l,i){var s="".concat(_utils_index__WEBPACK_IMPORTED_MODULE_7__["d"],"{\n  ").concat(inheritAttrs[t],"\n  components: {},\n  props: [],\n  data () {\n    return {\n      ").concat(e.formModel,": {\n        ").concat(a,"\n      },\n      ").concat(e.formRules,": {\n        ").concat(r,"\n      },\n      ").concat(o,"\n      ").concat(n,"\n      ").concat(l,"\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {},\n  mounted () {},\n  methods: {\n    ").concat(i,"\n  }\n}");return s}},"82ab":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangeOrderTime,callback:function(t){e.daterangeOrderTime=t},expression:"daterangeOrderTime"}})],1),a("el-form-item",{attrs:{label:"结算店铺",prop:"paymentSourceShop"}},[a("el-select",{attrs:{placeholder:"请输入结算店铺",clearable:"",filterable:""},model:{value:e.queryParams.paymentSourceShop,callback:function(t){e.$set(e.queryParams,"paymentSourceShop",t)},expression:"queryParams.paymentSourceShop"}},e._l(e.shopinfoList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.shopName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"结算状态",prop:"paymentStatus"}},[a("el-select",{attrs:{placeholder:"请选择结算状态",clearable:"",size:"small"},model:{value:e.queryParams.paymentStatus,callback:function(t){e.$set(e.queryParams,"paymentStatus",t)},expression:"queryParams.paymentStatus"}},e._l(e.paymentStatusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"结算时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangePaymentTime,callback:function(t){e.daterangePaymentTime=t},expression:"daterangePaymentTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:payment:export"],expression:"['finance:payment:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:4}},[a("strong",[e._v("合计结算金额："+e._s(e.totalAmount)+" 元")])]),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.paymentList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"订单ID",align:"center",prop:"orderId"}}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"订单用户",align:"center",prop:"orderUser"}}),a("el-table-column",{attrs:{label:"下单时间",align:"center",prop:"orderTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.orderTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"下单店铺名称",align:"center",prop:"operateSourceShopName"}}),a("el-table-column",{attrs:{label:"结算店铺名称",align:"center",prop:"paymentSourceShopName"}}),a("el-table-column",{attrs:{label:"结算状态",align:"center",prop:"paymentStatus",formatter:e.paymentStatusFormat}}),a("el-table-column",{attrs:{label:"结算用户",align:"center",prop:"paymentUser"}}),a("el-table-column",{attrs:{label:"结算时间",align:"center",prop:"paymentTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.paymentTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"结算金额",align:"center",prop:"paymentAmount"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"01"===t.row.paymentStatus,expression:"scope.row.paymentStatus==='01'"},{name:"hasPermi",rawName:"v-hasPermi",value:["finance:payment:edit"],expression:"['finance:payment:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("结算")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"订单ID",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单ID",readonly:"",disabled:""},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",readonly:""},model:{value:e.form.orderCode,callback:function(t){e.$set(e.form,"orderCode",t)},expression:"form.orderCode"}})],1),a("el-form-item",{attrs:{label:"下单时间",prop:"orderTime"}},[a("el-input",{attrs:{placeholder:"下单时间",readonly:""},model:{value:e.form.orderTime,callback:function(t){e.$set(e.form,"orderTime",t)},expression:"form.orderTime"}})],1),a("el-form-item",{attrs:{label:"下单店铺",prop:"operateSourceShopName"}},[a("el-input",{attrs:{placeholder:"请输入下单店铺名称",readonly:""},model:{value:e.form.operateSourceShopName,callback:function(t){e.$set(e.form,"operateSourceShopName",t)},expression:"form.operateSourceShopName"}})],1),a("el-form-item",{attrs:{label:"结算店铺",prop:"paymentSourceShopName"}},[a("el-input",{attrs:{placeholder:"请输入结算店铺名称",readonly:""},model:{value:e.form.paymentSourceShopName,callback:function(t){e.$set(e.form,"paymentSourceShopName",t)},expression:"form.paymentSourceShopName"}})],1),a("el-form-item",{attrs:{label:"结算金额",prop:"paymentAmount"}},[a("el-input",{attrs:{placeholder:"请输入结算金额",readonly:""},model:{value:e.form.paymentAmount,callback:function(t){e.$set(e.form,"paymentAmount",t)},expression:"form.paymentAmount"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("结 算")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d3b7"),a("159b"),a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/finance/payment/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/finance/payment/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/finance/payment",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/finance/payment",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/finance/payment/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/finance/payment/export",method:"get",params:e})}var d=a("0e04"),p={name:"Payment",data:function(){return{loading:!0,totalAmount:0,exportLoading:!1,ids:[],shopinfoList:[],single:!0,multiple:!0,showSearch:!0,total:0,paymentList:[],title:"",open:!1,daterangeOrderTime:[],paymentStatusOptions:[],daterangePaymentTime:[],queryParams:{pageNum:1,pageSize:10,orderCode:null,orderTime:null,paymentSourceShop:null,paymentStatus:null,paymentTime:null},form:{},rules:{}}},created:function(){var e=this;this.getShopList(),this.getList(),this.getDicts("sys_payment_status").then((function(t){e.paymentStatusOptions=t.data}))},methods:{getShopList:function(){var e=this;Object(d["f"])({}).then((function(t){e.shopinfoList=t.rows}))},getList:function(){var e=this;this.loading=!0,this.queryParams.params={},null!=this.daterangeOrderTime&&""!=this.daterangeOrderTime&&(this.queryParams.params["beginOrderTime"]=this.daterangeOrderTime[0]+" 00:00:00",this.queryParams.params["endOrderTime"]=this.daterangeOrderTime[1]+" 23:59:59"),null!=this.daterangePaymentTime&&""!=this.daterangePaymentTime&&(this.queryParams.params["beginPaymentTime"]=this.daterangePaymentTime[0]+" 00:00:00",this.queryParams.params["endPaymentTime"]=this.daterangePaymentTime[1]+" 23:59:59"),this.totalAmount=0,l(this.queryParams).then((function(t){e.paymentList=t.rows,e.paymentList.forEach((function(t){e.totalAmount+=parseFloat(t.paymentAmount)})),e.total=t.total,e.loading=!1}))},paymentStatusFormat:function(e,t){return this.selectDictLabel(this.paymentStatusOptions,e.paymentStatus)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,orderId:null,orderCode:null,orderTime:null,operateSourceShop:null,paymentSourceShop:null,operateSourceShopName:null,paymentStatus:null,paymentUser:null,paymentSourceShopName:null,paymentTime:null,paymentAmount:null,createTime:null,createBy:null,updateTime:null,updateBy:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangeOrderTime=[],this.daterangePaymentTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加跨店结算"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="跨店订单结算"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除跨店结算编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有跨店结算数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},f=p,h=a("2877"),b=Object(h["a"])(f,r,n,!1,null,null,null);t["default"]=b.exports},"82c8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:code"],expression:"['tool:gen:code']"}],attrs:{type:"primary",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleGenTable}},[e._v("生成")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:import"],expression:"['tool:gen:import']"}],attrs:{type:"info",plain:"",icon:"el-icon-upload",size:"mini"},on:{click:e.openImportTable}},[e._v("导入")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:edit"],expression:"['tool:gen:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleEditTable}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:remove"],expression:"['tool:gen:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),a("el-table-column",{attrs:{label:"序号",type:"index",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.queryParams.pageNum-1)*e.queryParams.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{label:"表名称",align:"center",prop:"tableName","show-overflow-tooltip":!0,width:"120"}}),a("el-table-column",{attrs:{label:"表描述",align:"center",prop:"tableComment","show-overflow-tooltip":!0,width:"120"}}),a("el-table-column",{attrs:{label:"实体",align:"center",prop:"className","show-overflow-tooltip":!0,width:"120"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"}}),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updateTime",width:"160"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:preview"],expression:"['tool:gen:preview']"}],attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handlePreview(t.row)}}},[e._v("预览")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:edit"],expression:"['tool:gen:edit']"}],attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleEditTable(t.row)}}},[e._v("编辑")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:remove"],expression:"['tool:gen:remove']"}],attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:edit"],expression:"['tool:gen:edit']"}],attrs:{type:"text",size:"small",icon:"el-icon-refresh"},on:{click:function(a){return e.handleSynchDb(t.row)}}},[e._v("同步")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:code"],expression:"['tool:gen:code']"}],attrs:{type:"text",size:"small",icon:"el-icon-download"},on:{click:function(a){return e.handleGenTable(t.row)}}},[e._v("生成代码")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.preview.title,visible:e.preview.open,width:"80%",top:"5vh","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.preview,"open",t)}}},[a("el-tabs",{model:{value:e.preview.activeName,callback:function(t){e.$set(e.preview,"activeName",t)},expression:"preview.activeName"}},e._l(e.preview.data,(function(t,r){return a("el-tab-pane",{key:r,attrs:{label:r.substring(r.lastIndexOf("/")+1,r.indexOf(".vm")),name:r.substring(r.lastIndexOf("/")+1,r.indexOf(".vm"))}},[a("pre",[a("code",{staticClass:"hljs",domProps:{innerHTML:e._s(e.highlightedCode(t,r))}})])])})),1)],1),a("import-table",{ref:"import",on:{ok:e.handleQuery}})],1)},n=[],o=(a("d81d"),a("4b72")),l=a("6f72"),i=(a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("5319"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("bc3a")),s=a.n(i),c=a("5f87"),u={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"},m="http://beautyapi.weixinai.cn";function d(e,t){var a=m+e;s()({method:"get",url:a,responseType:"blob",headers:{Authorization:"Bearer "+Object(c["a"])()}}).then((function(e){p(e,u.zip)}))}function p(e,t){var a=document.createElement("a"),r=new Blob([e.data],{type:t}),n=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),o=decodeURI(e.headers["content-disposition"]),l=n.exec(o),i=l[1];i=i.replace(/\"/g,""),a.style.display="none",a.href=URL.createObjectURL(r),a.setAttribute("download",i),document.body.appendChild(a),a.click(),URL.revokeObjectURL(a.href),document.body.removeChild(a)}var f=a("a70e"),h=a.n(f);a("b11d");h.a.registerLanguage("java",a("332f")),h.a.registerLanguage("xml",a("8dcb")),h.a.registerLanguage("html",a("8dcb")),h.a.registerLanguage("vue",a("8dcb")),h.a.registerLanguage("javascript",a("4dd1")),h.a.registerLanguage("sql",a("de09"));var b={name:"Gen",components:{importTable:l["default"]},data:function(){return{loading:!0,uniqueId:"",ids:[],tableNames:[],single:!0,multiple:!0,showSearch:!0,total:0,tableList:[],dateRange:"",queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0},preview:{open:!1,title:"代码预览",data:{},activeName:"domain.java"}}},created:function(){this.getList()},activated:function(){var e=this.$route.query.t;null!=e&&e!=this.uniqueId&&(this.uniqueId=e,this.resetQuery())},methods:{getList:function(){var e=this;this.loading=!0,Object(o["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.tableList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},handleGenTable:function(e){var t=this,a=e.tableName||this.tableNames;""!=a?"1"===e.genType?Object(o["b"])(e.tableName).then((function(a){t.msgSuccess("成功生成到自定义路径："+e.genPath)})):d("/tool/gen/batchGenCode?tables="+a,"ruoyi"):this.msgError("请选择要生成的数据")},handleSynchDb:function(e){var t=this,a=e.tableName;this.$confirm('确认要强制同步"'+a+'"表结构吗？',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(a)})).then((function(){t.msgSuccess("同步成功")})).catch((function(){}))},openImportTable:function(){this.$refs.import.show()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handlePreview:function(e){var t=this;Object(o["g"])(e.tableId).then((function(e){t.preview.data=e.data,t.preview.open=!0}))},highlightedCode:function(e,t){var a=t.substring(t.lastIndexOf("/")+1,t.indexOf(".vm")),r=a.substring(a.indexOf(".")+1,a.length),n=h.a.highlight(r,e||"",!0);return n.value||"&nbsp;"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.tableId})),this.tableNames=e.map((function(e){return e.tableName})),this.single=1!=e.length,this.multiple=!e.length},handleEditTable:function(e){var t=e.tableId||this.ids[0];this.$router.push("/tool/gen-edit/index/"+t)},handleDelete:function(e){var t=this,a=e.tableId||this.ids;this.$confirm('是否确认删除表编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["a"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},g=b,v=a("2877"),y=Object(v["a"])(g,r,n,!1,null,null,null);t["default"]=y.exports},"839f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"订单id",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单id",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderId,callback:function(t){e.$set(e.queryParams,"orderId",t)},expression:"queryParams.orderId"}})],1),a("el-form-item",{attrs:{label:"消费类型1消费项目2消费产品",prop:"consumerType"}},[a("el-select",{attrs:{placeholder:"请选择消费类型1消费项目2消费产品",clearable:"",size:"small"},model:{value:e.queryParams.consumerType,callback:function(t){e.$set(e.queryParams,"consumerType",t)},expression:"queryParams.consumerType"}},[a("el-option",{attrs:{label:"请选择字典生成",value:""}})],1)],1),a("el-form-item",{attrs:{label:"消费产品ID类型为1就是消费项目ID类型为2就是消费产品ID",prop:"consumerId"}},[a("el-input",{attrs:{placeholder:"请输入消费产品ID类型为1就是消费项目ID类型为2就是消费产品ID",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.consumerId,callback:function(t){e.$set(e.queryParams,"consumerId",t)},expression:"queryParams.consumerId"}})],1),a("el-form-item",{attrs:{label:"单价",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入单价",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.price,callback:function(t){e.$set(e.queryParams,"price",t)},expression:"queryParams.price"}})],1),a("el-form-item",{attrs:{label:"数量",prop:"num"}},[a("el-input",{attrs:{placeholder:"请输入数量",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.num,callback:function(t){e.$set(e.queryParams,"num",t)},expression:"queryParams.num"}})],1),a("el-form-item",{attrs:{label:"划卡次数",prop:"cardNum"}},[a("el-input",{attrs:{placeholder:"请输入划卡次数",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.cardNum,callback:function(t){e.$set(e.queryParams,"cardNum",t)},expression:"queryParams.cardNum"}})],1),a("el-form-item",{attrs:{label:"技师A",prop:"consultant1"}},[a("el-input",{attrs:{placeholder:"请输入技师A",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.consultant1,callback:function(t){e.$set(e.queryParams,"consultant1",t)},expression:"queryParams.consultant1"}})],1),a("el-form-item",{attrs:{label:"技师A佣金",prop:"consultant1Amount"}},[a("el-input",{attrs:{placeholder:"请输入技师A佣金",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.consultant1Amount,callback:function(t){e.$set(e.queryParams,"consultant1Amount",t)},expression:"queryParams.consultant1Amount"}})],1),a("el-form-item",{attrs:{label:"技师B",prop:"consultant2"}},[a("el-input",{attrs:{placeholder:"请输入技师B",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.consultant2,callback:function(t){e.$set(e.queryParams,"consultant2",t)},expression:"queryParams.consultant2"}})],1),a("el-form-item",{attrs:{label:"技师B佣金",prop:"consultant2Amount"}},[a("el-input",{attrs:{placeholder:"请输入技师B佣金",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.consultant2Amount,callback:function(t){e.$set(e.queryParams,"consultant2Amount",t)},expression:"queryParams.consultant2Amount"}})],1),a("el-form-item",{attrs:{label:"技师C",prop:"consultant3"}},[a("el-input",{attrs:{placeholder:"请输入技师C",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.consultant3,callback:function(t){e.$set(e.queryParams,"consultant3",t)},expression:"queryParams.consultant3"}})],1),a("el-form-item",{attrs:{label:"技师C佣金",prop:"consultant3Amount"}},[a("el-input",{attrs:{placeholder:"请输入技师C佣金",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.consultant3Amount,callback:function(t){e.$set(e.queryParams,"consultant3Amount",t)},expression:"queryParams.consultant3Amount"}})],1),a("el-form-item",{attrs:{label:"最终金额",prop:"finalAmount"}},[a("el-input",{attrs:{placeholder:"请输入最终金额",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.finalAmount,callback:function(t){e.$set(e.queryParams,"finalAmount",t)},expression:"queryParams.finalAmount"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorderdetail:add"],expression:"['business:itemorderdetail:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorderdetail:edit"],expression:"['business:itemorderdetail:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorderdetail:remove"],expression:"['business:itemorderdetail:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorderdetail:export"],expression:"['business:itemorderdetail:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.itemorderdetailList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"id",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"订单id",align:"center",prop:"orderId"}}),a("el-table-column",{attrs:{label:"消费类型1消费项目2消费产品",align:"center",prop:"consumerType"}}),a("el-table-column",{attrs:{label:"消费产品ID类型为1就是消费项目ID类型为2就是消费产品ID",align:"center",prop:"consumerId"}}),a("el-table-column",{attrs:{label:"单价",align:"center",prop:"price"}}),a("el-table-column",{attrs:{label:"数量",align:"center",prop:"num"}}),a("el-table-column",{attrs:{label:"划卡次数",align:"center",prop:"cardNum"}}),a("el-table-column",{attrs:{label:"技师A",align:"center",prop:"consultant1"}}),a("el-table-column",{attrs:{label:"技师A佣金",align:"center",prop:"consultant1Amount"}}),a("el-table-column",{attrs:{label:"技师B",align:"center",prop:"consultant2"}}),a("el-table-column",{attrs:{label:"技师B佣金",align:"center",prop:"consultant2Amount"}}),a("el-table-column",{attrs:{label:"技师C",align:"center",prop:"consultant3"}}),a("el-table-column",{attrs:{label:"技师C佣金",align:"center",prop:"consultant3Amount"}}),a("el-table-column",{attrs:{label:"最终金额",align:"center",prop:"finalAmount"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorderdetail:edit"],expression:"['business:itemorderdetail:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:itemorderdetail:remove"],expression:"['business:itemorderdetail:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"订单id",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单id"},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1),a("el-form-item",{attrs:{label:"消费类型1消费项目2消费产品",prop:"consumerType"}},[a("el-select",{attrs:{placeholder:"请选择消费类型1消费项目2消费产品"},model:{value:e.form.consumerType,callback:function(t){e.$set(e.form,"consumerType",t)},expression:"form.consumerType"}},[a("el-option",{attrs:{label:"请选择字典生成",value:""}})],1)],1),a("el-form-item",{attrs:{label:"消费产品ID类型为1就是消费项目ID类型为2就是消费产品ID",prop:"consumerId"}},[a("el-input",{attrs:{placeholder:"请输入消费产品ID类型为1就是消费项目ID类型为2就是消费产品ID"},model:{value:e.form.consumerId,callback:function(t){e.$set(e.form,"consumerId",t)},expression:"form.consumerId"}})],1),a("el-form-item",{attrs:{label:"单价",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入单价"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"数量",prop:"num"}},[a("el-input",{attrs:{placeholder:"请输入数量"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1),a("el-form-item",{attrs:{label:"划卡次数",prop:"cardNum"}},[a("el-input",{attrs:{placeholder:"请输入划卡次数"},model:{value:e.form.cardNum,callback:function(t){e.$set(e.form,"cardNum",t)},expression:"form.cardNum"}})],1),a("el-form-item",{attrs:{label:"技师A",prop:"consultant1"}},[a("el-input",{attrs:{placeholder:"请输入技师A"},model:{value:e.form.consultant1,callback:function(t){e.$set(e.form,"consultant1",t)},expression:"form.consultant1"}})],1),a("el-form-item",{attrs:{label:"技师A佣金",prop:"consultant1Amount"}},[a("el-input",{attrs:{placeholder:"请输入技师A佣金"},model:{value:e.form.consultant1Amount,callback:function(t){e.$set(e.form,"consultant1Amount",t)},expression:"form.consultant1Amount"}})],1),a("el-form-item",{attrs:{label:"技师B",prop:"consultant2"}},[a("el-input",{attrs:{placeholder:"请输入技师B"},model:{value:e.form.consultant2,callback:function(t){e.$set(e.form,"consultant2",t)},expression:"form.consultant2"}})],1),a("el-form-item",{attrs:{label:"技师B佣金",prop:"consultant2Amount"}},[a("el-input",{attrs:{placeholder:"请输入技师B佣金"},model:{value:e.form.consultant2Amount,callback:function(t){e.$set(e.form,"consultant2Amount",t)},expression:"form.consultant2Amount"}})],1),a("el-form-item",{attrs:{label:"技师C",prop:"consultant3"}},[a("el-input",{attrs:{placeholder:"请输入技师C"},model:{value:e.form.consultant3,callback:function(t){e.$set(e.form,"consultant3",t)},expression:"form.consultant3"}})],1),a("el-form-item",{attrs:{label:"技师C佣金",prop:"consultant3Amount"}},[a("el-input",{attrs:{placeholder:"请输入技师C佣金"},model:{value:e.form.consultant3Amount,callback:function(t){e.$set(e.form,"consultant3Amount",t)},expression:"form.consultant3Amount"}})],1),a("el-form-item",{attrs:{label:"最终金额",prop:"finalAmount"}},[a("el-input",{attrs:{placeholder:"请输入最终金额"},model:{value:e.form.finalAmount,callback:function(t){e.$set(e.form,"finalAmount",t)},expression:"form.finalAmount"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/business/itemorderdetail/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/business/itemorderdetail/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/business/itemorderdetail",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/business/itemorderdetail",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/business/itemorderdetail/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/business/itemorderdetail/export",method:"get",params:e})}var d={name:"Itemorderdetail",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,itemorderdetailList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,orderId:null,consumerType:null,consumerId:null,price:null,num:null,cardNum:null,consultant1:null,consultant1Amount:null,consultant2:null,consultant2Amount:null,consultant3:null,consultant3Amount:null,finalAmount:null},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.itemorderdetailList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,orderId:null,consumerType:null,consumerId:null,price:null,num:null,cardNum:null,consultant1:null,consultant1Amount:null,consultant2:null,consultant2Amount:null,consultant3:null,consultant3Amount:null,finalAmount:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加项目订单详情"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改项目订单详情"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除项目订单详情编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有项目订单详情数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},8586:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"genInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tplCategory"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("生成模板")]),a("el-select",{on:{change:e.tplSelectChange},model:{value:e.info.tplCategory,callback:function(t){e.$set(e.info,"tplCategory",t)},expression:"info.tplCategory"}},[a("el-option",{attrs:{label:"单表（增删改查）",value:"crud"}}),a("el-option",{attrs:{label:"树表（增删改查）",value:"tree"}}),a("el-option",{attrs:{label:"主子表（增删改查）",value:"sub"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"packageName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成包路径 "),a("el-tooltip",{attrs:{content:"生成在哪个java包下，例如 com.ruoyi.system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.packageName,callback:function(t){e.$set(e.info,"packageName",t)},expression:"info.packageName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"moduleName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成模块名 "),a("el-tooltip",{attrs:{content:"可理解为子系统名，例如 system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.moduleName,callback:function(t){e.$set(e.info,"moduleName",t)},expression:"info.moduleName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"businessName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成业务名 "),a("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.businessName,callback:function(t){e.$set(e.info,"businessName",t)},expression:"info.businessName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"functionName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成功能名 "),a("el-tooltip",{attrs:{content:"用作类描述，例如 用户",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.functionName,callback:function(t){e.$set(e.info,"functionName",t)},expression:"info.functionName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 上级菜单 "),a("el-tooltip",{attrs:{content:"分配到指定菜单下，例如 系统管理",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("treeselect",{attrs:{"append-to-body":!0,"close-on-click-modal":!1,options:e.menus,normalizer:e.normalizer,"show-count":!0,placeholder:"请选择系统菜单"},model:{value:e.info.parentMenuId,callback:function(t){e.$set(e.info,"parentMenuId",t)},expression:"info.parentMenuId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"genType"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成代码方式 "),a("el-tooltip",{attrs:{content:"默认为zip压缩包下载，也可以自定义生成路径",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-radio",{attrs:{label:"0"},model:{value:e.info.genType,callback:function(t){e.$set(e.info,"genType",t)},expression:"info.genType"}},[e._v("zip压缩包")]),a("el-radio",{attrs:{label:"1"},model:{value:e.info.genType,callback:function(t){e.$set(e.info,"genType",t)},expression:"info.genType"}},[e._v("自定义路径")])],1)],1),"1"==e.info.genType?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"genPath"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 自定义路径 "),a("el-tooltip",{attrs:{content:"填写磁盘绝对路径，若不填写，则生成到当前Web项目下",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.genPath,callback:function(t){e.$set(e.info,"genPath",t)},expression:"info.genPath"}},[a("el-dropdown",{attrs:{slot:"append"},slot:"append"},[a("el-button",{attrs:{type:"primary"}},[e._v(" 最近路径快速选择 "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){e.info.genPath="/"}}},[e._v("恢复默认的生成基础路径")])],1)],1)],1)],1)],1):e._e()],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.info.tplCategory,expression:"info.tplCategory == 'tree'"}]},[a("h4",{staticClass:"form-header"},[e._v("其他信息")]),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树编码字段 "),a("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeCode,callback:function(t){e.$set(e.info,"treeCode",t)},expression:"info.treeCode"}},e._l(e.info.columns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树父编码字段 "),a("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeParentCode,callback:function(t){e.$set(e.info,"treeParentCode",t)},expression:"info.treeParentCode"}},e._l(e.info.columns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树名称字段 "),a("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeName,callback:function(t){e.$set(e.info,"treeName",t)},expression:"info.treeName"}},e._l(e.info.columns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"sub"==e.info.tplCategory,expression:"info.tplCategory == 'sub'"}]},[a("h4",{staticClass:"form-header"},[e._v("关联信息")]),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 关联子表的表名 "),a("el-tooltip",{attrs:{content:"关联子表的表名， 如：sys_user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.subSelectChange},model:{value:e.info.subTableName,callback:function(t){e.$set(e.info,"subTableName",t)},expression:"info.subTableName"}},e._l(e.tables,(function(e,t){return a("el-option",{key:t,attrs:{label:e.tableName+"："+e.tableComment,value:e.tableName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 子表关联的外键名 "),a("el-tooltip",{attrs:{content:"子表关联的外键名， 如：user_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.subTableFkName,callback:function(t){e.$set(e.info,"subTableFkName",t)},expression:"info.subTableFkName"}},e._l(e.subColumns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1)],1)},n=[],o=a("ca17"),l=a.n(o),i=(a("542c"),{name:"BasicInfoForm",components:{Treeselect:l.a},props:{info:{type:Object,default:null},tables:{type:Array,default:null},menus:{type:Array,default:[]}},data:function(){return{subColumns:[],rules:{tplCategory:[{required:!0,message:"请选择生成模板",trigger:"blur"}],packageName:[{required:!0,message:"请输入生成包路径",trigger:"blur"}],moduleName:[{required:!0,message:"请输入生成模块名",trigger:"blur"}],businessName:[{required:!0,message:"请输入生成业务名",trigger:"blur"}],functionName:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},created:function(){},watch:{"info.subTableName":function(e){this.setSubTableColumns(e)}},methods:{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.menuName,children:e.children}},subSelectChange:function(e){this.info.subTableFkName=""},tplSelectChange:function(e){"sub"!==e&&(this.info.subTableName="",this.info.subTableFkName="")},setSubTableColumns:function(e){for(var t in this.tables){var a=this.tables[t].tableName;if(e===a){this.subColumns=this.tables[t].columns;break}}}}}),s=i,c=a("2877"),u=Object(c["a"])(s,r,n,!1,null,null,null);t["default"]=u.exports},"8c64":function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"h",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return m}));var r=a("b775");function n(e){return Object(r["a"])({url:"/shop/item/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/shop/item/getAllItemList",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/shop/item/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/shop/item",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/shop/item",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/shop/item/off/"+e,method:"get"})}function u(e){return Object(r["a"])({url:"/shop/item/"+e,method:"delete"})}function m(e){return Object(r["a"])({url:"/shop/item/export",method:"get",params:e})}},"90cc":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户账号",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户账号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),a("el-form-item",{attrs:{label:"帐号状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择帐号状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},[a("el-option",{attrs:{label:"正常",value:"0"}}),a("el-option",{attrs:{label:"停用",value:"1"}})],1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangeCreateTime,callback:function(t){e.daterangeCreateTime=t},expression:"daterangeCreateTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList,border:"",type:"index"}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"用户昵称",align:"center",prop:"nickName"}}),a("el-table-column",{attrs:{label:"绑定号码",align:"center",prop:"phonenumber"}}),a("el-table-column",{attrs:{label:"用户状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0==t.row.status?"正常":"冻结")+" ")]}}])}),a("el-table-column",{attrs:{label:"绑定号码",align:"center",prop:"userType"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("02"===t.row.userType?"线上":"线下")+" ")]}}])}),a("el-table-column",{attrs:{label:"注册时间",align:"center",prop:"createTime",width:"180"}}),a("el-table-column",{attrs:{label:"充值金额",align:"center",prop:"rechargeAmount"}}),a("el-table-column",{attrs:{label:"可提现金额",align:"center",prop:"incomeAmount"}}),a("el-table-column",{attrs:{label:"账户余额",align:"center",prop:"accountAmount"}}),a("el-table-column",{attrs:{label:"产品账户余额",align:"center",prop:"productBalance"}}),a("el-table-column",{attrs:{label:"VIP等级",align:"center",prop:"vipLevel"}}),a("el-table-column",{attrs:{label:"是否推广用户",align:"center",prop:"inviteFlag"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("Y"==t.row.inviteFlag?"是":"否")+" ")]}}])}),a("el-table-column",{attrs:{label:"产品账户",align:"center",prop:"productAccount"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("1"===t.row.productAccount?"开通":"未开通")+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:"/user/userdetail?userId="+t.row.userId}},[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-search"}},[e._v("详情")])],1),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-s-promotion"},on:{click:function(a){return e.handleRecharge(t.row)}}},[e._v("充值")]),"0"===t.row.productAccount?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.handleOpenProductAccount(t.row)}}},[e._v("开通")]):e._e(),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-setting"},on:{click:function(a){return e.handleSetInvite(t.row)}}},[e._v(e._s("Y"==t.row.inviteFlag?"取消推广用户":"设置为推广用户"))]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-medal-1"},on:{click:function(a){return e.handleSetVipLevel(t.row)}}},[e._v("设置VIP等级")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-setting"},on:{click:function(a){return e.handleSetInfo(t.row)}}},[e._v("设置昵称")]),a("router-link",{staticClass:"link-type",attrs:{to:"/finance/recharge?userId="+t.row.userId}},[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-s-unfold"}},[e._v("充值记录")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),a("el-form-item",{attrs:{label:"用户备注",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户备注"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),a("el-form-item",{attrs:{label:"绑定号码",prop:"phonenumber"}},[a("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.form.phonenumber,callback:function(t){e.$set(e.form,"phonenumber",t)},expression:"form.phonenumber"}})],1),a("el-form-item",{attrs:{label:"帐号状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"帐号状态",clearable:"",filterable:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{value:"0",label:"正常"}}),a("el-option",{attrs:{value:"1",label:"冻结"}})],1)],1),a("el-form-item",{attrs:{label:"产品账户",prop:"productAccount"}},[a("el-select",{attrs:{placeholder:"产品账户",clearable:"",filterable:""},model:{value:e.form.productAccount,callback:function(t){e.$set(e.form,"productAccount",t)},expression:"form.productAccount"}},[a("el-option",{attrs:{value:"1",label:"开通"}}),a("el-option",{attrs:{value:"0",label:"不开通"}})],1)],1),a("el-form-item",{attrs:{label:"所属门店",prop:"sourceShop"}},[a("el-select",{attrs:{placeholder:"所属门店",disabled:!e.isAdmin,clearable:"",filterable:""},model:{value:e.form.sourceShop,callback:function(t){e.$set(e.form,"sourceShop",t)},expression:"form.sourceShop"}},e._l(e.shopinfoList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.shopName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"引流技师",prop:"referrerUserId"}},[a("el-select",{attrs:{placeholder:"请选择引流技师",clearable:"",filterable:""},model:{value:e.form.referrerUserId,callback:function(t){e.$set(e.form,"referrerUserId",t)},expression:"form.referrerUserId"}},e._l(e.consultantUserList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.openRecharge,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openRecharge=t}}},[a("el-form",{ref:"form2",attrs:{model:e.form2,rules:e.rules2,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"充值账户",prop:"rechargeType"}},[a("el-select",{attrs:{placeholder:"请选择充值账户"},model:{value:e.form2.rechargeType,callback:function(t){e.$set(e.form2,"rechargeType",t)},expression:"form2.rechargeType"}},[a("el-option",{attrs:{label:"基本账户",value:"0"}}),a("el-option",{attrs:{label:"产品账户",value:"1"}})],1)],1),a("el-form-item",{attrs:{label:"充值类型",prop:"paymentType"}},[a("el-select",{attrs:{placeholder:"请选择充值账户"},model:{value:e.form2.paymentType,callback:function(t){e.$set(e.form2,"paymentType",t)},expression:"form2.paymentType"}},e._l(e.paymentTypeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"充值金额",prop:"rechargeAmount"}},[a("el-input-number",{attrs:{step:1,placeholder:"请输入充值金额","controls-position":"right"},model:{value:e.form2.rechargeAmount,callback:function(t){e.$set(e.form2,"rechargeAmount",t)},expression:"form2.rechargeAmount"}})],1),a("el-form-item",{attrs:{label:"备注信息",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.form2.remark,callback:function(t){e.$set(e.form2,"remark",t)},expression:"form2.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm2}},[e._v("充 值")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"设置VIP等级",visible:e.openSetVipLevel,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openSetVipLevel=t}}},[a("el-form",{ref:"form3",attrs:{model:e.form3,rules:e.rules3,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"userName"}},[a("strong",[e._v(e._s(e.form3.userName))])]),a("el-form-item",{attrs:{label:"VIP等级",prop:"vipLevel"}},[a("el-select",{attrs:{placeholder:"请选择VIP等级"},model:{value:e.form3.vipLevel,callback:function(t){e.$set(e.form3,"vipLevel",t)},expression:"form3.vipLevel"}},[a("el-option",{key:"0",attrs:{label:"无",value:"0"}}),e._l(e.vipInfoList,(function(e){return a("el-option",{key:e.vipLevel+"",attrs:{label:e.vipName,value:e.vipLevel}})}))],2)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm3}},[e._v("保 存")]),a("el-button",{on:{click:e.cancel3}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"设置用户昵称",visible:e.setUserInfoFlag,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.setUserInfoFlag=t}}},[a("el-form",{ref:"form4",attrs:{model:e.form4,rules:e.rules4,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户姓名"}},[a("strong",[e._v(e._s(e.form4.userName))])]),a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form4.nickName,callback:function(t){e.$set(e.form4,"nickName",t)},expression:"form4.nickName"}})],1),a("el-form-item",{attrs:{label:"用户备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.form4.remark,callback:function(t){e.$set(e.form4,"remark",t)},expression:"form4.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm4}},[e._v("保 存")]),a("el-button",{on:{click:e.cancel4}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("7db0"),a("d3b7"),a("c0c7")),l=a("a43e"),i=a("0e04"),s=a("3986"),c={name:"User",data:function(){return{openRecharge:!1,openSetVipLevel:!1,setUserInfoFlag:!1,isAdmin:!1,paymentTypeOptions:[],shopinfoList:[],consultantUserList:[],vipInfoList:[],loginUser:{},loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,userList:[],title:"",open:!1,daterangeCreateTime:[],queryParams:{pageNum:1,pageSize:10,userName:null,phonenumber:null,status:null,createTime:null},form2:{},form3:{},form4:{},form:{},rules:{userName:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],phonenumber:[{required:!0,message:"绑定号码不能为空",trigger:"blur"}],status:[{required:!0,message:"账号状态不能为空",trigger:"blur"}],productAccount:[{required:!0,message:"产品账户不能为空",trigger:"blur"}],sourceShop:[{required:!0,message:"所属门店不能为空",trigger:"blur"}]},rules2:{rechargeType:[{required:!0,message:"请选择充值账户",trigger:"blur"}],paymentType:[{required:!0,message:"请选择充值类型",trigger:"blur"}],rechargeAmount:[{required:!0,message:"请输入充值金额",trigger:"blur"}],remark:[{required:!0,message:"请输入备注信息",trigger:"blur"}]},rules4:{nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),Object(o["k"])().then((function(t){e.loginUser=t.data})),Object(s["d"])().then((function(t){e.vipInfoList=t.data})),Object(i["f"])({}).then((function(t){e.shopinfoList=t.rows})),this.getDicts("sys_recharge_payment_type").then((function(t){e.paymentTypeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,this.queryParams.params={},null!=this.daterangeCreateTime&&""!=this.daterangeCreateTime&&(this.queryParams.params["beginCreateTime"]=this.daterangeCreateTime[0],this.queryParams.params["endCreateTime"]=this.daterangeCreateTime[1]),this.queryParams.userTypes="01,02",Object(o["n"])(this.queryParams).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.openRecharge=!1,this.reset()},cancel3:function(){this.openSetVipLevel=!1,this.resetForm("form3"),this.resetForm("form4")},cancel4:function(){this.setUserInfoFlag=!1,this.resetForm("form4")},reset:function(){this.form={userId:null,deptId:null,weixinOpenId:null,userName:null,nickName:null,userType:null,userTypes:null,email:null,phonenumber:null,sex:null,avatar:null,password:null,vipLevel:null,status:"0",delFlag:null,loginIp:null,loginDate:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,referrerUserId:null,productAccount:null,productBalance:null,rechargeType:null},this.resetForm("form"),this.form2={remark:null,userId:null,paymentType:null,productAccount:null,rechargeAmount:null},this.resetForm("form2")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangeCreateTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){var e=this;if(this.reset(),this.open=!0,this.title="添加客户信息",null!=this.loginUser.roles&&this.loginUser.roles.length>0){var t=this.loginUser.roles.find((function(e){return"admin"===e.roleKey}));void 0!==t?this.isAdmin=!0:this.form.sourceShop=this.loginUser.sourceShop}this.isAdmin?Object(o["f"])().then((function(t){e.consultantUserList=t.data})):Object(o["h"])(this.loginUser.sourceShop,null).then((function(t){e.consultantUserList=t.data}))},handleUpdate:function(e){var t=this;this.reset();var a=e.userId||this.ids;Object(l["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改用户信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.userId?Object(o["t"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):(e.form.userType="01",e.form.password="123456",Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()}))))}))},handleDelete:function(e){var t=this,a=e.userName;this.$confirm('您确认冻结名为"'+a+'"的用户吗?',"警告",{confirmButtonText:"冻结",cancelButtonText:"取消",type:"warning"}).then((function(){return delUser(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleRecharge:function(e){this.openRecharge=!0,this.title="账户充值",this.form.remark=null,this.form2={remark:null,userId:e.userId,rechargeType:"0",productAccount:null,rechargeAmount:null}},submitForm2:function(){var e=this;this.$refs["form2"].validate((function(t){t&&Object(o["q"])(e.form2).then((function(t){e.openRecharge=!1,e.msgSuccess("操作成功"),e.getList()}))}))},submitForm3:function(){var e=this;this.$refs["form3"].validate((function(t){t&&Object(o["r"])(e.form3).then((function(t){e.openSetVipLevel=!1,e.msgSuccess("操作成功"),e.getList()}))}))},submitForm4:function(){var e=this;this.$refs["form4"].validate((function(t){t&&Object(o["t"])(e.form4).then((function(t){e.setUserInfoFlag=!1,e.msgSuccess("操作成功"),e.getList()}))}))},handleOpenProductAccount:function(e){var t=this;Object(o["o"])(e.userId).then((function(e){t.msgSuccess("操作成功"),t.getList()}))},handleSetInvite:function(e){var t=this,a=e.userName;this.$confirm('您确认设置名为"'+a+'"的用户为推广用户吗?',"警告",{confirmButtonText:"设置",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["e"])(e.userId)})).then((function(){t.getList(),t.msgSuccess("设置成功")})).catch((function(){}))},handleSetVipLevel:function(e){var t=this;this.openSetVipLevel=!0,Object(l["d"])(e.userId).then((function(e){t.form3=e.data}))},handleSetInfo:function(e){var t=this;this.setUserInfoFlag=!0,Object(l["d"])(e.userId).then((function(e){t.form4=e.data}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户信息数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,exportUser(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},u=c,m=a("2877"),d=Object(m["a"])(u,r,n,!1,null,null,null);t["default"]=d.exports},9429:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"user-info-head",on:{click:function(t){return e.editCropper()}}},[a("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"}})]),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t},opened:e.modalOpened,close:function(t){return e.closeDialog()}}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[e.visible?a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox},on:{realTime:e.realTime}}):e._e()],1),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),a("br"),a("el-row",[a("el-col",{attrs:{lg:2,md:2}},[a("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[e._v(" 选择 "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),a("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),a("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},n=[],o=a("4360"),l=a("7e79"),i=a("c0c7"),s={components:{VueCropper:l["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,visible:!1,title:"修改头像",options:{img:o["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0},modalOpened:function(){this.visible=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1==e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t.options.img=a.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var a=new FormData;a.append("avatarfile",t),Object(i["w"])(a).then((function(t){e.open=!1,e.options.img=t.imgUrl,o["a"].commit("SET_AVATAR",e.options.img),e.msgSuccess("修改成功"),e.visible=!1}))}))},realTime:function(e){this.previews=e},closeDialog:function(){this.options.img=o["a"].getters.avatar,this.visible=!1}}},c=s,u=(a("4222"),a("2877")),m=Object(u["a"])(c,r,n,!1,null,"b48659ea",null);t["default"]=m.exports},9488:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],o=a("313e"),l=a.n(o),i=a("feb2");a("817d");var s=6e3,c={mixins:[i["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=l.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:s},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:s},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:s}]})}}},u=c,m=a("2877"),d=Object(m["a"])(u,r,n,!1,null,null,null);t["default"]=d.exports},"9b5e":function(e,t,a){"use strict";a("5c54")},"9b8f":function(e,t,a){"use strict";a.r(t);a("ac1f"),a("5319");var r,n,o={created:function(){var e=this.$route,t=e.params,a=e.query,r=t.path;this.$router.replace({path:"/"+r,query:a})},render:function(e){return e()}},l=o,i=a("2877"),s=Object(i["a"])(l,r,n,!1,null,null,null);t["default"]=s.exports},a159:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"h",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"g",(function(){return m}));var r=a("b775");function n(e){return Object(r["a"])({url:"/monitor/job/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/monitor/job/"+e,method:"get"})}function l(e){return Object(r["a"])({url:"/monitor/job",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/monitor/job",method:"put",data:e})}function s(e){return Object(r["a"])({url:"/monitor/job/"+e,method:"delete"})}function c(e){return Object(r["a"])({url:"/monitor/job/export",method:"get",params:e})}function u(e,t){var a={jobId:e,status:t};return Object(r["a"])({url:"/monitor/job/changeStatus",method:"put",data:a})}function m(e,t){var a={jobId:e,jobGroup:t};return Object(r["a"])({url:"/monitor/job/run",method:"put",data:a})}},a17e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择用户",visible:e.visible,width:"800px",top:"5vh","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.userList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"用户名称",prop:"userName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"用户昵称",prop:"nickName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"手机",prop:"phonenumber","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.statusOptions,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSelectUser}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},n=[],o=(a("a9e3"),a("d81d"),a("a15b"),a("3528")),l={props:{roleId:{type:Number}},data:function(){return{visible:!1,userIds:[],total:0,userList:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,roleId:void 0,userName:void 0,phonenumber:void 0}}},created:function(){var e=this;this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{show:function(){this.queryParams.roleId=this.roleId,this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.userIds=e.map((function(e){return e.userId}))},getList:function(){var e=this;Object(o["l"])(this.queryParams).then((function(t){e.userList=t.rows,e.total=t.total}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectUser:function(){var e=this,t=this.queryParams.roleId,a=this.userIds.join(",");Object(o["e"])({roleId:t,userIds:a}).then((function(t){e.msgSuccess(t.msg),200===t.code&&(e.visible=!1,e.$emit("ok"))}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a43e:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return u}));var r=a("b775");function n(e){return Object(r["a"])({url:"/system/user/getInfo/"+e,method:"get"})}function o(e){return Object(r["a"])({url:"/baseconfig/user",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/baseconfig/user",method:"put",data:e})}function i(e){return Object(r["a"])({url:"/system/user/updateUserConsultantRank",method:"put",data:e})}function s(e){return Object(r["a"])({url:"/baseconfig/user/"+e,method:"delete"})}function c(e){return Object(r["a"])({url:"/baseconfig/user/export",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/system/user/setInviteUser/"+e,method:"get"})}},a580:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("el-descriptions",{staticClass:"margin-top",attrs:{column:2,border:""}},[a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 用户头像 ")]),a("img",{attrs:{src:e.userInfo.avatar}})],2),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-user"}),e._v(" 用户ID ")]),e._v(" "+e._s(e.userInfo.userId)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 用户名称 ")]),e._v(" "+e._s(e.userInfo.userName)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 用户昵称 ")]),e._v(" "+e._s(e.userInfo.nickName)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 绑定号码 ")]),e._v(" "+e._s(e.userInfo.phonenumber||"暂无")+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 注册日期 ")]),e._v(" "+e._s(e.userInfo.createTime)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 最后登录时间 ")]),e._v(" "+e._s(e.userInfo.loginDate||"暂无")+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 账户余额 ")]),e._v(" "+e._s(e.userInfo.accountAmount)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 用户状态 ")]),e._v(" "+e._s(0==e.userInfo.status?"正常":1==e.userInfo.status?"冻结":"异常")+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 用户备注 ")]),e._v(" "+e._s(e.userInfo.remark)+" ")],2)],1)],1)])],1),a("h3",[e._v("邮寄地址")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.addressInfo,height:e.addressInfoHeight}},[a("el-table-column",{attrs:{label:"姓名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"电话",align:"center",prop:"phone"}}),a("el-table-column",{attrs:{label:"地址",align:"center",prop:"address"}}),a("el-table-column",{attrs:{label:"是否默认",align:"center",prop:"defaultAddress"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#1890FF"}},[e._v(e._s(1==t.row.defaultAddress?"默认地址":"否"))])]}}])})],1),a("h3",[e._v("订单信息")]),a("el-table",{attrs:{data:e.orderList}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"userId"}}),a("el-table-column",{attrs:{label:"购买用户",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"下单时间",align:"center",prop:"orderTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.orderTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"消费类型",align:"center",prop:"consumeType",formatter:e.consumeTypeFormat}}),a("el-table-column",{attrs:{label:"订单类型",align:"center",prop:"orderType",formatter:e.orderTypeFormat}}),a("el-table-column",{attrs:{label:"订单金额",align:"center",prop:"orderAmount"}}),a("el-table-column",{attrs:{label:"运费",align:"center",prop:"freightAmount"}}),a("el-table-column",{attrs:{label:"总金额",align:"center",prop:"sumAmount"}}),a("el-table-column",{attrs:{label:"支付时间",align:"center",prop:"payTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.payTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"orderStatus",formatter:e.orderStatusFormat}}),a("el-table-column",{attrs:{label:"物流单号",align:"center",prop:"logisticsCode"}}),a("el-table-column",{attrs:{label:"物流类型",align:"center",prop:"logisticsType"}}),a("el-table-column",{attrs:{label:"收货人姓名",align:"center",prop:"takeUser"}}),a("el-table-column",{attrs:{label:"收货人手机号",align:"center",prop:"takePhone"}}),a("el-table-column",{attrs:{label:"收货人地址",align:"center",prop:"takeAddress"}})],1),a("h3",[e._v("线下项目订单信息")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.itemorderList}},[a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"门店",align:"center",prop:"shopName"}}),a("el-table-column",{attrs:{label:"购买用户",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"绑定号码",align:"center",prop:"userPhone"}}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"下单时间",align:"center",prop:"orderTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.orderTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"总金额",align:"center",prop:"sumAmount"}}),a("el-table-column",{attrs:{label:"余额支付",align:"center",prop:"payment1"}}),a("el-table-column",{attrs:{label:"产品账户支付",align:"center",prop:"payment2"}}),a("el-table-column",{attrs:{label:"现金支付",align:"center",prop:"payment3"}}),a("el-table-column",{attrs:{label:"银行卡支付",align:"center",prop:"payment4"}}),a("el-table-column",{attrs:{label:"挂账支付",align:"center",prop:"payment5"}}),a("el-table-column",{attrs:{label:"免费支付",align:"center",prop:"payment6"}}),a("el-table-column",{attrs:{label:"微信支付",align:"center",prop:"payment7"}}),a("el-table-column",{attrs:{label:"支付宝支付",align:"center",prop:"payment8"}}),a("el-table-column",{attrs:{label:"支付时间",align:"center",prop:"payTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.payTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"orderStatus",formatter:e.orderStatusFormat}}),a("el-table-column",{attrs:{label:"备注信息",align:"center",prop:"remark"}})],1)],1)},n=[],o=(a("d81d"),a("a43e")),l=a("ed08"),i={name:"userdetail",data:function(){return{consumeTypeOptions:[],orderTypeOptions:[],payTypeOptions:[],orderStatusOptions:[],activeName:"first",userInfo:{},examInfo:[],addressInfo:[],loading:!0,addressInfoHeight:void 0,examInfoHeight:void 0,bashPath:"http://beautyapi.weixinai.cn",exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,orderList:[],itemorderList:[],comboList:[],browerList:[],searchList:[],statusOptions:[],title:"",open:!1,daterangeCreateTime:[],queryParams:{pageNum:1,pageSize:10,userName:null,phonenumber:null,status:null,createTime:null},form:{},rules:{userName:[{required:!0,message:"用户账号不能为空",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}]}}},computed:{},created:function(){var e=this,t=this.$route.query&&this.$route.query.userId;t&&Object(l["e"])(t)&&(this.loading=!0,Object(o["d"])(t).then((function(t){200==t.code&&(e.userInfo=t.data,e.itemorderList=t.orderItemInfos,e.orderList=t.orderInfos,e.addressInfo=t.addressInfo,e.addressInfo.length>6&&(e.addressInfo.height=300),e.loading=!1)}))),this.getDicts("sys_order_status").then((function(t){e.orderStatusOptions=t.data})),this.getDicts("sys_order_type").then((function(t){e.orderTypeOptions=t.data})),this.getDicts("order_info_consume_type").then((function(t){e.consumeTypeOptions=t.data})),this.getDicts("order_info_pay_type").then((function(t){e.payTypeOptions=t.data})),this.getDicts("sys_order_status").then((function(t){e.statusOptions=t.data}))},methods:{consumeTypeFormat:function(e,t){return this.selectDictLabel(this.consumeTypeOptions,e.consumeType)},orderTypeFormat:function(e,t){return this.selectDictLabel(this.orderTypeOptions,e.orderType)},payTypeFormat:function(e,t){return this.selectDictLabel(this.payTypeOptions,e.payType)},orderStatusFormat:function(e,t){return this.selectDictLabel(this.orderStatusOptions,e.orderStatus)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={userId:null,deptId:null,weixinOpenId:null,userName:null,nickName:null,userType:null,email:null,phonenumber:null,sex:null,avatar:null,password:null,vipLevel:null,status:"0",delFlag:null,loginIp:null,loginDate:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangeCreateTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!==e.length,this.multiple=!e.length},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},handleAdd:function(){this.reset(),this.open=!0,this.title="添加用户信息"},handleUpdate:function(e){var t=this;this.reset();var a=e.userId||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改用户信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.userId?Object(o["f"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.userId||this.ids;this.$confirm('是否确认删除用户信息编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户信息数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},s=i,c=a("2877"),u=Object(c["a"])(s,r,n,!1,null,null,null);t["default"]=u.exports},a6dc:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return u}));var r=a("b775");function n(e){return Object(r["a"])({url:"/system/menu/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/system/menu/"+e,method:"get"})}function l(){return Object(r["a"])({url:"/system/menu/treeselect",method:"get"})}function i(e){return Object(r["a"])({url:"/system/menu/roleMenuTreeselect/"+e,method:"get"})}function s(e){return Object(r["a"])({url:"/system/menu",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/system/menu",method:"put",data:e})}function u(e){return Object(r["a"])({url:"/system/menu/"+e,method:"delete"})}},a85b:function(e,t,a){"use strict";a("d3b7"),a("159b"),a("e9c4"),a("b64b");var r=a("ed08"),n=Object(r["f"])("accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,name,contenteditable,contextmenu,controls,coords,data,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,form,formaction,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrap");function o(e,t,a){t.props.value=a,t.on.input=function(t){e.$emit("input",t)}}var l={"el-button":{default:function(e,t,a){return t[a]}},"el-input":{prepend:function(e,t,a){return e("template",{slot:"prepend"},[t[a]])},append:function(e,t,a){return e("template",{slot:"append"},[t[a]])}},"el-select":{options:function(e,t,a){var r=[];return t.options.forEach((function(t){r.push(e("el-option",{attrs:{label:t.label,value:t.value,disabled:t.disabled}}))})),r}},"el-radio-group":{options:function(e,t,a){var r=[];return t.options.forEach((function(a){"button"===t.optionType?r.push(e("el-radio-button",{attrs:{label:a.value}},[a.label])):r.push(e("el-radio",{attrs:{label:a.value,border:t.border}},[a.label]))})),r}},"el-checkbox-group":{options:function(e,t,a){var r=[];return t.options.forEach((function(a){"button"===t.optionType?r.push(e("el-checkbox-button",{attrs:{label:a.value}},[a.label])):r.push(e("el-checkbox",{attrs:{label:a.value,border:t.border}},[a.label]))})),r}},"el-upload":{"list-type":function(e,t,a){var r=[];return"picture-card"===t["list-type"]?r.push(e("i",{class:"el-icon-plus"})):r.push(e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[t.buttonText])),t.showTip&&r.push(e("div",{slot:"tip",class:"el-upload__tip"},["只能上传不超过 ",t.fileSize,t.sizeUnit," 的",t.accept,"文件"])),r}}};t["a"]={render:function(e){var t=this,a={attrs:{},props:{},on:{},style:{}},r=JSON.parse(JSON.stringify(this.conf)),i=[],s=l[r.tag];return s&&Object.keys(s).forEach((function(t){var a=s[t];r[t]&&i.push(a(e,r,t))})),Object.keys(r).forEach((function(e){var l=r[e];"vModel"===e?o(t,a,r.defaultValue):a[e]?a[e]=l:n(e)?a.attrs[e]=l:a.props[e]=l})),e(this.conf.tag,a,i)},props:["conf"]}},a92a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v('="false" v-on="$listeners" @open="onOpen" @close="onClose" > '),a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"生成类型",prop:"type"}},[a("el-radio-group",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeOptions,(function(t,r){return a("el-radio-button",{key:r,attrs:{label:t.value,disabled:t.disabled}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),e.showFileName?a("el-form-item",{attrs:{label:"文件名",prop:"fileName"}},[a("el-input",{attrs:{placeholder:"请输入文件名",clearable:""},model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}})],1):e._e()],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v(" 确定 ")])],1)],1)},n=[],o=a("5530"),l={inheritAttrs:!1,props:["showFileName"],data:function(){return{formData:{fileName:void 0,type:"file"},rules:{fileName:[{required:!0,message:"请输入文件名",trigger:"blur"}],type:[{required:!0,message:"生成类型不能为空",trigger:"change"}]},typeOptions:[{label:"页面",value:"file"},{label:"弹窗",value:"dialog"}]}},computed:{},watch:{},mounted:function(){},methods:{onOpen:function(){this.showFileName&&(this.formData.fileName="".concat(+new Date,".vue"))},onClose:function(){},close:function(e){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&(e.$emit("confirm",Object(o["a"])({},e.formData)),e.close())}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},af03b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"提现人姓名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入提现人姓名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"申请时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangeApplyTime,callback:function(t){e.daterangeApplyTime=t},expression:"daterangeApplyTime"}})],1),a("el-form-item",{attrs:{label:"申请状态",prop:"applyStatus"}},[a("el-select",{attrs:{placeholder:"请选择申请状态",clearable:"",size:"small"},model:{value:e.queryParams.applyStatus,callback:function(t){e.$set(e.queryParams,"applyStatus",t)},expression:"queryParams.applyStatus"}},e._l(e.applyStatusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:withdraw:export"],expression:"['finance:withdraw:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:4}},[a("strong",[e._v("合计金额："+e._s(e.totalAmount)+" 元")])]),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.withdrawList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"提现人姓名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"账户金额",align:"center",prop:"accountAmount"}}),a("el-table-column",{attrs:{label:"提现金额",align:"center",prop:"withdrawAmount"}}),a("el-table-column",{attrs:{label:"申请时间",align:"center",prop:"applyTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.applyTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"申请状态",align:"center",prop:"applyStatus",formatter:e.applyStatusFormat}}),a("el-table-column",{attrs:{label:"审核人",align:"center",prop:"approveUser"}}),a("el-table-column",{attrs:{label:"审核时间",align:"center",prop:"approveTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.approveTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"拒绝原因",align:"center",prop:"backReason"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"01"===t.row.applyStatus,expression:"scope.row.applyStatus==='01'"},{name:"hasPermi",rawName:"v-hasPermi",value:["finance:withdraw:edit"],expression:"['finance:withdraw:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("审核")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"02"===t.row.applyStatus,expression:"scope.row.applyStatus==='02'"}],attrs:{size:"mini",type:"text",icon:"el-icon-success"},on:{click:function(a){return e.handlePayment(t.row,1)}}},[e._v("打款")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"650px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"提现人姓名"}},[e._v(" "+e._s(e.form.userName)+" ")]),a("el-form-item",{attrs:{label:"提现金额"}},[e._v(" "+e._s(e.form.withdrawAmount)+" ")]),a("el-form-item",{attrs:{label:"支付方式"}},[1==e.form.payType?[e._v("支付宝")]:2==e.form.payType?[e._v("银行卡")]:e._e()],2),a("el-form-item",{attrs:{label:"支付信息"}},[1==e.form.payType?[e._v(" 支付宝账号: "+e._s(e.form.alipayAccount)+" ")]:2==e.form.payType?[a("div",[e._v("银行名称: "+e._s(e.form.bankName))]),a("div",[e._v("银行账号: "+e._s(e.form.bankAccount))])]:e._e()],2),a("el-form-item",{attrs:{label:"申请时间",prop:"applyTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",disabled:"",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择申请时间"},model:{value:e.form.applyTime,callback:function(t){e.$set(e.form,"applyTime",t)},expression:"form.applyTime"}})],1),a("el-form-item",{attrs:{label:"申请状态",prop:"applyStatus"}},[a("el-select",{attrs:{placeholder:"请选择申请状态"},model:{value:e.form.applyStatus,callback:function(t){e.$set(e.form,"applyStatus",t)},expression:"form.applyStatus"}},[a("el-option",{attrs:{label:"审核通过",value:"02"}}),a("el-option",{attrs:{label:"提现拒绝",value:"03"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"03"===e.form.applyStatus,expression:"form.applyStatus==='03'"}],attrs:{label:"拒绝原因",prop:"backReason"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入拒绝原因"},model:{value:e.form.backReason,callback:function(t){e.$set(e.form,"backReason",t)},expression:"form.backReason"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"提现人姓名"}},[e._v(" "+e._s(e.infos.userName)+" ")]),a("el-form-item",{attrs:{label:"提现金额"}},[e._v(" "+e._s(e.infos.withdrawAmount)+" ")]),a("el-form-item",{attrs:{label:"支付方式"}},[1==e.infos.payType?[e._v("支付宝")]:2==e.infos.payType?[e._v("银行卡")]:e._e()],2),a("el-form-item",{attrs:{label:"支付信息"}},[1==e.infos.payType?[e._v(" 支付宝账号: "+e._s(e.infos.alipayAccount)+" ")]:2==e.infos.payType?[a("div",[e._v("银行名称: "+e._s(e.infos.bankName))]),a("div",[e._v("银行账号: "+e._s(e.infos.bankAccount))])]:e._e()],2)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handlePayment({},2)}}},[e._v("确 定 打 款")])],1)],1)],1)},n=[],o=(a("d3b7"),a("159b"),a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/finance/withdraw/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/finance/withdraw/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/finance/withdraw",method:"put",data:e})}function c(e){return Object(o["a"])({url:"/finance/withdraw/"+e,method:"delete"})}function u(e){return Object(o["a"])({url:"/finance/withdraw/paymentWithdrawAmount/"+e,method:"get"})}function m(e){return Object(o["a"])({url:"/finance/withdraw/export",method:"get",params:e})}var d={name:"Withdraw",data:function(){return{dialogVisible:!1,totalAmount:0,loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,withdrawList:[],title:"",open:!1,daterangeApplyTime:[],applyStatusOptions:[],queryParams:{pageNum:1,pageSize:10,userName:null,applyTime:null,applyStatus:null,approveTime:null},form:{},rules:{applyStatus:[{required:!0,message:"请选择审核类型",trigger:"blur"}]},infos:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_withdraw_apply_status").then((function(t){e.applyStatusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,this.queryParams.params={},null!=this.daterangeApplyTime&&""!=this.daterangeApplyTime&&(this.queryParams.params["beginApplyTime"]=this.daterangeApplyTime[0],this.queryParams.params["endApplyTime"]=this.daterangeApplyTime[1]),this.totalAmount=0,l(this.queryParams).then((function(t){e.withdrawList=t.rows,e.withdrawList.forEach((function(t){e.totalAmount+=parseFloat(t.withdrawAmount)})),e.total=t.total,e.loading=!1}))},applyStatusFormat:function(e,t){return this.selectDictLabel(this.applyStatusOptions,e.applyStatus)},cancel:function(){this.open=!1,this.reset()},handleClose:function(){},reset:function(){this.form={id:null,userId:null,userName:null,accountAmount:null,withdrawAmount:null,applyTime:null,applyStatus:null,approveUser:null,approveTime:null,backReason:null,createBy:null,createTime:null,updateBy:null,updateTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangeApplyTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="审核用户提现"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.form.applyStatus=void 0,t.open=!0,t.title="审核用户提现"}))},handlePayment:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1==a)this.infos=e,console.log(this.infos),this.dialogVisible=!0;else{var r=this.infos;this.$confirm("是否确认给提现用户【"+r.userName+"】支付款项【"+r.withdrawAmount+"】元?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(r.id)})).then((function(){t.getList(),t.dialogVisible=!1,t.msgSuccess("操作成功")})).catch((function(){}))}},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){if(null==e.form.id)return e.msgError("请填写需要审核的提现记录"),!1;if("03"===e.form.applyStatus&&!e.form.backReason)return e.msgError("请填写拒绝原因"),!1;s(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()}))}}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除用户提现记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户提现记录数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},aff1:function(e,t,a){},b648:function(e,t,a){},b81a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"门店",prop:"shopId"}},[a("el-select",{attrs:{placeholder:"请选择门店",clearable:"",filterable:""},model:{value:e.queryParams.shopId,callback:function(t){e.$set(e.queryParams,"shopId",t)},expression:"queryParams.shopId"}},e._l(e.shopinfoList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.shopName,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.sultantList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"nickName"}}),a("el-table-column",{attrs:{label:"绑定号码",align:"center",prop:"phonenumber"}}),a("el-table-column",{attrs:{label:"所属门店",align:"center",prop:"sourceShop",formatter:e.shopFomatter}}),a("el-table-column",{attrs:{label:"技师等级",align:"center",prop:"consultantRankName"}}),a("el-table-column",{attrs:{label:"是否推广用户",align:"center",prop:"inviteFlag"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("Y"==t.row.inviteFlag?"是":"否")+" ")]}}])}),a("el-table-column",{attrs:{label:"用户状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0==t.row.status?"正常":"冻结")+" ")]}}])}),a("el-table-column",{attrs:{label:"注册时间",align:"center",prop:"createTime",width:"180"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:"/user/userdetail?userId="+t.row.userId}},[e._v("详情 ")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("设置技师等级")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"顾问姓名",prop:"userName"}},[a("strong",[e._v(e._s(e.form.nickName))])]),a("el-form-item",{attrs:{label:"技师等级",prop:"consultantRank"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.consultantRank,callback:function(t){e.$set(e.form,"consultantRank",t)},expression:"form.consultantRank"}},e._l(e.allConstantRankList,(function(e){return a("el-option",{key:e.levelId+"",attrs:{label:e.levelName,value:e.levelId}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("ac1f"),a("1276"),a("d3b7"),a("159b"),a("c740"),a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/shop/itemconsultant/getAllConsultantlist",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/shop/itemconsultant/"+e,method:"delete"})}function s(e){return Object(o["a"])({url:"/shop/itemconsultant/export",method:"get",params:e})}var c=a("0e04"),u=a("a43e"),m=a("3340"),d={name:"consultant",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,sultantList:[],allConstantRankList:[],shopinfoList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,shopId:null,itemId:null},form:{userId:null,userName:null,consultantRank:null},rules:{consultantRank:[{required:!0,message:"请选择技师等级",trigger:"blur"}]}}},created:function(){this.getAllConstantList(),this.getShopList(),this.getList()},methods:{getShopList:function(){var e=this;Object(c["f"])({}).then((function(t){e.shopinfoList=t.rows}))},getAllConstantList:function(){var e=this;Object(m["f"])().then((function(t){e.allConstantRankList=t.data}))},getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.sultantList=t.rows,e.total=t.total,e.loading=!1}))},shopFomatter:function(e){var t=this;if(e.sourceShop){var a="",r=e.sourceShop.split(",");return r.forEach((function(e){t.shopinfoList.findIndex((function(t){t.id===e&&(""!=a?a+=","+t.shopName:a=t.shopName)}))})),a}return""},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,shopId:null,itemId:null,consultantId:null,createTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加项目顾问"},handleUpdate:function(e){var t=this;this.reset();var a=e.userId;Object(u["d"])(a).then((function(e){200==e.code&&(t.userInfo=e.data,t.form=t.userInfo,t.open=!0,t.title="设置顾问等级")}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(u["g"])(e.form).then((function(t){e.msgSuccess("设置成功"),e.open=!1,e.getList()}))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除项目顾问编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return i(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有项目顾问数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,s(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},b946:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u}));var r=a("b775");function n(e){return Object(r["a"])({url:"/business/order/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/business/order/"+e,method:"get"})}function l(e){return Object(r["a"])({url:"/business/order",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/business/order",method:"put",data:e})}function s(e){return Object(r["a"])({url:"/business/order/orderSend",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/business/order/"+e,method:"delete"})}function u(e){return Object(r["a"])({url:"/business/order/export",method:"get",params:e})}},bb49:function(e,t,a){"use strict";a.r(t);var r=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"];t["default"]=r},bbbc:function(e,t,a){"use strict";a("aff1")},bce5:function(e,t,a){"use strict";a("7fc8")},be5d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"所属考试",prop:"examId"}},[a("el-select",{attrs:{placeholder:"请选择考试ID",clearable:"",size:"small"},model:{value:e.queryParams.examId,callback:function(t){e.$set(e.queryParams,"examId",t)},expression:"queryParams.examId"}},e._l(e.examIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.examName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"报名考点",prop:"centreId"}},[a("el-select",{attrs:{placeholder:"请选择报名考点",clearable:"",size:"small"},model:{value:e.queryParams.centreId,callback:function(t){e.$set(e.queryParams,"centreId",t)},expression:"queryParams.centreId"}},e._l(e.centreIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"人手机号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phone,callback:function(t){e.$set(e.queryParams,"phone",t)},expression:"queryParams.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-s-tools",size:"mini"},on:{click:e.handleAdd}},[e._v("随机分配")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",plain:"",icon:"el-icon-setting",size:"mini"},on:{click:e.handleAddSd}},[e._v("手动分配")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("签到表下载")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"info",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("考号下载")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.examuserList}},[a("el-table-column",{attrs:{type:"index",label:"编号",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"所属考试",align:"center",prop:"examName"}}),a("el-table-column",{attrs:{label:"考点名称",align:"center",prop:"centreName"}}),a("el-table-column",{attrs:{label:"考生姓名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"考生手机号",align:"center",prop:"phone"}}),a("el-table-column",{attrs:{label:"所属考场",align:"center",prop:"roomName"}}),a("el-table-column",{attrs:{label:"考生考号",align:"center",prop:"examCode"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("详情")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"随机分配",visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"所属考试",prop:"examId"}},[a("el-select",{attrs:{placeholder:"请选择考试ID",clearable:"",size:"small"},model:{value:e.form.examId,callback:function(t){e.$set(e.form,"examId",t)},expression:"form.examId"}},e._l(e.examIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.examName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"选择考点",prop:"centreId"}},[a("el-select",{attrs:{placeholder:"请选择考点"},on:{change:e.centreChangeFun},model:{value:e.form.centreId,callback:function(t){e.$set(e.form,"centreId",t)},expression:"form.centreId"}},e._l(e.centreIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"选择考场",prop:"roomId"}},[a("el-select",{attrs:{placeholder:"请选择考场"},model:{value:e.form.roomId,callback:function(t){e.$set(e.form,"roomId",t)},expression:"form.roomId"}},e._l(e.roomIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"考场人数"}},[a("label",[e._v("40人")])]),a("el-form-item",{attrs:{label:"考点报名总数"}},[a("label",[e._v(e._s(e.centerNum)+"人")])])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"手动分配",visible:e.sdopen,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.sdopen=t}}},[a("el-form",{ref:"sdform",attrs:{model:e.sdform,rules:e.sdrules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"所属考试",prop:"examId"}},[a("el-select",{attrs:{placeholder:"请选择考试ID",clearable:"",size:"small"},model:{value:e.sdform.examId,callback:function(t){e.$set(e.sdform,"examId",t)},expression:"sdform.examId"}},e._l(e.examIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.examName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"选择考点",prop:"centreId"}},[a("el-select",{attrs:{placeholder:"请选择考点"},on:{change:e.centreChangeFun},model:{value:e.sdform.centreId,callback:function(t){e.$set(e.sdform,"centreId",t)},expression:"sdform.centreId"}},e._l(e.centreIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"选择考场",prop:"roomId"}},[a("el-select",{attrs:{placeholder:"请选择考场"},model:{value:e.sdform.roomId,callback:function(t){e.$set(e.sdform,"roomId",t)},expression:"sdform.roomId"}},e._l(e.roomIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"考场人数"}},[a("label",[e._v("40人")])]),a("el-form-item",{attrs:{label:"考点报名总数"}},[a("label",[e._v(e._s(e.centerNum)+"人")])]),a("el-form-item",{attrs:{label:"","label-width":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.selectUserList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"考生姓名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"考生手机号",align:"center",prop:"phone"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFormSd}},[e._v("确 定")]),a("el-button",{on:{click:e.cancelSd}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"考生详情",visible:e.infoOpen,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.infoOpen=t}}},[a("el-form",{ref:"infoform",attrs:{model:e.infoform,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"* 所属考试: ",prop:"examId"}},[a("label",[e._v(e._s(e.infoform.examName))])]),a("el-form-item",{attrs:{label:"* 所属考点: ",prop:"examId"}},[a("label",[e._v(e._s(e.infoform.centreName))])]),a("el-form-item",{attrs:{label:"* 所属考场: ",prop:"examId"}},[a("label",[e._v(e._s(e.infoform.roomName))])]),a("el-form-item",{attrs:{label:"* 考场位置: ",prop:"examId"}},[a("label",[e._v(e._s(e.infoform.roomAddress))])]),a("el-form-item",{attrs:{label:"* 考生姓名: ",prop:"examId"}},[a("label",[e._v(e._s(e.infoform.userName))])]),a("el-form-item",{attrs:{label:"* 考生电话: ",prop:"examId"}},[a("label",[e._v(e._s(e.infoform.phone))])]),a("el-form-item",{attrs:{label:"* 考生考号: ",prop:"examId"}},[a("label",[e._v(e._s(e.infoform.examCode))])])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelSdInfo}},[e._v("关 闭")])],1)],1),a("el-dialog",{attrs:{title:"签到表下载",visible:e.signopen,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.signopen=t}}},[a("el-form",{ref:"signform",attrs:{model:e.signform,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"所属考试",prop:"examId"}},[a("el-select",{attrs:{placeholder:"请选择考试ID",clearable:"",size:"small"},model:{value:e.signform.examId,callback:function(t){e.$set(e.signform,"examId",t)},expression:"signform.examId"}},e._l(e.examIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.examName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"选择考点",prop:"centreId"}},[a("el-select",{attrs:{placeholder:"请选择考点"},on:{change:e.centreChangeFun},model:{value:e.signform.centreId,callback:function(t){e.$set(e.signform,"centreId",t)},expression:"signform.centreId"}},e._l(e.centreIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"选择考场",prop:"roomId"}},[a("el-select",{attrs:{placeholder:"请选择考场"},model:{value:e.signform.roomId,callback:function(t){e.$set(e.signform,"roomId",t)},expression:"signform.roomId"}},e._l(e.roomIdOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDownForm}},[e._v("下 载")]),a("el-button",{on:{click:e.signcancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("c740"),a("b0c0"),a("b775"));function l(e){return Object(o["a"])({url:"/exam/examuser/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/exam/examuser/getCentreUserList",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/exam/examuser/"+e,method:"get"})}function c(e){return Object(o["a"])({url:"/exam/examuser/"+e,method:"delete"})}function u(e){return Object(o["a"])({url:"/exam/examuser/export",method:"get",params:e})}function m(e){return Object(o["a"])({url:"/exam/examuser/setExamUserRandom",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/exam/examuser/setExamUserRandomSd",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/exam/examuser/getCentreNum/"+e,method:"get"})}var f={name:"Examuser",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,centerNum:0,multiple:!0,showSearch:!0,total:0,examuserList:[],selectUserList:[],title:"",open:!1,sdopen:!1,infoOpen:!1,signopen:!1,examIdOptions:[],centreIdOptions:[],roomIdOptions:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,examId:null,phone:null,centreId:null,roomId:null,examCode:null,examScore:null,status:null},form:{},sdform:{},infoform:{},signform:{},rules:{examId:[{required:!0,message:"所属考试不能为空",trigger:"blur"}],centreId:[{required:!0,message:"考点不能为空",trigger:"blur"}],roomId:[{required:!0,message:"考场不能为空",trigger:"blur"}]},sdrules:{examId:[{required:!0,message:"所属考试不能为空",trigger:"blur"}],centreId:[{required:!0,message:"考点不能为空",trigger:"blur"}],roomId:[{required:!0,message:"考场不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getExamList(),this.getCentreList(),this.getDicts("sys_examuser_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.examuserList=t.rows,e.total=t.total,e.loading=!1}))},getExamUserList:function(e,t){var a=this,r={centreId:t,examId:e,status:"01"};i(r).then((function(e){a.selectUserList=e.data}))},getExamList:function(){var e=this;listExamInfo({}).then((function(t){e.examIdOptions=t.rows}))},getCentreList:function(){var e=this;listCentre({}).then((function(t){e.centreIdOptions=t.rows}))},centreChangeFun:function(e){var t=this,a={centreId:e};listRoom(a).then((function(e){t.roomIdOptions=e.rows})),p(e).then((function(e){t.centerNum=e.centreNum})),this.getExamUserList(this.sdform.examId,e)},examIdFormat:function(e,t){return this.selectDictLabel(this.examIdOptions,e.examId)},centreIdFormat:function(e,t){return this.selectDictLabel(this.centreIdOptions,e.centreId)},roomIdFormat:function(e,t){return this.selectDictLabel(this.roomIdOptions,e.roomId)},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},signcancel:function(){this.signopen=!1},cancelSd:function(){this.sdopen=!1,this.sdReset()},cancelSdInfo:function(){this.infoOpen=!1},reset:function(){this.form={id:null,centerId:null,roomId:null},this.resetForm("form")},sdReset:function(){this.sdform={id:null,centerId:null,roomId:null,personIds:[]},this.resetForm("sdform")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加考试信息"},handleAddSd:function(){this.sdReset(),this.sdopen=!0,this.selectUserList=[]},handleUpdate:function(e){var t=this,a=e.id||this.ids;s(a).then((function(e){t.infoform=e.data,t.infoOpen=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var a=e.form.roomId,r=e.roomIdOptions.findIndex((function(e){return e.id===a}));e.form.roomName=e.roomIdOptions[r].name,m(e.form).then((function(t){e.msgSuccess("操作成功"),e.open=!1,e.getList()}))}}))},submitFormSd:function(){var e=this;if(0===this.ids.length)return this.msgError("请选择需要分配的考生"),!1;this.$refs["sdform"].validate((function(t){t&&(e.sdform.personIds=e.ids,d(e.sdform).then((function(t){e.msgSuccess("操作成功"),e.sdopen=!1,e.getExamUserList(e.sdform.examId,e.sdform.centreId),e.getList()})))}))},submitDownForm:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有考试信息数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,u(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1,e.signopen=!1})).catch((function(){}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除考试信息编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){this.signopen=!0}}},h=f,b=a("2877"),g=Object(b["a"])(h,r,n,!1,null,null,null);t["default"]=g.exports},bfc4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictType"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictType}})})),1)],1),a("el-form-item",{attrs:{label:"字典标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入字典标签",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictLabel,callback:function(t){e.$set(e.queryParams,"dictLabel",t)},expression:"queryParams.dictLabel"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"数据状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:add"],expression:"['system:dict:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:export"],expression:"['system:dict:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"字典编码",align:"center",prop:"dictCode"}}),a("el-table-column",{attrs:{label:"字典标签",align:"center",prop:"dictLabel"},scopedSlots:e._u([{key:"default",fn:function(t){return[""==t.row.listClass||"default"==t.row.listClass?a("span",[e._v(e._s(t.row.dictLabel))]):a("el-tag",{attrs:{type:"primary"==t.row.listClass?"":t.row.listClass}},[e._v(e._s(t.row.dictLabel))])]}}])}),a("el-table-column",{attrs:{label:"字典键值",align:"center",prop:"dictValue"}}),a("el-table-column",{attrs:{label:"字典排序",align:"center",prop:"dictSort"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.statusOptions,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典类型"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),a("el-form-item",{attrs:{label:"数据标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入数据标签"},model:{value:e.form.dictLabel,callback:function(t){e.$set(e.form,"dictLabel",t)},expression:"form.dictLabel"}})],1),a("el-form-item",{attrs:{label:"数据键值",prop:"dictValue"}},[a("el-input",{attrs:{placeholder:"请输入数据键值"},model:{value:e.form.dictValue,callback:function(t){e.$set(e.form,"dictValue",t)},expression:"form.dictValue"}})],1),a("el-form-item",{attrs:{label:"样式属性",prop:"cssClass"}},[a("el-input",{attrs:{placeholder:"请输入样式属性"},model:{value:e.form.cssClass,callback:function(t){e.$set(e.form,"cssClass",t)},expression:"form.cssClass"}})],1),a("el-form-item",{attrs:{label:"显示排序",prop:"dictSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.dictSort,callback:function(t){e.$set(e.form,"dictSort",t)},expression:"form.dictSort"}})],1),a("el-form-item",{attrs:{label:"回显样式",prop:"listClass"}},[a("el-select",{model:{value:e.form.listClass,callback:function(t){e.$set(e.form,"listClass",t)},expression:"form.listClass"}},e._l(e.listClassOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("aa3a")),l=a("ed45"),i={name:"Data",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,dataList:[],defaultDictType:"",title:"",open:!1,listClassOptions:[{value:"default",label:"默认"},{value:"primary",label:"主要"},{value:"success",label:"成功"},{value:"info",label:"信息"},{value:"warning",label:"警告"},{value:"danger",label:"危险"}],statusOptions:[],typeOptions:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.dictId;this.getType(t),this.getTypeList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getType:function(e){var t=this;Object(l["d"])(e).then((function(e){t.queryParams.dictType=e.data.dictType,t.defaultDictType=e.data.dictType,t.getList()}))},getTypeList:function(){var e=this;Object(l["e"])().then((function(t){e.typeOptions=t.rows}))},getList:function(){var e=this;this.loading=!0,Object(o["f"])(this.queryParams).then((function(t){e.dataList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictCode:void 0,dictLabel:void 0,dictValue:void 0,cssClass:void 0,listClass:"default",dictSort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.dictType=this.defaultDictType,this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典数据",this.form.dictType=this.queryParams.dictType},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictCode})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictCode||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典数据"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictCode?Object(o["g"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.dictCode||this.ids;this.$confirm('是否确认删除字典编码为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},s=i,c=a("2877"),u=Object(c["a"])(s,r,n,!1,null,null,null);t["default"]=u.exports},c024:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"入账时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangeRechargeTime,callback:function(t){e.daterangeRechargeTime=t},expression:"daterangeRechargeTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:recharge:export"],expression:"['finance:recharge:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:4}},[a("strong",[e._v("合计充值金额："+e._s(e.totalAmount)+" 元")])]),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.rechargeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"用户名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"手机号",align:"center",prop:"phonenumber"}}),a("el-table-column",{attrs:{label:"账户金额",align:"center",prop:"accountAmount"}}),a("el-table-column",{attrs:{label:"充值金额",align:"center",prop:"rechargeAmount"}}),a("el-table-column",{attrs:{label:"账户类型",align:"center",prop:"rechargeType"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0===t.row.rechargeType?"基本账户":"产品账户"))])]}}])}),a("el-table-column",{attrs:{label:"支付类型",align:"center",prop:"paymentType",formatter:e.paymentTypefmatFun}}),a("el-table-column",{attrs:{label:"vip变更等级",align:"center",prop:"vipLevel"}}),a("el-table-column",{attrs:{label:"入账时间",align:"center",prop:"rechargeTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.rechargeTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"入账描述",align:"center",prop:"rechargeDesc"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-printer"},on:{click:function(a){return e.handlePrint(t.row,1)}}},[e._v("小票")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),a("el-form-item",{attrs:{label:"账户金额",prop:"accountAmount"}},[a("el-input",{attrs:{placeholder:"请输入账户金额"},model:{value:e.form.accountAmount,callback:function(t){e.$set(e.form,"accountAmount",t)},expression:"form.accountAmount"}})],1),a("el-form-item",{attrs:{label:"入账金额",prop:"rechargeAmount"}},[a("el-input",{attrs:{placeholder:"请输入入账金额"},model:{value:e.form.rechargeAmount,callback:function(t){e.$set(e.form,"rechargeAmount",t)},expression:"form.rechargeAmount"}})],1),a("el-form-item",{attrs:{label:"vip变更等级",prop:"vipLevel"}},[a("el-input",{attrs:{placeholder:"请输入vip变更等级"},model:{value:e.form.vipLevel,callback:function(t){e.$set(e.form,"vipLevel",t)},expression:"form.vipLevel"}})],1),a("el-form-item",{attrs:{label:"入账时间",prop:"rechargeTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择入账时间"},model:{value:e.form.rechargeTime,callback:function(t){e.$set(e.form,"rechargeTime",t)},expression:"form.rechargeTime"}})],1),a("el-form-item",{attrs:{label:"入账描述",prop:"rechargeDesc"}},[a("el-input",{attrs:{placeholder:"请输入入账描述"},model:{value:e.form.rechargeDesc,callback:function(t){e.$set(e.form,"rechargeDesc",t)},expression:"form.rechargeDesc"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"打印小票",visible:e.dialogVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{font:"11px 黑体,Arial Narrow,HELVETICA","line-height":"20px"},attrs:{id:"printMe"}},[a("h3",{staticClass:"text-center",staticStyle:{"font-size":"22px"}},[e._v("小象美业")]),a("div",[a("div",[e._v("尊敬的"+e._s(e.form.userName)+"先生/女士:")]),a("div",[e._v("充值时间: "+e._s(e.form.rechargeTime))]),a("div",[e._v("充值账户类型: "+e._s(0===e.form.rechargeType?"基本账户":"产品账户"))]),a("div",[e._v("支付类型: "+e._s(e.paymentTypefmatFun(e.form)))]),a("div",[e._v("充值前账户金额: "+e._s(e.form.accountAmount-e.form.rechargeAmount))]),a("div",[e._v("充值金额: "+e._s(e.form.rechargeAmount))]),a("div",[e._v("充值后账户金额: "+e._s(e.form.accountAmount))]),a("div",[e._v("特别提示: 护肤品为私人用品")]),a("div",[e._v("售后无质量问题概不退换，谢谢。")]),a("div",[e._v("会员签字确认:")]),a("div",{staticStyle:{"margin-top":"60px"}},[a("div",[e._v(" 小象美业欢迎您的光临！！！ ")]),a("div",[e._v("地址："+e._s(e.form.address))]),a("div",[e._v("电话："+e._s(e.form.phone))])])])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],attrs:{type:"primary"}},[e._v("打 印")])],1)])],1)},n=[],o=(a("d3b7"),a("159b"),a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/finance/recharge/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/finance/recharge/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/finance/recharge",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/finance/recharge",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/finance/recharge/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/finance/recharge/export",method:"get",params:e})}var d=a("ed08"),p={name:"Recharge",data:function(){return{totalAmount:0,loading:!0,exportLoading:!1,paymentTypeOptions:[],ids:[],dialogVisible:!1,single:!0,multiple:!0,showSearch:!0,total:0,rechargeList:[],title:"",open:!1,daterangeRechargeTime:[],queryParams:{pageNum:1,pageSize:10,userId:null,userName:null,rechargeTime:null},form:{},rules:{}}},created:function(){var e=this,t=this.$route.query&&this.$route.query.userId;t&&Object(d["e"])(t)&&(this.queryParams.userId=t),this.getList(),this.getDicts("sys_recharge_payment_type").then((function(t){e.paymentTypeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,this.queryParams.params={},null!=this.daterangeRechargeTime&&""!=this.daterangeRechargeTime&&(this.queryParams.params["beginRechargeTime"]=this.daterangeRechargeTime[0],this.queryParams.params["endRechargeTime"]=this.daterangeRechargeTime[1]),this.totalAmount=0,l(this.queryParams).then((function(t){e.rechargeList=t.rows,e.rechargeList.forEach((function(t){e.totalAmount+=parseFloat(t.rechargeAmount)})),e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,userId:null,userName:null,accountAmount:null,rechargeAmount:null,vipLevel:null,paymentType:null,rechargeTime:null,rechargeDesc:null,createBy:null,createTime:null,updateBy:null,updateTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangeRechargeTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加用户充值记录"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改用户充值记录"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除用户充值记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户充值记录数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},paymentTypefmatFun:function(e,t){return e.paymentType?this.selectDictLabel(this.paymentTypeOptions,e.paymentType):""},handleClose:function(e){e()},handlePrint:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(console.log(1==a),1==a){this.dialogVisible=!0;var r=t.id||this.ids;i(r).then((function(t){e.form=t.data}))}else this.msgSuccess("功能正在建设中")}}},f=p,h=a("2877"),b=Object(h["a"])(f,r,n,!1,null,null,null);t["default"]=b.exports},c0c7:function(e,t,a){"use strict";a.d(t,"n",(function(){return o})),a.d(t,"j",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"q",(function(){return s})),a.d(t,"r",(function(){return c})),a.d(t,"t",(function(){return u})),a.d(t,"o",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"p",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"k",(function(){return b})),a.d(t,"u",(function(){return g})),a.d(t,"v",(function(){return v})),a.d(t,"w",(function(){return y})),a.d(t,"m",(function(){return w})),a.d(t,"e",(function(){return x})),a.d(t,"s",(function(){return k})),a.d(t,"l",(function(){return _})),a.d(t,"i",(function(){return P})),a.d(t,"g",(function(){return S})),a.d(t,"h",(function(){return N})),a.d(t,"f",(function(){return O}));var r=a("b775"),n=a("c38a");function o(e){return Object(r["a"])({url:"/system/user/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/system/user/getInfo/"+Object(n["e"])(e),method:"get"})}function i(e){return Object(r["a"])({url:"/system/user",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/system/user/setUserRecharge",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/system/user/setUserVipLevel",method:"put",data:e})}function u(e){return Object(r["a"])({url:"/system/user",method:"put",data:e})}function m(e){return Object(r["a"])({url:"/system/user/openUserProductAccount/"+e,method:"put"})}function d(e){return Object(r["a"])({url:"/system/user/"+e,method:"delete"})}function p(e){return Object(r["a"])({url:"/system/user/export",method:"get",params:e})}function f(e,t){var a={userId:e,password:t};return Object(r["a"])({url:"/system/user/resetPwd",method:"put",data:a})}function h(e,t){var a={userId:e,status:t};return Object(r["a"])({url:"/system/user/changeStatus",method:"put",data:a})}function b(){return Object(r["a"])({url:"/system/user/profile",method:"get"})}function g(e){return Object(r["a"])({url:"/system/user/profile",method:"put",data:e})}function v(e,t){var a={oldPassword:e,newPassword:t};return Object(r["a"])({url:"/system/user/profile/updatePwd",method:"put",params:a})}function y(e){return Object(r["a"])({url:"/system/user/profile/avatar",method:"post",data:e})}function w(){return Object(r["a"])({url:"/system/user/importTemplate",method:"get"})}function x(e){return Object(r["a"])({url:"/system/user/authRole/"+e,method:"get"})}function k(e){return Object(r["a"])({url:"/system/user/authRole",method:"put",params:e})}function _(e){return Object(r["a"])({url:"/system/user/getUsersByRoleKey/"+e,method:"get"})}function P(){return Object(r["a"])({url:"/system/user/getShopConsultantList",method:"get"})}function S(e,t){return Object(r["a"])({url:"/system/user/getConsultantUserListByShopId/"+e+"/"+t,method:"get"})}function N(e){return Object(r["a"])({url:"/system/user/getConsultantUserListByShopId/"+e,method:"get"})}function O(){return Object(r["a"])({url:"/system/user/getConsultantUserList",method:"get"})}},c0ed:function(e,t,a){},c43e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}}),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:comment:add"],expression:"['exam:comment:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:comment:edit"],expression:"['exam:comment:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:comment:remove"],expression:"['exam:comment:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.commentList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title"}}),a("el-table-column",{attrs:{label:"顶部图片",align:"center",prop:"topImg"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px"},attrs:{fit:"cover",src:e.row.topImg}})]}}])}),a("el-table-column",{attrs:{label:"是否可用",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:comment:edit"],expression:"['exam:comment:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:comment:remove"],expression:"['exam:comment:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"950px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入点评标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"顶部图片"}},[a("imageUpload",{model:{value:e.form.topImg,callback:function(t){e.$set(e.form,"topImg",t)},expression:"form.topImg"}})],1),a("el-form-item",{attrs:{label:"介绍图片"}},[a("imageUpload",{model:{value:e.form.detailImg,callback:function(t){e.$set(e.form,"detailImg",t)},expression:"form.detailImg"}})],1),a("el-form-item",{attrs:{label:"品牌介绍"}},[a("editor",{attrs:{"min-height":192},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/exam/comment/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/exam/comment/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/exam/comment",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/exam/comment",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/exam/comment/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/exam/comment/export",method:"get",params:e})}var d={name:"Comment",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,commentList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.commentList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,title:null,topImg:null,detailImg:null,content:null,status:"0",createTime:null,createBy:null,updateTime:null,updateBy:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加品牌介绍"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改品牌介绍"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除品牌介绍编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有品牌介绍数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},c7e9:function(e,t,a){"use strict";a.r(t);a("d3b7"),a("ddb0"),a("d81d"),a("ac1f"),a("466d");var r=a("23f1"),n=function(e){return e.keys()},o=/\.\/(.*)\.svg/,l=n(r).map((function(e){return e.match(o)[1]}));t["default"]=l},c81a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v('="false" v-on="$listeners" @open="onOpen" @close="onClose" > '),a("el-row",{attrs:{gutter:0}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项名",prop:"label"}},[a("el-input",{attrs:{placeholder:"请输入选项名",clearable:""},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项值",prop:"value"}},[a("el-input",{attrs:{placeholder:"请输入选项值",clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}},[a("el-select",{style:{width:"100px"},attrs:{slot:"append"},slot:"append",model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.dataTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.close}},[e._v(" 取消 ")])],1)],1)},n=[],o=a("ed08"),l={components:{},inheritAttrs:!1,props:[],data:function(){return{id:100,formData:{label:void 0,value:void 0},rules:{label:[{required:!0,message:"请输入选项名",trigger:"blur"}],value:[{required:!0,message:"请输入选项值",trigger:"blur"}]},dataType:"string",dataTypeOptions:[{label:"字符串",value:"string"},{label:"数字",value:"number"}]}},computed:{},watch:{"formData.value":function(e){this.dataType=Object(o["e"])(e)?"number":"string"}},created:function(){},mounted:function(){},methods:{onOpen:function(){this.formData={label:void 0,value:void 0}},onClose:function(){},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&("number"===e.dataType&&(e.formData.value=parseFloat(e.formData.value)),e.formData.id=e.id++,e.$emit("commit",e.formData),e.close())}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},cbc2:function(e,t,a){},cc6c:function(e,t,a){e.exports=a.p+"static/img/401.089007e7.gif"},cdb7:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configName,callback:function(t){e.$set(e.queryParams,"configName",t)},expression:"queryParams.configName"}})],1),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数键名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configKey,callback:function(t){e.$set(e.queryParams,"configKey",t)},expression:"queryParams.configKey"}})],1),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-select",{attrs:{placeholder:"系统内置",clearable:"",size:"small"},model:{value:e.queryParams.configType,callback:function(t){e.$set(e.queryParams,"configType",t)},expression:"queryParams.configType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:add"],expression:"['system:config:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:edit"],expression:"['system:config:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:export"],expression:"['system:config:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-refresh",size:"mini"},on:{click:e.handleRefreshCache}},[e._v("刷新缓存")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.configList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"参数主键",align:"center",prop:"configId"}}),a("el-table-column",{attrs:{label:"参数名称",align:"center",prop:"configName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"参数键名",align:"center",prop:"configKey","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"参数键值",align:"center",prop:"configValue"}}),a("el-table-column",{attrs:{label:"系统内置",align:"center",prop:"configType",formatter:e.typeFormat}}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:edit"],expression:"['system:config:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{attrs:{placeholder:"请输入参数名称"},model:{value:e.form.configName,callback:function(t){e.$set(e.form,"configName",t)},expression:"form.configName"}})],1),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{attrs:{placeholder:"请输入参数键名"},model:{value:e.form.configKey,callback:function(t){e.$set(e.form,"configKey",t)},expression:"form.configKey"}})],1),a("el-form-item",{attrs:{label:"参数键值",prop:"configValue"}},[a("el-input",{attrs:{placeholder:"请输入参数键值"},model:{value:e.form.configValue,callback:function(t){e.$set(e.form,"configValue",t)},expression:"form.configValue"}})],1),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-radio-group",{model:{value:e.form.configType,callback:function(t){e.$set(e.form,"configType",t)},expression:"form.configType"}},e._l(e.typeOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("c0c3")),l={name:"Config",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,configList:[],title:"",open:!1,typeOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,configName:void 0,configKey:void 0,configType:void 0},form:{},rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.configList=t.rows,e.total=t.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.configType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={configId:void 0,configName:void 0,configKey:void 0,configValue:void 0,configType:"Y",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加参数"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.configId})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.configId||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改参数"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.configId?Object(o["h"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.configId||this.ids;this.$confirm('是否确认删除参数编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有参数数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},handleRefreshCache:function(){var e=this;Object(o["g"])().then((function(){e.msgSuccess("刷新成功")}))}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},d009:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"次卡",prop:"cardId"}},[a("el-select",{attrs:{placeholder:"请选择次卡",clearable:"",size:"small"},model:{value:e.queryParams.cardId,callback:function(t){e.$set(e.queryParams,"cardId",t)},expression:"queryParams.cardId"}},e._l(e.allCardList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"用户手机号",prop:"userPhone"}},[a("el-input",{attrs:{placeholder:"请输入用户手机号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userPhone,callback:function(t){e.$set(e.queryParams,"userPhone",t)},expression:"queryParams.userPhone"}})],1),a("el-form-item",{attrs:{label:"购买时间",prop:"buyTime"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.queryParams.buyTimeAry,callback:function(t){e.$set(e.queryParams,"buyTimeAry",t)},expression:"queryParams.buyTimeAry"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"success",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleOrderAdd}},[e._v("新增次卡订单")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:numbercard:add"],expression:"['finance:numbercard:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增次卡记录")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.numbercardList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"用户",align:"center",prop:"userPhone"}}),a("el-table-column",{attrs:{label:"次卡名称",align:"center",prop:"cardName"}}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"购买时间",align:"center",prop:"buyTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.buyTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"生效时间",align:"center",prop:"beginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.beginTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"截至时间",align:"center",prop:"endTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.endTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"总次数",align:"center",prop:"totalTimes"}}),a("el-table-column",{attrs:{label:"使用次数",align:"center",prop:"useTimes"}}),a("el-table-column",{attrs:{label:"剩余次数",align:"center",prop:"lastTimes"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:numbercard:edit"],expression:"['finance:numbercard:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["finance:numbercard:remove"],expression:"['finance:numbercard:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("br"),a("router-link",{staticClass:"link-type",attrs:{to:"/finance/cardhistory?userId="+t.row.userId+"&cardId="+t.row.id}},[e._v("详情 ")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),a("el-form-item",{attrs:{label:"次卡",prop:"cardId"}},[a("el-select",{attrs:{placeholder:"请选择次卡",clearable:"",size:"small",disabled:e.form.id},on:{change:e.formCardChangeFun},model:{value:e.form.cardId,callback:function(t){e.$set(e.form,"cardId",t)},expression:"form.cardId"}},e._l(e.allCardList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("strong",{directives:[{name:"show",rawName:"v-show",value:e.form.cardId&&!e.form.userId,expression:"form.cardId && !form.userId"}]},[e._v(e._s("有效期"+e.form.days+"天"))])],1),a("el-form-item",{attrs:{label:"购买时间",prop:"buyTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择购买时间"},model:{value:e.form.buyTime,callback:function(t){e.$set(e.form,"buyTime",t)},expression:"form.buyTime"}})],1),a("el-form-item",{attrs:{label:"生效时间",prop:"beginTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择生效时间"},model:{value:e.form.beginTime,callback:function(t){e.$set(e.form,"beginTime",t)},expression:"form.beginTime"}})],1),a("el-form-item",{attrs:{label:"截至时间",prop:"endTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择截至时间"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),a("el-form-item",{attrs:{label:"总次数",prop:"totalTimes"}},[a("el-input",{attrs:{placeholder:"请输入总次数"},model:{value:e.form.totalTimes,callback:function(t){e.$set(e.form,"totalTimes",t)},expression:"form.totalTimes"}})],1),a("el-form-item",{attrs:{label:"使用次数",prop:"useTimes"}},[a("el-input",{attrs:{placeholder:"请输入使用次数"},model:{value:e.form.useTimes,callback:function(t){e.$set(e.form,"useTimes",t)},expression:"form.useTimes"}})],1),a("el-form-item",{attrs:{label:"剩余次数",prop:"lastTimes"}},[a("el-input",{attrs:{placeholder:"请输入剩余次数"},model:{value:e.form.lastTimes,callback:function(t){e.$set(e.form,"lastTimes",t)},expression:"form.lastTimes"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.orderOpen,width:"1200px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.orderOpen=t}}},[a("el-form",{ref:"orderForm",attrs:{model:e.orderForm,rules:e.orderRules,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"绑定号码",prop:"userPhone"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入绑定号码"},model:{value:e.orderForm.userPhone,callback:function(t){e.$set(e.orderForm,"userPhone",t)},expression:"orderForm.userPhone"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:null==e.currentUserInfo.userId,expression:"currentUserInfo.userId==null"}],attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.queryCurrentUserFun},slot:"append"},[e._v("查询用户")])],1),a("strong",{staticStyle:{color:"red"}},[e._v(e._s(e.orderForm.otherShop?"该用户属于其他分店："+e.orderForm.otherShop:""))])],1),a("el-form-item",{attrs:{label:"购买用户",prop:"userName"}},[a("strong",[e._v(e._s(e.orderForm.userName)+"--"+e._s(e.orderForm.vipInfo))])]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.orderForm.cardInfo,expression:"orderForm.cardInfo"}],attrs:{label:"次卡信息"}},[a("strong",[a("div",{domProps:{innerHTML:e._s(e.orderForm.cardInfo)}})])]),a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("strong",[e._v(e._s(e.orderForm.orderCode))])]),a("el-divider",{attrs:{"content-position":"center"}},[a("strong",[e._v("* 选择次卡")])]),a("el-form-item",{attrs:{label:"次卡",prop:"cardId"}},[a("el-select",{attrs:{placeholder:"请选择次卡",clearable:"",size:"small","value-key":"id"},model:{value:e.orderForm.cardDetail,callback:function(t){e.$set(e.orderForm,"cardDetail",t)},expression:"orderForm.cardDetail"}},e._l(e.allCardList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.orderForm.cardDetail.id,expression:"orderForm.cardDetail.id"}]},[a("strong",[e._v(e._s("适用项目："+e.orderForm.cardDetail.shopItemName+"，有效期："+e.orderForm.cardDetail.day+"天，使用次数："+e.orderForm.cardDetail.num+",价格："+e.orderForm.cardDetail.price))])])],1),a("el-form-item",{attrs:{label:"下单时间",prop:"orderTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择下单时间"},model:{value:e.orderForm.orderTime,callback:function(t){e.$set(e.orderForm,"orderTime",t)},expression:"orderForm.orderTime"}})],1),a("el-form-item",{attrs:{label:"总金额",prop:"sumAmount"}},[a("el-input",{attrs:{placeholder:"请输入总金额"},model:{value:e.orderForm.sumAmount,callback:function(t){e.$set(e.orderForm,"sumAmount",t)},expression:"orderForm.sumAmount"}})],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("strong",[e._v(" * 支付方式")])]),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:e.userBanlanceLabel,prop:"payment1"}},[a("el-input-number",{attrs:{min:0,step:1,max:e.currentUserInfo.accountAmount,"controls-position":"right",placeholder:"请输入余额支付"},model:{value:e.orderForm.payment1,callback:function(t){e.$set(e.orderForm,"payment1",t)},expression:"orderForm.payment1"}})],1),a("el-form-item",{attrs:{label:e.userProBanlanceLabel,prop:"payment2"}},[a("el-input-number",{attrs:{min:0,step:1,max:e.currentUserInfo.productBalance,"controls-position":"right",placeholder:"请输入产品账户支付"},model:{value:e.orderForm.payment2,callback:function(t){e.$set(e.orderForm,"payment2",t)},expression:"orderForm.payment2"}})],1),a("el-form-item",{attrs:{label:"现金支付",prop:"payment3"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入现金支付"},model:{value:e.orderForm.payment3,callback:function(t){e.$set(e.orderForm,"payment3",t)},expression:"orderForm.payment3"}})],1),a("el-form-item",{attrs:{label:"银行卡支付",prop:"payment4"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入银行卡支付"},model:{value:e.orderForm.payment4,callback:function(t){e.$set(e.orderForm,"payment4",t)},expression:"orderForm.payment4"}})],1),a("el-form-item",{attrs:{label:"挂账支付",prop:"payment5"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入挂账支付"},model:{value:e.orderForm.payment5,callback:function(t){e.$set(e.orderForm,"payment5",t)},expression:"orderForm.payment5"}})],1),a("el-form-item",{attrs:{label:"免费支付",prop:"payment6"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入免费支付"},model:{value:e.orderForm.payment6,callback:function(t){e.$set(e.orderForm,"payment6",t)},expression:"orderForm.payment6"}})],1),a("el-form-item",{attrs:{label:"微信支付",prop:"payment7"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入微信支付"},model:{value:e.orderForm.payment7,callback:function(t){e.$set(e.orderForm,"payment7",t)},expression:"orderForm.payment7"}})],1),a("el-form-item",{attrs:{label:"支付宝支付",prop:"payment8"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入支付宝支付"},model:{value:e.orderForm.payment8,callback:function(t){e.$set(e.orderForm,"payment8",t)},expression:"orderForm.payment8"}})],1),a("el-form-item",{attrs:{label:"大众点评抵扣金额",prop:"payment9"}},[a("el-input-number",{attrs:{min:0,step:1,"controls-position":"right",placeholder:"请输入大众点评抵扣金额"},model:{value:e.orderForm.payment9,callback:function(t){e.$set(e.orderForm,"payment9",t)},expression:"orderForm.payment9"}})],1)],1)],1),a("el-form-item",{attrs:{label:"订单状态"}},[a("el-radio-group",{model:{value:e.orderForm.orderStatus,callback:function(t){e.$set(e.orderForm,"orderStatus",t)},expression:"orderForm.orderStatus"}},e._l(e.orderStatusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(" "+e._s(t.dictLabel)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"备注信息",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.orderForm.remark,callback:function(t){e.$set(e.orderForm,"remark",t)},expression:"orderForm.remark"}})],1),a("el-form-item",{attrs:{label:"附件"}},[a("fileUpload",{model:{value:e.orderForm.orderFile,callback:function(t){e.$set(e.orderForm,"orderFile",t)},expression:"orderForm.orderFile"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitOrderForm}},[e._v("确 定")]),a("el-button",{on:{click:e.orderCancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("c740"),a("b775"));function l(e){return Object(o["a"])({url:"/finance/numbercard/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/finance/numbercard/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/finance/numbercard",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/finance/numbercard",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/finance/numbercard/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/finance/numbercard/export",method:"get",params:e})}var d=a("1cda"),p=a("ebf6"),f=a("c38a"),h={name:"Numbercard",data:function(){return{loading:!0,exportLoading:!1,orderStatusOptions:[],ids:[],single:!0,multiple:!0,showSearch:!0,total:0,allCardList:[],numbercardList:[],title:"",open:!1,orderOpen:!1,queryParams:{pageNum:1,pageSize:10,buyTimeAry:[],userId:null,cardId:null,buyTime:null,beginTime:null,endTime:null,params:{}},form:{},rules:{userId:[{required:!0,message:"用户ID不能为空",trigger:"blur"}],cardId:[{required:!0,message:"次卡不能为空",trigger:"blur"}],beginTime:[{required:!0,message:"开始日期不能为空",trigger:"blur"}],endTime:[{required:!0,message:"截止日期不能为空",trigger:"blur"}]},userBanlanceLabel:"卡结算：账户余额(0.00):",userProBanlanceLabel:"   产品账户(0.00):",currentUserInfo:{},orderForm:{cardDetail:{}},orderRules:{}}},created:function(){var e=this;this.getAllCardList(),this.getList(),this.getDicts("sys_item_order_status").then((function(t){e.orderStatusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.numbercardList=t.rows,e.total=t.total,e.loading=!1}))},getAllCardList:function(){var e=this;Object(d["g"])().then((function(t){e.allCardList=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,userId:null,cardId:null,buyTime:new Date,beginTime:new Date,endTime:null,totalTimes:null,useTimes:null,lastTimes:null,createBy:null,createTime:null,updateBy:null,updateTime:null,days:0},this.resetForm("form")},resetOrderForm:function(){this.orderForm={cardDetail:{},id:null,shopId:null,userId:null,userName:null,userPhone:null,orderCode:null,otherShop:null,orderTime:new Date,outTradeNo:null,orderType:null,sumAmount:0,payment1:null,payment2:null,payment3:null,payment4:null,payment5:null,payment6:null,payment7:null,payment8:null,payment9:null,payTime:null,orderStatus:"01",remark:null,orderFile:null,createTime:null,createBy:null,updateTime:null,updateBy:null,vipInfo:null},this.currentUserInfo={},this.resetForm("orderForm")},handleQuery:function(){this.queryParams.pageNum=1,this.queryParams.buyTimeAry&&(this.queryParams.params.beginTime=this.queryParams.buyTimeAry[0]?this.queryParams.buyTimeAry[0]:"",this.queryParams.params.endTime=this.queryParams.buyTimeAry[1]?this.queryParams.buyTimeAry[1]:""),this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加购买次卡记录"},handleOrderAdd:function(){this.resetOrderForm(),this.orderOpen=!0,this.title="添加次卡订单"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改购买次卡记录"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除购买次卡记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有购买次卡记录数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},queryCurrentUserFun:function(){var e=this;Object(p["h"])(this.orderForm.userPhone).then((function(t){if(!t.userInfo)return e.msgError("用户信息不存在"),!1;e.currentUserInfo=t.userInfo;var a=t.vipInfo;a&&(e.orderForm.vipInfo="("+a.vipName+",优惠比例:"+a.discount+")");var r=t.numberCard;e.orderForm.cardInfo=r||null,e.orderForm.userName=e.currentUserInfo.nickName,e.orderForm.orderCode||(e.orderForm.orderCode=t.orderCode),e.orderForm.otherShop||(e.orderForm.otherShop=t.otherShop),e.orderForm.userId=e.currentUserInfo.userId,e.currentUserId=e.currentUserInfo.userId,e.userBanlanceLabel="卡结算：账户余额("+e.currentUserInfo.accountAmount+")",e.userProBanlanceLabel="   产品账户("+e.currentUserInfo.productBalance+")"}))},orderCancel:function(){this.resetOrderForm(),this.orderOpen=!1},submitOrderForm:function(){var e=this;this.$refs["orderForm"].validate((function(t){if(t){e.orderForm.cardId=e.orderForm.cardDetail.id,e.orderForm.orderTime=Object(f["d"])(e.orderForm.orderTime,"{y}-{m}-{d} {h}:{i}:{s}");var a=e.orderForm.payment1+e.orderForm.payment2+e.orderForm.payment3+e.orderForm.payment4+e.orderForm.payment5+e.orderForm.payment6+e.orderForm.payment7+e.orderForm.payment8+e.orderForm.payment9;if(null!=e.orderForm.id){if(a!=e.orderForm.sumAmount)return e.msgError("支付金额与总金额不符，请认真填写！"),!1;Object(p["d"])(e.orderForm).then((function(t){e.msgSuccess("修改成功"),e.orderOpen=!1,e.getList()}))}else Object(p["b"])(e.orderForm).then((function(t){e.msgSuccess("新增成功"),e.orderOpen=!1,e.getList()}))}}))},formCardChangeFun:function(e){var t=this.allCardList.findIndex((function(t){return t.id===e})),a=this.allCardList[t];this.form.totalTimes=a.num,this.form.days=a.day,this.form.useTimes=0,this.form.lastTimes=a.num}}},b=h,g=a("2877"),v=Object(g["a"])(b,r,n,!1,null,null,null);t["default"]=v.exports},d0b2:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-dialog"},[e._v('="false" v-on="$listeners" @open="onOpen" @close="onClose" > '),a("div",{attrs:{slot:"title"},slot:"title"},[e._v(" 选择图标 "),a("el-input",{style:{width:"260px"},attrs:{size:"mini",placeholder:"请输入图标名称","prefix-icon":"el-icon-search",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),a("ul",{staticClass:"icon-ul"},e._l(e.iconList,(function(t){return a("li",{key:t,class:e.active===t?"active-item":"",on:{click:function(a){return e.onSelect(t)}}},[a("i",{class:t}),a("div",[e._v(e._s(t))])])})),0)])},n=[],o=(a("d81d"),a("4de4"),a("d3b7"),a("de0a")),l=o.map((function(e){return"el-icon-".concat(e)})),i={inheritAttrs:!1,props:["current"],data:function(){return{iconList:l,active:null,key:""}},watch:{key:function(e){this.iconList=e?l.filter((function(t){return t.indexOf(e)>-1})):l}},methods:{onOpen:function(){this.active=this.current,this.key=""},onClose:function(){},onSelect:function(e){this.active=e,this.$emit("select",e),this.$emit("update:visible",!1)}}},s=i,c=(a("39e8"),a("2877")),u=Object(c["a"])(s,r,n,!1,null,"252b2594",null);t["default"]=u.exports},d153:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],o=a("313e"),l=a.n(o),i=a("feb2");a("817d");var s={mixins:[i["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=l.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=s,u=a("2877"),m=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=m.exports},d22a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[e._v(" 11111 ")])},n=[],o={name:"Order",data:function(){return{loading:!0}},created:function(){},methods:{}},l=o,i=a("2877"),s=Object(i["a"])(l,r,n,!1,null,null,null);t["default"]=s.exports},d276:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"banner类别",prop:"bannerCategory"}},[a("el-select",{attrs:{placeholder:"请选择banner类别",clearable:"",size:"small"},model:{value:e.queryParams.bannerCategory,callback:function(t){e.$set(e.queryParams,"bannerCategory",t)},expression:"queryParams.bannerCategory"}},e._l(e.bannerCategoryOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:banner:add"],expression:"['baseconfig:banner:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:banner:edit"],expression:"['baseconfig:banner:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:banner:remove"],expression:"['baseconfig:banner:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:banner:export"],expression:"['baseconfig:banner:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.bannerList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"轮播ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"bannerName"}}),a("el-table-column",{attrs:{label:"banner类别",align:"center",prop:"bannerCategory",formatter:e.bannerCategoryFormat}}),a("el-table-column",{attrs:{label:"图片路径",align:"center",prop:"imgUrl"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px"},attrs:{fit:"cover",src:e.row.imgUrl}})]}}])}),a("el-table-column",{attrs:{label:"排序",align:"center",prop:"sortNum"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:banner:edit"],expression:"['baseconfig:banner:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:banner:remove"],expression:"['baseconfig:banner:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"650px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"标题",prop:"bannerName"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.bannerName,callback:function(t){e.$set(e.form,"bannerName",t)},expression:"form.bannerName"}})],1),a("el-form-item",{attrs:{label:"banner类别",prop:"bannerCategory"}},[a("el-select",{attrs:{placeholder:"请选择banner类别"},model:{value:e.form.bannerCategory,callback:function(t){e.$set(e.form,"bannerCategory",t)},expression:"form.bannerCategory"}},e._l(e.bannerCategoryOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"图片路径"}},[a("imageUpload",{model:{value:e.form.imgUrl,callback:function(t){e.$set(e.form,"imgUrl",t)},expression:"form.imgUrl"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sortNum"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入排序"},model:{value:e.form.sortNum,callback:function(t){e.$set(e.form,"sortNum",t)},expression:"form.sortNum"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/baseconfig/banner/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/baseconfig/banner/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/baseconfig/banner",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/baseconfig/banner",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/baseconfig/banner/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/baseconfig/banner/export",method:"get",params:e})}var d={name:"Banner",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,bannerList:[],title:"",open:!1,bannerCategoryOptions:[],queryParams:{pageNum:1,pageSize:10,bannerCategory:null},form:{},rules:{bannerName:[{required:!0,message:"请输入标题",trigger:"blur"}],bannerCategory:[{required:!0,message:"请选择banner类别",trigger:"change"}],imgUrl:[{required:!0,message:"请上传图片",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_banner_type").then((function(t){e.bannerCategoryOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.bannerList=t.rows,e.total=t.total,e.loading=!1}))},bannerCategoryFormat:function(e,t){return this.selectDictLabel(this.bannerCategoryOptions,e.bannerCategory)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,bannerName:null,bannerCategory:null,imgUrl:null,sortNum:null,updateDate:null,createDate:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加轮播图"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改轮播图"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除轮播图编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有轮播图数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},d2be:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"88px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),a("el-form-item",{attrs:{label:"是否可用",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"发布时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangePublishTime,callback:function(t){e.daterangePublishTime=t},expression:"daterangePublishTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:article:add"],expression:"['baseconfig:article:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:article:edit"],expression:"['baseconfig:article:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:article:remove"],expression:"['baseconfig:article:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("router-link",{staticClass:"link-type",attrs:{to:"/system/dict-data/index/111",icon:"el-icon-setting"}},[e._v("设置文章类型")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.articleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title"}}),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"type"}}),a("el-table-column",{attrs:{label:"封面图片",align:"center",prop:"imgUrl"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px"},attrs:{fit:"cover",src:e.row.imgUrl}})]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),a("el-table-column",{attrs:{label:"关键字",align:"center",prop:"words"}}),a("el-table-column",{attrs:{label:"是否可用",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"排序",align:"center",prop:"sortNo"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:article:edit"],expression:"['baseconfig:article:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:article:remove"],expression:"['baseconfig:article:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"860px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择类型",clearable:"",size:"small"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"关键字",prop:"words"}},[a("el-input",{attrs:{placeholder:"请输入关键字"},model:{value:e.form.words,callback:function(t){e.$set(e.form,"words",t)},expression:"form.words"}})],1),a("el-form-item",{attrs:{label:"封面图片"}},[a("imageUpload",{model:{value:e.form.imgUrl,callback:function(t){e.$set(e.form,"imgUrl",t)},expression:"form.imgUrl"}})],1),a("el-form-item",{attrs:{label:"内容"}},[a("editor",{attrs:{"min-height":192},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),a("el-form-item",{attrs:{label:"是否可用"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"排序",prop:"sortNo"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入排序"},model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/baseconfig/article/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/baseconfig/article/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/baseconfig/article",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/baseconfig/article",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/baseconfig/article/"+e,method:"delete"})}var m={name:"Article",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,articleList:[],title:"",open:!1,statusOptions:[],typeOptions:[],daterangePublishTime:[],queryParams:{pageNum:1,pageSize:10,title:null,status:null,publishTime:null},form:{},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],remark:[{required:!0,message:"请输入备注",trigger:"blur"}],words:[{required:!0,message:"请输入关键词",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_article_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_article_type").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,this.queryParams.params={},null!=this.daterangePublishTime&&""!=this.daterangePublishTime&&(this.queryParams.params["beginPublishTime"]=this.daterangePublishTime[0],this.queryParams.params["endPublishTime"]=this.daterangePublishTime[1]),l(this.queryParams).then((function(t){e.articleList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,title:null,remark:null,words:null,content:null,status:"01",sortNo:0,createBy:null,createTime:null,updateBy:null,updateTime:null,publishBy:null,publishTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangePublishTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加精品案例"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改问精品案例"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除问精品案例编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleSettingType:function(){}}},d=m,p=a("2877"),f=Object(p["a"])(d,r,n,!1,null,null,null);t["default"]=f.exports},d31f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"选择门店",prop:"shopId"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},model:{value:e.queryParams.shopId,callback:function(t){e.$set(e.queryParams,"shopId",t)},expression:"queryParams.shopId"}},e._l(e.shopinfoList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.shopName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"购买用户",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入购买用户",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",{attrs:{label:"下单时间",prop:"orderTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择下单时间"},model:{value:e.queryParams.orderTime,callback:function(t){e.$set(e.queryParams,"orderTime",t)},expression:"queryParams.orderTime"}})],1),a("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[a("el-select",{attrs:{placeholder:"请选择订单状态",clearable:"",size:"small"},model:{value:e.queryParams.orderStatus,callback:function(t){e.$set(e.queryParams,"orderStatus",t)},expression:"queryParams.orderStatus"}},[a("el-option",{attrs:{value:"01",label:"待付款"}}),a("el-option",{attrs:{value:"02",label:"待收货"}}),a("el-option",{attrs:{value:"03",label:"已完成"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:order:remove"],expression:"['business:order:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:order:export"],expression:"['business:order:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:4}},[a("strong",[e._v("合计消费金额："+e._s(e.totalAmount)+" 元")])]),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.orderList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"购买用户",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"下单时间",align:"center",prop:"orderTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.orderTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"微信支付下单号",align:"center",prop:"outTradeNo"}}),a("el-table-column",{attrs:{label:"订单类型",align:"center",prop:"orderType",formatter:e.orderTypeFormat}}),a("el-table-column",{attrs:{label:"消费类型",align:"center",prop:"consumeType",formatter:e.consumeTypeFormat}}),a("el-table-column",{attrs:{label:"订单类型",align:"center",prop:"orderType",formatter:e.orderTypeFormat}}),a("el-table-column",{attrs:{label:"订单金额",align:"center",prop:"orderAmount"}}),a("el-table-column",{attrs:{label:"运费",align:"center",prop:"freightAmount"}}),a("el-table-column",{attrs:{label:"总金额",align:"center",prop:"sumAmount"}}),a("el-table-column",{attrs:{label:"支付类型",align:"center",prop:"payType",formatter:e.payTypeFormat}}),a("el-table-column",{attrs:{label:"支付时间",align:"center",prop:"payTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.payTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"orderStatus",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"orderStatus",formatter:e.orderStatusFormat}}),a("el-table-column",{attrs:{label:"物流单号",align:"center",prop:"logisticsCode"}}),a("el-table-column",{attrs:{label:"物流类型",align:"center",prop:"logisticsType"}}),a("el-table-column",{attrs:{label:"收货人姓名",align:"center",prop:"takeUser"}}),a("el-table-column",{attrs:{label:"收货人手机号",align:"center",prop:"takePhone"}}),a("el-table-column",{attrs:{label:"收货人地址",align:"center",prop:"takeAddress"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-info"},on:{click:function(a){return e.handleOrderDetail(t.row)}}},[e._v("详情")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:order:remove"],expression:"['business:order:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"02"===t.row.orderStatus,expression:"scope.row.orderStatus==='02'"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleSendGoods(t.row)}}},[e._v("发货")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"物流类型",prop:"logisticsType"}},[a("el-select",{attrs:{placeholder:"请选择物流类型"},model:{value:e.form.logisticsType,callback:function(t){e.$set(e.form,"logisticsType",t)},expression:"form.logisticsType"}},[a("el-option",{attrs:{label:"请选择字典生成",value:""}})],1)],1),a("el-form-item",{attrs:{label:"物流单号",prop:"logisticsCode"}},[a("el-input",{attrs:{placeholder:"请输入物流单号"},model:{value:e.form.logisticsCode,callback:function(t){e.$set(e.form,"logisticsCode",t)},expression:"form.logisticsCode"}})],1),a("el-form-item",{attrs:{label:"收货人姓名",prop:"takeUser"}},[a("el-input",{attrs:{placeholder:"请输入收货人姓名",disabled:!0},model:{value:e.form.takeUser,callback:function(t){e.$set(e.form,"takeUser",t)},expression:"form.takeUser"}})],1),a("el-form-item",{attrs:{label:"收货人手机号",prop:"takePhone"}},[a("el-input",{attrs:{placeholder:"请输入收货人手机号",disabled:!0},model:{value:e.form.takePhone,callback:function(t){e.$set(e.form,"takePhone",t)},expression:"form.takePhone"}})],1),a("el-form-item",{attrs:{label:"收货人地址",prop:"takeAddress"}},[a("el-input",{attrs:{placeholder:"请输入收货人地址",disabled:!0},model:{value:e.form.takeAddress,callback:function(t){e.$set(e.form,"takeAddress",t)},expression:"form.takeAddress"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"发货",visible:e.openPublish,width:"700px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.openPublish=t}}},[a("el-form",{ref:"sendForm",attrs:{model:e.sendForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"收货人姓名",prop:"takeUser"}},[a("el-input",{attrs:{placeholder:"请输入收货人姓名",readonly:""},model:{value:e.sendForm.takeUser,callback:function(t){e.$set(e.sendForm,"takeUser",t)},expression:"sendForm.takeUser"}})],1),a("el-form-item",{attrs:{label:"收货人手机号",prop:"takePhone"}},[a("el-input",{attrs:{placeholder:"请输入收货人手机号",readonly:""},model:{value:e.sendForm.takePhone,callback:function(t){e.$set(e.sendForm,"takePhone",t)},expression:"sendForm.takePhone"}})],1),a("el-form-item",{attrs:{label:"收货人地址",prop:"takeAddress"}},[a("el-input",{attrs:{placeholder:"请输入收货人地址",readonly:""},model:{value:e.sendForm.takeAddress,callback:function(t){e.$set(e.sendForm,"takeAddress",t)},expression:"sendForm.takeAddress"}})],1),a("el-form-item",{attrs:{label:"发货快递",prop:"logisticsType"}},[a("el-select",{attrs:{placeholder:"请选择发货快递"},model:{value:e.sendForm.logisticsType,callback:function(t){e.$set(e.sendForm,"logisticsType",t)},expression:"sendForm.logisticsType"}},e._l(e.logisticsTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"快递单号",prop:"logisticsCode"}},[a("el-input",{attrs:{placeholder:"请输入快递单号"},model:{value:e.sendForm.logisticsCode,callback:function(t){e.$set(e.sendForm,"logisticsCode",t)},expression:"sendForm.logisticsCode"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitSendForm}},[e._v("提 交")]),a("el-button",{on:{click:e.sendCancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"订单详情",visible:e.detailOpen,width:"750px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.detailOpen=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.orderItemList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"商品图片",align:"center",prop:"imgUrl"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"60px"},attrs:{fit:"cover",src:e.row.goodsImg}})]}}])}),a("el-table-column",{attrs:{label:"sku",align:"center",prop:"skuAttr"}}),a("el-table-column",{attrs:{label:"购买数量",align:"center",prop:"goodsNum"}}),a("el-table-column",{attrs:{label:"商品价格",align:"center",prop:"price"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.detailOpen=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d3b7"),a("159b"),a("d81d"),a("b946")),l=a("5433"),i=a("0e04"),s={name:"Order",data:function(){return{loading:!0,exportLoading:!1,ids:[],totalAmount:0,single:!0,multiple:!0,showSearch:!0,openPublish:!1,total:0,sendForm:{takeUser:void 0,takePhone:void 0,takeAddress:void 0,logisticsType:void 0,logisticsCode:void 0},orderList:[],logisticsTypeOptions:[],title:"",open:!1,detailOpen:!1,shopinfoList:[],orderItemList:[],consumeTypeOptions:[],orderTypeOptions:[],payTypeOptions:[],orderStatusOptions:[],queryParams:{pageNum:1,pageSize:10,userId:null,userName:null,productName:null,orderCode:null,orderTime:null,outTradeNo:null,consumeType:null,orderType:null,orderAmount:null,freightAmount:null,sumAmount:null,payType:null,payTime:null,orderStatus:null,logisticsCode:null,logisticsType:null,takeUser:null,takePhone:null,takeAddress:null},form:{},rules:{logisticsType:[{required:!0,message:"请选择快递类型",trigger:"blur"}],logisticsCode:[{required:!0,message:"请选择快递单号",trigger:"blur"}]}}},created:function(){var e=this;this.getDicts("sys_logistics_type").then((function(t){e.logisticsTypeOptions=t.data})),this.getShopList(),this.getList(),this.getDicts("order_info_consume_type").then((function(t){e.consumeTypeOptions=t.data})),this.getDicts("sys_order_type").then((function(t){e.orderTypeOptions=t.data})),this.getDicts("order_info_pay_type").then((function(t){e.payTypeOptions=t.data})),this.getDicts("sys_order_status").then((function(t){e.orderStatusOptions=t.data}))},methods:{statusFormat:function(e){return this.selectDictLabel(this.orderStatusOptions,e.orderStatus)},getList:function(){var e=this;this.loading=!0,this.totalAmount=0,Object(o["e"])(this.queryParams).then((function(t){e.orderList=t.rows,e.orderList.forEach((function(t){e.totalAmount+=parseFloat(t.sumAmount)})),e.total=t.total,e.loading=!1}))},getShopList:function(){var e=this;Object(i["f"])({}).then((function(t){e.shopinfoList=t.rows}))},consumeTypeFormat:function(e,t){return this.selectDictLabel(this.consumeTypeOptions,e.consumeType)},orderTypeFormat:function(e,t){return this.selectDictLabel(this.orderTypeOptions,e.orderType)},payTypeFormat:function(e,t){return this.selectDictLabel(this.payTypeOptions,e.payType)},orderStatusFormat:function(e,t){return this.selectDictLabel(this.orderStatusOptions,e.orderStatus)},cancel:function(){this.open=!1,this.reset()},sendCancel:function(){this.openPublish=!1},reset:function(){this.form={id:null,userId:null,userName:null,productName:null,orderCode:null,orderTime:null,outTradeNo:null,consumeType:null,orderType:null,orderAmount:null,freightAmount:null,sumAmount:null,payType:null,payTime:null,orderStatus:"0",logisticsCode:null,logisticsType:null,takeUser:null,takePhone:null,takeAddress:null,createTime:null,createBy:null,updateTime:null,updateBy:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加订单信息"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改订单信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(o["f"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},submitSendForm:function(){var e=this;this.$refs["sendForm"].validate((function(t){t&&Object(o["g"])(e.sendForm).then((function(t){e.msgSuccess("操作成功"),e.openPublish=!1,e.getList()}))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除订单信息编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有订单信息数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},handleSendGoods:function(e){this.openPublish=!0,this.sendForm.id=e.id,this.sendForm.takeUser=e.takeUser,this.sendForm.takePhone=e.takePhone,this.sendForm.takeAddress=e.takeAddress,this.sendForm.logisticsType="",this.sendForm.logisticsCode=""},handleOrderDetail:function(e){var t=this;this.detailOpen=!0,Object(l["e"])({orderId:e.id}).then((function(e){t.orderItemList=e.rows,t.loading=!1}))}}},c=s,u=a("2877"),m=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=m.exports},d43d:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var r=a("b775");function n(e){return Object(r["a"])({url:"/exam/item/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/exam/item/"+e,method:"get"})}function l(e){return Object(r["a"])({url:"/exam/item",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/exam/item",method:"put",data:e})}function s(e){return Object(r["a"])({url:"/exam/item/"+e,method:"delete"})}function c(e){return Object(r["a"])({url:"/exam/item/export",method:"get",params:e})}},dd7b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[a("h3",{staticClass:"title"},[e._v("小象美业管理系统")]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e.captchaOnOff?a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),a("div",{staticClass:"login-code"},[a("img",{staticClass:"login-code-img",attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1):e._e(),a("el-checkbox",{staticStyle:{margin:"0px 0px 25px 0px"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?a("span",[e._v("登 录 中...")]):a("span",[e._v("登 录")])]),e.register?a("div",{staticStyle:{float:"right"}},[a("router-link",{staticClass:"link-type",attrs:{to:"/register"}},[e._v("立即注册")])],1):e._e()],1)],1),e._m(0)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-login-footer"},[a("span",[e._v("Copyright © 2018-2021 ruoyi.vip All Rights Reserved.")])])}],o=a("7ded"),l=a("a78e"),i=a.n(l),s=a("24e5"),c=a.n(s),u="MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdH\nnzkXSOVOZbFu/TJhZ7rFAN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQ==",m="MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAqhHyZfSsYourNxaY\n7Nt+PrgrxkiA50efORdI5U5lsW79MmFnusUA355oaSXcLhu5xxB38SMSyP2KvuKN\nPuH3owIDAQABAkAfoiLyL+Z4lf4Myxk6xUDgLaWGximj20CUf+5BKKnlrK+Ed8gA\nkM0HqoTt2UZwA5E2MzS4EI2gjfQhz5X28uqxAiEA3wNFxfrCZlSZHb0gn2zDpWow\ncSxQAgiCstxGUoOqlW8CIQDDOerGKH5OmCJ4Z21v+F25WaHYPxCFMvwxpcw99Ecv\nDQIgIdhDTIqD2jfYjPTY8Jj3EDGPbH2HHuffvflECt3Ek60CIQCFRlCkHpi7hthh\nYhovyloRYsM+IS9h/0BzlEAuO0ktMQIgSPT3aFAgJYwKpqRYKlLDVcflZFCKY7u3\nUP8iWi1Qw0Y=";function d(e){var t=new c.a;return t.setPublicKey(u),t.encrypt(e)}function p(e){var t=new c.a;return t.setPrivateKey(m),t.decrypt(e)}var f={name:"Login",data:function(){return{codeUrl:"",cookiePassword:"",loginForm:{username:"",password:"",rememberMe:!1,code:"",uuid:""},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"}],code:[{required:!0,trigger:"change",message:"请输入验证码"}]},loading:!1,captchaOnOff:!0,register:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.getCode(),this.getCookie()},methods:{getCode:function(){var e=this;Object(o["a"])().then((function(t){e.captchaOnOff=void 0===t.captchaOnOff||t.captchaOnOff,e.captchaOnOff&&(e.codeUrl="data:image/gif;base64,"+t.img,e.loginForm.uuid=t.uuid)}))},getCookie:function(){var e=i.a.get("username"),t=i.a.get("password"),a=i.a.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:p(t),rememberMe:void 0!==a&&Boolean(a)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.loginForm.rememberMe?(i.a.set("username",e.loginForm.username,{expires:30}),i.a.set("password",d(e.loginForm.password),{expires:30}),i.a.set("rememberMe",e.loginForm.rememberMe,{expires:30})):(i.a.remove("username"),i.a.remove("password"),i.a.remove("rememberMe")),e.$store.dispatch("Login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"}).catch((function(){}))})).catch((function(){e.loading=!1,e.captchaOnOff&&e.getCode()})))}))}}},h=f,b=(a("eecc"),a("2877")),g=Object(b["a"])(h,r,n,!1,null,null,null);t["default"]=g.exports},de0a:function(e){e.exports=JSON.parse('["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"]')},dfbc:function(e,t,a){},e7d0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"绑定号码",prop:"userPhone"}},[a("el-input",{attrs:{placeholder:"请输入绑定号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userPhone,callback:function(t){e.$set(e.queryParams,"userPhone",t)},expression:"queryParams.userPhone"}})],1),a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.orderCode,callback:function(t){e.$set(e.queryParams,"orderCode",t)},expression:"queryParams.orderCode"}})],1),a("el-form-item",{attrs:{label:"下单时间",prop:"orderTime"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.queryParams.orderTimeAry,callback:function(t){e.$set(e.queryParams,"orderTimeAry",t)},expression:"queryParams.orderTimeAry"}})],1),a("el-form-item",{attrs:{label:"关键字",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入关键字，可查询备注信息",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.remark,callback:function(t){e.$set(e.queryParams,"remark",t)},expression:"queryParams.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:order:export"],expression:"['business:order:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.orderList,"show-summary":"","summary-method":e.getSummaries},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"编号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"门店",align:"center",prop:"shopName"}}),a("el-table-column",{attrs:{label:"购买用户",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"绑定号码",align:"center",prop:"userPhone"}}),a("el-table-column",{attrs:{label:"订单编号",align:"center",prop:"orderCode"}}),a("el-table-column",{attrs:{label:"下单时间",align:"center",prop:"orderTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.orderTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"总金额",align:"center",prop:"sumAmount"}}),a("el-table-column",{attrs:{label:"余额支付",align:"center",prop:"payment1"}}),a("el-table-column",{attrs:{label:"产品账户支付",align:"center",prop:"payment2"}}),a("el-table-column",{attrs:{label:"现金支付",align:"center",prop:"payment3"}}),a("el-table-column",{attrs:{label:"银行卡支付",align:"center",prop:"payment4"}}),a("el-table-column",{attrs:{label:"挂账支付",align:"center",prop:"payment5"}}),a("el-table-column",{attrs:{label:"免费支付",align:"center",prop:"payment6"}}),a("el-table-column",{attrs:{label:"微信支付",align:"center",prop:"payment7"}}),a("el-table-column",{attrs:{label:"支付宝支付",align:"center",prop:"payment8"}}),a("el-table-column",{attrs:{label:"支付时间",align:"center",prop:"payTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.payTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"orderStatus",formatter:e.orderStatusFormat}}),a("el-table-column",{attrs:{label:"备注信息",align:"center",prop:"remark"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"80%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[a("el-input",{attrs:{placeholder:"请输入用户ID"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"购买用户",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入购买用户"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName",t)},expression:"form.productName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单编号",prop:"orderCode"}},[a("el-input",{attrs:{placeholder:"请输入订单编号"},model:{value:e.form.orderCode,callback:function(t){e.$set(e.form,"orderCode",t)},expression:"form.orderCode"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下单时间",prop:"orderTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择下单时间"},model:{value:e.form.orderTime,callback:function(t){e.$set(e.form,"orderTime",t)},expression:"form.orderTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信支付下单号",prop:"outTradeNo"}},[a("el-input",{attrs:{placeholder:"请输入微信支付下单号"},model:{value:e.form.outTradeNo,callback:function(t){e.$set(e.form,"outTradeNo",t)},expression:"form.outTradeNo"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"消费类型",prop:"consumeType"}},[a("el-select",{attrs:{placeholder:"请选择消费类型"},model:{value:e.form.consumeType,callback:function(t){e.$set(e.form,"consumeType",t)},expression:"form.consumeType"}},e._l(e.consumeTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单类型",prop:"orderType"}},[a("el-select",{attrs:{placeholder:"请选择订单类型"},model:{value:e.form.orderType,callback:function(t){e.$set(e.form,"orderType",t)},expression:"form.orderType"}},e._l(e.orderTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单金额",prop:"orderAmount"}},[a("el-input",{attrs:{placeholder:"请输入订单金额"},model:{value:e.form.orderAmount,callback:function(t){e.$set(e.form,"orderAmount",t)},expression:"form.orderAmount"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"运费",prop:"freightAmount"}},[a("el-input",{attrs:{placeholder:"请输入运费"},model:{value:e.form.freightAmount,callback:function(t){e.$set(e.form,"freightAmount",t)},expression:"form.freightAmount"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"总金额",prop:"sumAmount"}},[a("el-input",{attrs:{placeholder:"请输入总金额"},model:{value:e.form.sumAmount,callback:function(t){e.$set(e.form,"sumAmount",t)},expression:"form.sumAmount"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支付类型",prop:"payType"}},[a("el-select",{attrs:{placeholder:"请选择支付类型"},model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},e._l(e.payTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:parseInt(e.dictValue)}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支付时间",prop:"payTime"}},[a("el-date-picker",{attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择支付时间"},model:{value:e.form.payTime,callback:function(t){e.$set(e.form,"payTime",t)},expression:"form.payTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单状态"}},[a("el-radio-group",{model:{value:e.form.orderStatus,callback:function(t){e.$set(e.form,"orderStatus",t)},expression:"form.orderStatus"}},e._l(e.orderStatusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物流单号",prop:"logisticsCode"}},[a("el-input",{attrs:{placeholder:"请输入物流单号"},model:{value:e.form.logisticsCode,callback:function(t){e.$set(e.form,"logisticsCode",t)},expression:"form.logisticsCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物流类型",prop:"logisticsType"}},[e._v(" "+e._s(e.form.logisticsType)+" ")])],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货人姓名",prop:"takeUser"}},[a("el-input",{attrs:{placeholder:"请输入收货人姓名"},model:{value:e.form.takeUser,callback:function(t){e.$set(e.form,"takeUser",t)},expression:"form.takeUser"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货人手机号",prop:"takePhone"}},[a("el-input",{attrs:{placeholder:"请输入收货人手机号"},model:{value:e.form.takePhone,callback:function(t){e.$set(e.form,"takePhone",t)},expression:"form.takePhone"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"收货人地址",prop:"takeAddress"}},[a("el-input",{attrs:{placeholder:"请输入收货人地址"},model:{value:e.form.takeAddress,callback:function(t){e.$set(e.form,"takeAddress",t)},expression:"form.takeAddress"}})],1)],1)],1)],1),e.form.orderItemList.length>0?a("el-row",[a("el-table",{attrs:{data:e.form.orderItemList}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"productName"}}),a("el-table-column",{attrs:{label:"图片",align:"center",prop:"goodsImg"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.goodsImg,fit:e.fit}})]}}],null,!1,2820423175)}),a("el-table-column",{attrs:{label:"商品数量",align:"center",prop:"goodsNum"}}),a("el-table-column",{attrs:{label:"商品价格",align:"center",prop:"price"}}),a("el-table-column",{attrs:{label:"规格",align:"center",prop:"skuAttr"}})],1)],1):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("关 闭")])],1)],1)],1)},n=[],o=(a("d81d"),a("d3b7"),a("159b"),a("a9e3"),a("b946")),l=a("ebf6"),i={name:"Order",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,orderList:[],title:"",open:!1,consumeTypeOptions:[],orderTypeOptions:[],payTypeOptions:[],orderStatusOptions:[],queryParams:{pageNum:1,pageSize:10,userId:null,userName:null,productName:null,orderCode:null,orderTime:null,outTradeNo:null,consumeType:"02",orderType:null,orderAmount:null,freightAmount:null,sumAmount:null,payType:null,payTime:null,orderStatus:null,logisticsCode:null,logisticsType:null,takeUser:null,takePhone:null,takeAddress:null},form:{orderItemList:[]},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("order_info_consume_type").then((function(t){e.consumeTypeOptions=t.data})),this.getDicts("sys_order_type").then((function(t){e.orderTypeOptions=t.data})),this.getDicts("order_info_pay_type").then((function(t){e.payTypeOptions=t.data})),this.getDicts("sys_item_order_status").then((function(t){e.orderStatusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(l["g"])(this.queryParams).then((function(t){e.orderList=t.rows,e.total=t.total,e.loading=!1}))},consumeTypeFormat:function(e,t){return this.selectDictLabel(this.consumeTypeOptions,e.consumeType)},orderTypeFormat:function(e,t){return this.selectDictLabel(this.orderTypeOptions,e.orderType)},payTypeFormat:function(e,t){return this.selectDictLabel(this.payTypeOptions,e.payType)},orderStatusFormat:function(e,t){return console.log(this.orderStatusOptions,"orderStatusOptions"),this.selectDictLabel(this.orderStatusOptions,e.orderStatus)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,userId:null,userName:null,productName:null,orderCode:null,orderTime:null,outTradeNo:null,consumeType:"02",orderType:null,orderAmount:null,freightAmount:null,sumAmount:null,payType:null,payTime:null,orderStatus:"0",logisticsCode:null,logisticsType:null,takeUser:null,takePhone:null,takeAddress:null,createTime:null,createBy:null,updateTime:null,updateBy:null,orderItemList:[]},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加订单信息"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改订单信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(o["f"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除订单信息编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有订单信息数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,Object(o["c"])(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},getSummaries:function(e){var t=e.columns,a=e.data,r=[];return t.forEach((function(e,t){if(2!==t){var n=a.map((function(t){return Number(t[e.property])}));n.every((function(e){return isNaN(e)}))||"userPhone"==e.property||"orderStatus"==e.property||"remark"==e.property?r[t]="":(r[t]=n.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0),r[t]+=" 元")}else r[t]="总价"})),r}}},s=i,c=a("2877"),u=Object(c["a"])(s,r,n,!1,null,null,null);t["default"]=u.exports},ea55:function(e,t,a){},eab4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],o=a("313e"),l=a.n(o),i=a("feb2");a("817d");var s={mixins:[i["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=l.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=s,u=a("2877"),m=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=m.exports},ebf6:function(e,t,a){"use strict";a.d(t,"i",(function(){return n})),a.d(t,"g",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"h",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"l",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"j",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return f})),a.d(t,"d",(function(){return h}));var r=a("b775");function n(e){return Object(r["a"])({url:"/business/itemorder/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/business/itemorder//getPayOrderItemList",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/business/itemorder/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/business/itemorder/queryUserByPhone/"+e,method:"get"})}function s(e){return Object(r["a"])({url:"/business/itemorder",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/business/itemorder",method:"put",data:e})}function u(e){return Object(r["a"])({url:"/business/itemorder/resetItemorder",method:"put",data:e})}function m(e){return Object(r["a"])({url:"/business/itemorder/"+e,method:"delete"})}function d(e){return Object(r["a"])({url:"/business/itemorder/paymentItemorder/"+e,method:"get"})}function p(e){return Object(r["a"])({url:"/business/itemorder/export",method:"get",params:e})}function f(e){return Object(r["a"])({url:"/business/itemorder/addNumberCardorder",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/business/itemorder/editNumberCardorder",method:"post",data:e})}},ec01:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u}));var r=a("b775");function n(e){return Object(r["a"])({url:"/goods/sku/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/goods/sku/allGoodsList",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/goods/sku/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/goods/sku",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/goods/sku",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/goods/sku/"+e,method:"delete"})}function u(e){return Object(r["a"])({url:"/goods/sku/export",method:"get",params:e})}},ec55:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"arrow-left"},on:{click:e.back}},[e._v(" 返回 ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v(" 401错误! ")]),a("h2",[e._v("您没有访问权限！")]),a("h6",[e._v("对不起，您没有访问权限，请不要进行非法操作！您可以返回主页面")]),a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/"}},[e._v(" 回首页 ")])],1)])]),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1)],1)},n=[],o=a("cc6c"),l=a.n(o),i={name:"Page401",data:function(){return{errGif:l.a+"?"+ +new Date}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/"}):this.$router.go(-1)}}},s=i,c=(a("ecf6"),a("2877")),u=Object(c["a"])(s,r,n,!1,null,"f2e02586",null);t["default"]=u.exports},ecf6:function(e,t,a){"use strict";a("c0ed")},ed45:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"h",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"f",(function(){return m}));var r=a("b775");function n(e){return Object(r["a"])({url:"/system/dict/type/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/system/dict/type/"+e,method:"get"})}function l(e){return Object(r["a"])({url:"/system/dict/type",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/system/dict/type",method:"put",data:e})}function s(e){return Object(r["a"])({url:"/system/dict/type/"+e,method:"delete"})}function c(){return Object(r["a"])({url:"/system/dict/type/refreshCache",method:"delete"})}function u(e){return Object(r["a"])({url:"/system/dict/type/export",method:"get",params:e})}function m(){return Object(r["a"])({url:"/system/dict/type/optionselect",method:"get"})}},ed69:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"basicInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.info.tableName,callback:function(t){e.$set(e.info,"tableName",t)},expression:"info.tableName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.tableComment,callback:function(t){e.$set(e.info,"tableComment",t)},expression:"info.tableComment"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实体类名称",prop:"className"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.className,callback:function(t){e.$set(e.info,"className",t)},expression:"info.className"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作者",prop:"functionAuthor"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.functionAuthor,callback:function(t){e.$set(e.info,"functionAuthor",t)},expression:"info.functionAuthor"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1)],1)],1)},n=[],o={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tableName:[{required:!0,message:"请输入表名称",trigger:"blur"}],tableComment:[{required:!0,message:"请输入表描述",trigger:"blur"}],className:[{required:!0,message:"请输入实体类名称",trigger:"blur"}],functionAuthor:[{required:!0,message:"请输入作者",trigger:"blur"}]}}}},l=o,i=a("2877"),s=Object(i["a"])(l,r,n,!1,null,null,null);t["default"]=s.exports},ee46:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password","show-password":""},model:{value:e.user.oldPassword,callback:function(t){e.$set(e.user,"oldPassword",t)},expression:"user.oldPassword"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password","show-password":""},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{placeholder:"请确认密码",type:"password","show-password":""},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},n=[],o=a("c0c7"),l={data:function(){var e=this,t=function(t,a,r){e.user.newPassword!==a?r(new Error("两次输入的密码不一致")):r()};return{test:"1test",user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(o["v"])(e.user.oldPassword,e.user.newPassword).then((function(t){e.msgSuccess("修改成功")}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},i=l,s=a("2877"),c=Object(s["a"])(i,r,n,!1,null,null,null);t["default"]=c.exports},eecc:function(e,t,a){"use strict";a("2912")},f794:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.menuName,callback:function(t){e.$set(e.queryParams,"menuName",t)},expression:"queryParams.menuName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"菜单状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:add"],expression:"['system:menu:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.menuList,"row-key":"menuId","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称","show-overflow-tooltip":!0,width:"160"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}])}),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"60"}}),a("el-table-column",{attrs:{prop:"perms",label:"权限标识","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"component",label:"组件路径","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"80"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:edit"],expression:"['system:menu:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:add"],expression:"['system:menu:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:remove"],expression:"['system:menu:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"680px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级菜单"}},[a("treeselect",{attrs:{options:e.menuOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[a("el-radio-group",{model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("el-radio",{attrs:{label:"M"}},[e._v("目录")]),a("el-radio",{attrs:{label:"C"}},[e._v("菜单")]),a("el-radio",{attrs:{label:"F"}},[e._v("按钮")])],1)],1)],1),a("el-col",{attrs:{span:24}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1):e._e()],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"选择是外链则路由地址需要以`http(s)://`开头",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 是否外链 ")],1),a("el-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},[a("el-radio",{attrs:{label:"0"}},[e._v("是")]),a("el-radio",{attrs:{label:"1"}},[e._v("否")])],1)],1):e._e()],1),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{prop:"path"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"访问的路由地址，如：`user`，如外网地址需内链访问则以`http(s)://`开头",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 路由地址 ")],1),a("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e()],1),"C"==e.form.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"component"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"访问的组件路径，如：`system/user/index`，默认在`views`目录下",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 组件路径 ")],1),a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1):e._e(),a("el-col",{attrs:{span:12}},["M"!=e.form.menuType?a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入权限标识",maxlength:"100"},model:{value:e.form.perms,callback:function(t){e.$set(e.form,"perms",t)},expression:"form.perms"}}),a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasPermi('system:user:list')`)",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 权限字符 ")],1)],1):e._e()],1),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"选择隐藏则路由将不会出现在侧边栏，但仍然可以访问",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 显示状态 ")],1),a("el-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.visibleOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1):e._e()],1),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"选择停用则路由将不会出现在侧边栏，也不能被访问",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 菜单状态 ")],1),a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1):e._e()],1),a("el-col",{attrs:{span:12}},["C"==e.form.menuType?a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:"选择是则会被`keep-alive`缓存，需要匹配组件的`name`和地址保持一致",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" 是否缓存 ")],1),a("el-radio-group",{model:{value:e.form.isCache,callback:function(t){e.$set(e.form,"isCache",t)},expression:"form.isCache"}},[a("el-radio",{attrs:{label:"0"}},[e._v("缓存")]),a("el-radio",{attrs:{label:"1"}},[e._v("不缓存")])],1)],1):e._e()],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=a("a6dc"),l=a("ca17"),i=a.n(l),s=(a("542c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,r){return a("div",{key:r,on:{click:function(a){return e.selectedIcon(t)}}},[a("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),a("span",[e._v(e._s(t))])],1)})),0)],1)}),c=[],u=(a("b0c0"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("ddb0"),a("d81d"),a("ac1f"),a("466d"),a("23f1")),m=function(e){return e.keys()},d=/\.\/(.*)\.svg/,p=m(u).map((function(e){return e.match(d)[1]})),f=p,h={name:"IconSelect",data:function(){return{name:"",iconList:f}},methods:{filterIcons:function(){var e=this;this.iconList=f,this.name&&(this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})))},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=f}}},b=h,g=(a("bce5"),a("2877")),v=Object(g["a"])(b,s,c,!1,null,"0273f142",null),y=v.exports,w={name:"Menu",components:{Treeselect:i.a,IconSelect:y},data:function(){return{loading:!0,showSearch:!0,menuList:[],menuOptions:[],title:"",open:!1,visibleOptions:[],statusOptions:[],queryParams:{menuName:void 0,visible:void 0},form:{},rules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],path:[{required:!0,message:"路由地址不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_show_hide").then((function(t){e.visibleOptions=t.data})),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{selected:function(e){this.form.icon=e},getList:function(){var e=this;this.loading=!0,Object(o["d"])(this.queryParams).then((function(t){e.menuList=e.handleTree(t.data,"menuId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.menuName,children:e.children}},getTreeselect:function(){var e=this;Object(o["d"])().then((function(t){e.menuOptions=[];var a={menuId:0,menuName:"主类目",children:[]};a.children=e.handleTree(t.data,"menuId"),e.menuOptions.push(a)}))},visibleFormat:function(e,t){return"F"==e.menuType?"":this.selectDictLabel(this.visibleOptions,e.visible)},statusFormat:function(e,t){return"F"==e.menuType?"":this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={menuId:void 0,parentId:0,menuName:void 0,icon:void 0,menuType:"M",orderNum:void 0,isFrame:"1",isCache:"0",visible:"0",status:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&e.menuId?this.form.parentId=e.menuId:this.form.parentId=0,this.open=!0,this.title="添加菜单"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(o["c"])(e.menuId).then((function(e){t.form=e.data,t.open=!0,t.title="修改菜单"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.menuId?Object(o["g"])(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(o["a"])(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.menuName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.menuId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},x=w,k=Object(g["a"])(x,r,n,!1,null,null,null);t["default"]=k.exports},f94e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:question:add"],expression:"['baseconfig:question:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:question:edit"],expression:"['baseconfig:question:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:question:remove"],expression:"['baseconfig:question:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:question:export"],expression:"['baseconfig:question:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:e.exportLoading},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.questionList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title"}}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),a("el-table-column",{attrs:{label:"关键字",align:"center",prop:"words"}}),a("el-table-column",{attrs:{label:"是否可用",align:"center",prop:"status",formatter:e.statusFormat}}),a("el-table-column",{attrs:{label:"排序",align:"center",prop:"sortNo"}}),a("el-table-column",{attrs:{label:"创建人",align:"center",prop:"createBy"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:question:edit"],expression:"['baseconfig:question:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["baseconfig:question:remove"],expression:"['baseconfig:question:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"关键字",prop:"words"}},[a("el-input",{attrs:{placeholder:"请输入关键字"},model:{value:e.form.words,callback:function(t){e.$set(e.form,"words",t)},expression:"form.words"}})],1),a("el-form-item",{attrs:{label:"内容"}},[a("editor",{attrs:{"min-height":192},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),a("el-form-item",{attrs:{label:"是否可用"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),a("el-form-item",{attrs:{label:"排序",prop:"sortNo"}},[a("el-input",{attrs:{placeholder:"请输入排序"},model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],o=(a("d81d"),a("b775"));function l(e){return Object(o["a"])({url:"/baseconfig/question/list",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/baseconfig/question/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/baseconfig/question",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/baseconfig/question",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/baseconfig/question/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/baseconfig/question/export",method:"get",params:e})}var d={name:"Question",data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,questionList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,title:null},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,l(this.queryParams).then((function(t){e.questionList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,title:null,remark:null,words:null,content:null,status:"0",sortNo:null,createBy:null,createTime:null,updateBy:null,updateTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加问题管理"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改问题管理"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.msgSuccess("修改成功"),e.open=!1,e.getList()})):s(e.form).then((function(t){e.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除问题管理编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有问题管理数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.exportLoading=!0,m(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,r,n,!1,null,null,null);t["default"]=h.exports},fbc4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 访客 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 消息 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 金额 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("shoppings")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" 订单 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},n=[],o=a("ec1b"),l=a.n(o),i={components:{CountTo:l.a},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},s=i,c=(a("26ab"),a("2877")),u=Object(c["a"])(s,r,n,!1,null,"0ac8ac4e",null);t["default"]=u.exports},fcb7:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"g",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"b",(function(){return m}));var r=a("b775");function n(e){return Object(r["a"])({url:"/system/dept/list",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/system/dept/list/exclude/"+e,method:"get"})}function l(e){return Object(r["a"])({url:"/system/dept/"+e,method:"get"})}function i(){return Object(r["a"])({url:"/system/dept/treeselect",method:"get"})}function s(e){return Object(r["a"])({url:"/system/dept/roleDeptTreeselect/"+e,method:"get"})}function c(e){return Object(r["a"])({url:"/system/dept",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/system/dept",method:"put",data:e})}function m(e){return Object(r["a"])({url:"/system/dept/"+e,method:"delete"})}},fcc6:function(e,t,a){},feb2:function(e,t,a){"use strict";a.r(t);var r=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},initListener:function(){var e=this;this.$_resizeHandler=Object(r["c"])((function(){e.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var e=this.chart;e&&e.resize()}}}}}]);